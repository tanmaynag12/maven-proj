/**
 * @function(s) 1.
 */

/**
 * @globals
 * 
 */
var gStudentsIds = new Array();
/** it contains comma separated ids of the selected students */
var gStudentBatchIds = new Array();
var gStudentStatusArray = '';
var gStudentListJsonArray = '';
var gNonFresherOptions = '';

var lastFunctionCalled = '';


$('document').ready(function() {
	var fileSize = (AllowedFileSize.DOCUMENT_UPLOAD)/(1024*1024);

	$('#fileSizeAllowed').html(fileSize);

	$('#btnStudentTableRefresh').click(function(){
		eval(lastFunctionCalled);
		gStudentsIds = new Array();
		gStudentBatchIds = new Array();
	});

	$('#studenRollNoAllocationDialog').modal({
		backdrop : 'static',
		keyboard : false,
		show : false
	}).css({
		width : '500px',
		'margin-left' : function() {
			return -($(this).width() / 2);
		}
	});

	$('#allocateDivisionWithRollNos').modal({
		backdrop : 'static',
		keyboard : false,
		show : false
	}).css({
		width : '500px',
		'margin-left' : function() {
			return -($(this).width() / 2);
		}
	});


	$('#studenArrangementOptionsDialog').modal({
		backdrop : 'static',
		keyboard : false,
		show : false
	}).css({
		width : '500px',
		'margin-left' : function() {
			return -($(this).width() / 2);
		}
	});


	$('#dialogAddStudent').modal({
		backdrop : 'static',
		keyboard : false,
		show : false
	}).css({
		width : '800px',
		'margin-left' : function() {
			return -($(this).width() / 2);
		}
	});

	$('#dialogEditStudent').modal({
		backdrop : 'static',
		keyboard : false,
		show : false
	}).css({
		width : '500px',
		'margin-left' : function() {
			return -($(this).width() / 2);
		}
	});

	$('#divStudentPromotionDialog').modal({
		backdrop : 'static',
		keyboard : false,
		show : false
	}).css({
		width : '1000px',
		'margin-left' : function() {
			return -($(this).width() / 2);
		}
	});

/*	$('#changeStudentStatusDialog').css({
		width : '600px',
		'margin-left' : function() {
			return -($(this).width() / 2);
		}
	});
	*/
	$("#transferWEF").datepicker({
		dateFormat: "M dd,yy",
	});
	
	$("#deptTransferWEF").datepicker({
		dateFormat: "M dd,yy",
	});
	
	$("#importWEF").datepicker({
		dateFormat: "M dd,yy",
	});

	$('.studentSelectOptionTable').find('select').each(function(){
		$(this).change(function(){
			clearStudentGrid();
			if($(this).attr('id') == 'cbSemesterId'){
				$('#cbAcademicSessionId option')[0].selected = true;
				$('#cbBatchId option')[0].selected = true;
				$('#hdnBatchCapacity').val('0');
			} 
		});
	});

	var role = $('#hdnUserRole').val();

	if(role == 'examAdmin'){
		getStreamListFromManageStudentLevel1('cmbUniversityId');
		getQualificationListFromManageStudentLevel1('cmbQualification');
	}
	
	$('#editStudentRecordDialog').modal({
		backdrop : 'static',
		keyboard : false,
		show : false
	}).css({
		width : '800px',
		'margin-left' : function() {
			return -($(this).width() / 2);
		}
	});
	
	$('.chkPrint').click(function(){
		if($('.chkPrint:checked').length == 14){
		$('.allchk').attr('checked',true);
		}else{
		$('.allchk').attr('checked',false);
		}
	});
	
	$( "#txtAdmissionCancelDate" ).datepicker({
		dateFormat:"M d,yy",
		minViewMode: 0,
		autoclose: true,
		todayHighlight: true
	});
	
	var customerIdentificationObj = $('#customerIdentificationObj').val();
	if(customerIdentificationObj == 'IMT_NAGPUR' || customerIdentificationObj == 'IMT_GAZIABAD' || customerIdentificationObj == 'IMT_HYDERABAD' ){
		$('#radioOverAllRollNoAssignment').attr('checked', true);
		rollNoAllocationType();
		$('.filterOptionsForRollNo').hide();	
	}
	
	$('#uploadorderNo').click(function(){
		uploadOrderNo();
		
	});
	
	
});

/**
 * @since 30 Apr 2012
 * @author vimal
 * @purpose to populate batch from institute course strength table
 */
function populateBatch() {
	var id = $('#cbInstiCourseId').val();
	instiCourseId = id.split('-')[0];
	if (!isNaN(instiCourseId) && instiCourseId != 0) {

		$.ajax({
			url : 'getBatchSessionList.json?instiCourseId=' + instiCourseId,
			async : false,
			dataType : 'json',
			success : function(jArray) {
				var len = jArray.length;
				var boiler = '<option value = "0">Select</option>';
				for ( var i = 0; i < len; i++) {
					boiler += '<option value = '
						+ jArray[i]['instituteCourseStrengthId'] + '>'
						+ jArray[i]['fromAcademicYear'] + '-'
						+ jArray[i]['toAcademicYear'] + '</option>';
				}
				$('#cbInstiCourseStrengthId').html(boiler);
			},
			error : function() {

			}
		});
	}
}

function downloadEmployeeFormat() {
	window.open("studentUploadFormat.json");
}

function getBatchSemesterId() {
	var batchId = $('#cbBatchId').val();
	batchSemesterId = batchId.split('-')[2];
	return batchSemesterId;
}

/**
 * 
 * @param type
 * @deprecated
 */
function studentUploadGrid(type) {}

function showStudentListBySemester(semId, batchId) {
	var academicSession = $('#cbAcademicSessionId').val();
	////alert("semId: " + semId + ' batchId: ' + batchId + ' academicSession='+ academicSession);
	if (semId != '0' && batchId != '0' && academicSession != '') {
		$.ajax({
			url : 'studentListBySemester.json',
			data : {
				semNo : semId,
				batchId : batchId,
				academicSession : academicSession
			},
			dataType : 'json',
			beforeSend : function() {
				startCommonAjaxSpinner();

			},
			complete : function() {
				stopCommonAjaxSpinner();
			},
			success : function(jArray) {
				gStudentListJsonArray = jArray;
				showStudentListInGrid();
				try {
					showStudentListInSourcePromotionGrid(jArray);
				} catch (e) {

				}
			},
			error : function() {
				// //////////alert("In student data grid error");
			}
		});
	}
}

/**
 * 
 * @param sortingParam:
 *            Sorting parameter, e.g: firstName, lastName etc
 * @param namingOrder:
 *            naming order of the student. e.g: if firstName on first place:
 *            value should be 1 if middle Name on first place: value should be 2
 *            and if last name on first place: value should be 3
 */
 
var currentUrlCalledMap = new Map();

function showStudentListByCourseSemeserAndDivision(sortingParam,namingOrderValue,semesterBatchId, callback) {
	
	$('.hideshow').show(); 
	lastFunctionCalled = "showStudentListByCourseSemeserAndDivision('"+sortingParam+"',"+namingOrderValue+","+semesterBatchId+","+callback+")";
	gStudentsIds = new Array();
	gStudentBatchIds = new Array();
	var url = '';
	if (semesterBatchId == undefined) {
		semesterBatchId = getSemesterBatchId();
	}
	if (semesterBatchId == undefined) {
		var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
		if(instituteCourseStrengthId.toLowerCase() != 'select'){
			var shiftType = $('#shiftType').val();

			if ($('#chkNewStudent').is(':checked')) {
				url = 'fresherStudentListByBatchSP.json?batchId='+ instituteCourseStrengthId+'&shift='+shiftType;
				if (sortingParam != undefined)
					url = 'fresherStudentListByBatchSP.json?batchId='+ instituteCourseStrengthId + '&sortingParam='+ sortingParam+'&shift='+shiftType;
			}
		}
	} else if (semesterBatchId != undefined) {
		url = 'studentListSP.json?semesterBatchId=' + semesterBatchId;
		if (sortingParam != undefined && sortingParam !="undefined")
			url = 'studentList.json?semesterBatchId=' + semesterBatchId+ '&sortingParam=' + sortingParam;
	}

	try {
		
		if(!currentUrlCalledMap.has(url)){
			$.ajax({
				url : url,
				dataType : 'json',
				async : false,
				beforeSend : function() {
					startCommonAjaxSpinner();
				},
				complete : function() {
					stopCommonAjaxSpinner();
				},
				success : function(jArray) {

					currentUrlCalledMap.set(url, jArray);
										
					gStudentListJsonArray = jArray;

					showStudentListInGrid(namingOrderValue);
					try {
						showStudentListInDialog(namingOrderValue);
						callback(jArray);
					} catch (e) {}
				},
				error : function() {
					jAlert("Server error: Please refresh the page and try again!!!");
				}
			});
		}else{
			gStudentListJsonArray = currentUrlCalledMap.get(url);
			showStudentListInGrid(namingOrderValue);
			try {
				showStudentListInDialog(namingOrderValue);
				callback(gStudentListJsonArray);
			} catch (e) {}
		}
	} catch (e) {
		gStudentListJsonArray = currentUrlCalledMap.get(url);
		showStudentListInGrid(namingOrderValue);
		try {
			showStudentListInDialog(namingOrderValue);
			callback(gStudentListJsonArray);
		} catch (e) {}
	}
}
function downloadBonafideCertifiction(){
	var studentIds = new Array();
	var instituteStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	$('.selectedStudent:checked').each(function(){
		studentIds.push($(this).attr('id'));
	});
	
	if(studentIds.length!=0){
		window.location.replace("internationalStudentBonafidePdf.json?studentIds="+studentIds+'&instituteStrengthId='+instituteStrengthId);
	}else{
		jAlert('Select at least a student.')
	}
	
} 
function showStudentListByBatch() {
	lastFunctionCalled = "showStudentListByBatch";
	initManageStudentGrid();
	var batchId = $('#cbAcademicBatch').val();
	batchId = batchId.split("-")[0];
	$('#chkNewStudent').attr('disabled','disabled');
	$('#chkNewStudent').attr('checked',true);
	$('#uploadAsApplicantId').attr('checked',false);
	// ////////////alert("Before Server Call: Batch Id: "+batchId);
	$.ajax({
		url : 'studentListByCourseAndBatch.json',
		data : {
			batchId : batchId
		},
		dataType : 'json',
		beforeSend : function() {
			startCommonAjaxSpinner();
		},
		complete : function() {
			stopCommonAjaxSpinner();
		},
		success : function(jArray) {
			gStudentListJsonArray = jArray;
			showStudentListInGrid();
		},
		error : function() {
			// //////////alert("In student data grid error");
		}
	});
}
function showFresherStudentInStudentGrid(){
	var instiCourseId = getSelectedInstituteCourseId();
	var batchId =$('#cbAcademicBatch').val();
	batchId = parseInt(batchId.split("-")[0]);
	var semListBoilerplate = "";
	if(!isNaN(instiCourseId) && !isNaN(batchId) && instiCourseId != 0 && batchId != 0){
		
	lastFunctionCalled = "showFresherStudentInStudentGrid";
	showShiftsByInstituteStrength();
	initManageStudentGrid();
	$('#cbSemesterId option')[0].selected = true;
	$('#cbAcademicSessionId option')[0].selected = true;
	$('#cbBatchId option')[0].selected = true;
	$('#chkNewStudent').attr('checked',true);
	$('#hdnBatchCapacity').val('');
	$('#gridAllocateDivCaptionHeader').removeClass('non-fresher');
	$('#gridAllocateDivCaptionHeader').addClass('fresher');
	$('#btnAllocateDivisionRollNos').show();
	$('#trParentDepartment').hide();
	$('#uploadAsApplicantId').attr('checked',false);
	$('#smsForFresher').show();
	$('#emailForFresher').show();
}else{
	jAlert("Please select programme and Academic Batch.");
	$('#divManageStudentTab21Mar').hide();
}
}

function showShiftsByInstituteStrength(){

	var instituteCourseStrengthId = $('#cbAcademicBatch').val().toString().split("-")[0];

	if(instituteCourseStrengthId != '0'){
		$.ajax({
			url : 'shiftsByInstituteStrength.json',
			data :{instituteCourseStrengthId : instituteCourseStrengthId},
			dataType : 'json',
			success : function(jArray) {

				var boiler = '<option value="0">No Shift</option>';
				for(var i=0; i<jArray.length;i++)
					boiler += '<option value="'+jArray[i]["shift"]+'">'+jArray[i]["shift"]+'</option>';

				$('#shiftType').html(boiler);
				$('#trShiftType').show();

				if(jArray.length>0)
					showFresherStudentByBatch('auto');
				else
					jAlert("Shifts are not defined to batches.<br>Please allocate shifts to batches");
			},
			error : function() {
				jAlert("Server error: Please refresh the page and try again!!!");
			}
		});
	}
}
//var isFresher =false;
function showFresherStudentByBatch(type) {
	
	lastFunctionCalled = 'showFresherStudentByBatch("'+type+'")';
	var batchId = $('#cbAcademicBatch').val().toString().split("-")[0];
	var shift = $('#shiftType').val();
	if($('#customerHelper').val()=='REVA_UNIVERSITY'){
	updateStudentAsMinBillDate(batchId,shift);
	}
	setTimeout(function(){
		if(batchId != '0'){
			$.ajax({
				url : 'fresherStudentListByBatchSP.json',
				data : {batchId : batchId,shift : shift},
				dataType : 'json',
				beforeSend : function() {
					startCommonAjaxSpinner();
				},
				complete : function() {
					stopCommonAjaxSpinner();
				},
				success : function(jArray) {
					if(type=='auto' && jArray.length==0)
					{
						if($('#shiftType option')[1]!=undefined)
						{
							$('#shiftType option')[1].selected = true;
							showFresherStudentByBatch();
						}
					}
					else
					{
						gStudentListJsonArray = jArray;
						showStudentListInGrid();
						//isFresher =true;
						
					}
				},
				error : function() {
					jAlert("Server error: Please refresh the page and try again!!!");
				}
			});
		}
	},2000);

	
}

function generateStudentEmail() {

	var courseId = getSelectedInstituteCourseId();
	var SemId = $('#cbSemesterId').val();
	var batchId = $('#cbBatchId').val();
	var acadmicyearid = $('#cbAcademicSessionId').val();
	var planid = $('#cbStudentAllocationPlanList').val();

	$.ajax({

		url : 'generateStudentEmail.json',
		data : {
			courseId : courseId,
			SemId : SemId,
			batchId : batchId,
			acadmicyearid : acadmicyearid,
			planid : planid
		},
		beforeSend : function() {
			startCommonAjaxSpinner();
		},
		complete : function() {
			stopCommonAjaxSpinner();
		},
		success : function() {

		},
		error : function() {
			// //////////alert("In student data grid error");
		}
	});
}

//student block and release
function blockStudent(studentId) {
	$.ajax({
		url : 'editAddStudentDetails.htm?studentId=' + studentId,
		beforeSend : function() {
			startCommonAjaxSpinner();

		},
		complete : function() {
			stopCommonAjaxSpinner();
		},
		success : function() {
			// ////////////alert("Successfully block Student Account");
			studentUploadGrid('upload');
		},
		error : function() {
			// //////////alert("in block Student error!!");
		}
	});
}

function releaseStudent(studentId) {
	$.ajax({
		url : 'releaseStudentDetails.htm?studentId=' + studentId,
		beforeSend : function() {
			startCommonAjaxSpinner();

		},
		complete : function() {
			stopCommonAjaxSpinner();
		},
		success : function() {

			// //////////alert("Successfully Release Student Account");
			studentUploadGrid('upload');
		},
		error : function() {
			// //////////alert("in Release Student error!!");
		}
	});

}

function showPursuingStudentListInGrid() {
	var len = gStudentListJsonArray.length;
	var cnt = 1;
	for ( var i = 0; i < len; i++) {
		if (gStudentListJsonArray[i]['members'].status.value.toLowerCase() == 'pursuing') {
			var datarow = {
					id : cnt,
					studentIdSrvr : gStudentListJsonArray[i]['members'].studentId.value,
					rollNo : gStudentListJsonArray[i]['members'].rollNo.value,
					hdnStudentIdClnt : gStudentListJsonArray[i]['members'].studentId.value,
					hdnStudentBatchIdClnt : gStudentListJsonArray[i]['members'].studentBatchId.value,
					hdnStudentBatchIdSrvr : gStudentListJsonArray[i]['members'].studentBatchId.value,
					name : gStudentListJsonArray[i]['members'].firstName.value
					+ ' '
					+ gStudentListJsonArray[i]['members'].lastName.value,
					email : gStudentListJsonArray[i]['members'].alternetEmailID.value,
					phoneNo : gStudentListJsonArray[i]['members'].alternetContactNumber.value,

					status : gStudentListJsonArray[i]['members'].status.value,
			};
			jQuery("#student-management-grid").jqGrid('addRowData', i + 1,datarow);
		}
		cnt++;
	}
}

function initStudentGrid() {
	jQuery("#student-management-grid").jqGrid('reloadGrid');
}

function getSelectedStudentId() {
	/**
	 * below code has been commeted because id has been taken in global array on row selection
	 */
	/*var ids = getSelectedStudentGridRowId();
	var studentIdArray = new Array();
	for ( var i = 0; i < ids.length; i++) {
		var rowObj = jQuery("#student-management-grid").jqGrid('getRowData',ids[i]);
		studentIdArray.push(rowObj.hdnStudentIdClnt);
	}
//	alert('studentIdArray'+studentIdArray);
	gStudentsIds = '' + studentIdArray.join(',');*/
	
	$('.selectedStudent').each(function(){
		if($(this).is(":checked"))
		{
			gStudentsIds.push($(this).attr("value"));
		}
	});
	
	return gStudentsIds.toString();
}

function getSelectedStudentId2(){
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam','selrow');
	var rowObj = jQuery("#student-management-grid").jqGrid('getRowData', ids);
	if(rowObj.hdnStudentIdClnt!=undefined)
		return rowObj.hdnStudentIdClnt;
	else
	{
		var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam','selrow');
		var rowObj = jQuery("#student-admitted-grid").jqGrid('getRowData', ids);
		return rowObj.hdnStudentIdClnt;
	}
}

function getSelectedStudentBatchId() {
	/**
	 * below code has been commeted because id has been taken in global array on row selection
	 */
	/*var ids = getSelectedStudentGridRowId();
	var studentBatchIdArray = new Array();
	for ( var i = 0; i < ids.length; i++) {
		var rowObj = jQuery("#student-management-grid").jqGrid('getRowData',ids[i]);
		// //////////alert("rowObj.hdnStudentBatchIdClnt:
		// "+rowObj.hdnStudentBatchIdClnt);
		studentBatchIdArray.push(rowObj.hdnStudentBatchIdClnt);
	}
	gStudentBatchIds = '' + studentBatchIdArray.join(',');*/
	// ////////////alert("gStudentBatchIds: "+gStudentBatchIds);
	return gStudentBatchIds.toString();
}

function getSelectedStudentBatchId2() {
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam','selrow');
	var rowObj = jQuery("#student-management-grid").jqGrid('getRowData', ids);
	return rowObj.hdnStudentBatchIdClnt;
}


function setSelectedStudentBatchId(gridId) {
	var idsArr = new Array();
	if(gridId == undefined){
		gridId = 'student-management-grid';
		oTable.fnFilter('');
	}
	$('#'+gridId).find('tr.selected:visible').each(function(){
		idsArr.push($(this).find('.hdnStudentBatchIdClnt').text());
	});
	//return idsArr;
	/*var ids = getSelectedStudentGridRowId();
	var studentBatchIdArray = new Array();
	for ( var i = 0; i < ids.length; i++) {
		var rowObj = jQuery("#student-management-grid").jqGrid('getRowData',ids[i]);
		studentBatchIdArray.push(rowObj.hdnStudentBatchIdClnt);
	}*/
	gStudentBatchIds = '' + idsArr.join(',');
}

function getStudentStatus() {
	return $('#cbStudentStatusId').val();
	
	
	
}

/**
 * 
 * @returns {Array}
 */
function getSelectedStudentGridRowId(gridId) {
	var idsArr = new Array();
	//student-management-grid
	$('#student-management-grid').find('tr.selected').each(function(){ 
		idsArr.push($(this).find('.hdnStudentIdClnt').text());
	});
	
	return idsArr;
}

function populateStudentStatus() {
	$('#showStudentExamInfoModal').html('');
	var courseType = $('#cbInstiCourseId option:selected').attr('cousetype');
	gStudentStatusArray = new Array();
	var boiler = '';
	var url=window.location.pathname.toString();
	boiler = '<option value = "0">Select</"option>';
	$.ajax({
		url : 'getStudentStatusList.json?courseType='+courseType+'&url=' + url,     // url is called mapped at
		// controller
		dataType : 'json',
		async : false,
		success : function(jArray) {
			gStudentStatusArray.push('-1' + ':' + 'Select');
			$.each(jArray, function(i, v) {
				gStudentStatusArray.push(v["StudentStatus"] + ':'+ v["StudentStatus"]);
				if(v["StudentStatus"] != "PURSUING"){
					boiler += '<option value = "' + v["StudentStatus"] + '">';
					if(v["StudentStatus"]=='BREAK' && $('#customerHelper').val()=='DYPATIL'){
						boiler += 'GAP';
					}else{
						boiler += v["StudentStatus"].replace('_',' ');
					}
					boiler += '</"option>';
				}
			});
			gStudentStatusArray = gStudentStatusArray.join(";");
			$('#cbStudentStatusId').html(boiler);
			selectedStudentStatusChange();
			//alert($('#cbStudentStatusId >option [value="PURSUING"]').val());
			// ////////////alert(gStudentStatusArray);
		},
		error : function() {
		}
	});
}

function showChangeStudentStatusForm() {
	$('#dosaConfigSpan').hide();
	$('#dosaConfig').prop('checked', false);	
	$('#dosaconfigBIT').hide();
	$('#txtDosaConfigBIT').val('');
	$('#trTermError').hide();
	$('#trComment').hide();
	$('#txtCmtBlk').val('');
	$('#cmbSemDel2').css('border-color','');
	$('#changeStudentStatusDialog').modal('show').css({
		width: '600px',
		'margin-left': function () {
			return -($(this).width() / 2);
		}
	});
	if($(location).attr('pathname').split('_')[1] == 'manageStudent.htm') {
	var header = 'Student status(Pursuing)';
	$('#changeStudentStatusDialogHeader').html(header);
	}
	$('#txtAdmissionCancelDate').val('');
	$('#txtReason').val('');
	$('#trReason').hide();
	$('#trApprovedSatus').hide();
	$('#trTermSatus').hide();
	$('#subjectNameListUnalloc').hide();
	 $('#lblyearDown').hide();
	 $('#lblTermDown').hide();
	 $('#lblyearDown').hide();
	 $('#lblTermDown').hide();
	
	
}



function changeStudentStatus() {
	var studentBatchIds = getSelectedStudentBatchId();
	var studentId = getSelectedStudentId();
	var status = getStudentStatus();
	var statusText = $('#cbStudentStatusId option:selected').text();
	var comment = $('#txtCmtBlk').val();
	var doSaReason = $('#txtDosaConfigBIT').val();
	var checkDosaBit=$('#dosaConfig').is(":checked"); 
	if(status=="0" || status== 0){
		jAlert("Please Select Status.");
		return;
	}
	if($('#customerHelper').val()=="BITS_MESRA" && $('#cbStudentStatusId').val()=='BLOCKED' && (checkDosaBit==true||checkDosaBit=="true")){
			if(doSaReason.trim()==""){
				jAlert('Please Enter Reason.');
				return;
			}
	}
	
	var admissionCancelDate=$('#txtAdmissionCancelDate').val();
	var reason = $('#txtReason').val();
	var employeeId = $('#cbApprovedStatus option:selected').val();
	var yearDownStatus;
	
	
	 if(status == 'YEARDOWN'){
	
		yearDownStatus=  $('input[name = "yearDownStatus"]:checked').val();
	}
	if(admissionCancelDate=='' && status!='ALUMNI'){
		jAlert('Please select Date');
		return;
	}
	if(status == 'ADMISSION_CANCELLED'){
	
		$('#RevertCheckStudStatusAdmsnCancel').modal('show');
		//alert("sdf");
		$('#revertCheckStudStatusAdmsnCancelId').click(function(){
			var studentIds = new Array();
			$('.selectedStudent').each(function(){
				if($(this).is(':checked'))
					studentIds.push($(this).val());
			});
			if(studentIds.length > 0){
				jConfirm('Are you sure?','Confirmation',function(flag){
					if(flag){
						/*cancelAdmission(studentId,'',function(){
						$('#changeStudentStatusDialog').dialog('close');
						jAlert('Admission Cancelled Successfully');
						var ids = getSelectedStudentGridRowId();
						$("#student-management-grid").jqGrid('setCell',ids,'status', status);
					});*/
						//alert("studentId "+studentIds);


						cancelAdmission(studentIds,admissionCancelDate);
					}
				});
			} else {
				jAlert('Please select only one student at a time');
			}
		});
	}else if(status == 'LEFT' || status == 'BREAK'){
	//	$('#trReason').show();
		//$('#trApprovedSatus').show();
		
		if(reason==''){
			jAlert('Please specify reason');
			return;
		}
		/*if($('#cmbSemDel2').val()=='0'&& $('#cmbSemDel2 option:selected').attr('lenSize')!='0'){
			jAlert('Please specify Term');
			return;
		}*/
		
		var studentIds = new Array();
		$('.selectedStudent').each(function(){
			if($(this).is(':checked'))
				studentIds.push($(this).val());
		});

		var batchSemesterCapacityIdTerm = $('#cmbSemDel2').val();
		/*var batchSemesterCapacityIdss = new Array();
		$('.subjectBatchIdForUnallocate').each(function(){
			if($(this).is(':checked'))
				batchSemesterCapacityIdss.push($(this).val());
		});*/
		
		if(studentIds.length == 1){
			$.ajax({
				url : 'getStudentSubjectChoiceList.json',
				// controller
				data : {
					studentIds : studentIds.toString(),
					admissionCancelDate : admissionCancelDate
					/*batchSemesterCapacityIdsList:batchSemesterCapacityIdss,
					termbatchSemesterCapacityId:batchSemesterCapacityIdTerm*/
				},
				dataType : 'json',
				type : 'POST',
				async : false,
				success : function(jArray) {
					var subjectName = "" ;
					if(jArray[0] != undefined && jArray[0] != "undefined"){
						if(jArray[0].subjectName != null && jArray[0].subjectName != undefined && jArray[0].subjectName != "undefined"){
							subjectName = (jArray[0].subjectName.gemsDecode());
						}
					}
					var subNameArr = new Array();
					$('.subjectBatchIdForUnallocate').each(function(){
						if($(this).attr('checked')=="checked")
						subNameArr.push($(this).attr('subjectNameDel'));
					});
					jConfirm('Are you sure?\nThis will remove all the Course allocation, student attendance \n and feedback given by the student(s) of following subjects  :  '+subNameArr+' \n .','Confirmation',function(r){
						if(r){
							LeftOrBreakAdmission(studentIds,admissionCancelDate,status,reason,employeeId,batchSemesterCapacityIdTerm);
						}
					});
				}
			})
			
		} else {
			jAlert('Please select only one student at a time');
		}

	}else {
		if(status=="ALUMNI" && $('#customerHelper').val()=="GC_UNIVERSITY"){
			var invalid= false;
			
			$('.selectedStudent:checked').each(function(){
			  var studId = $(this).val();
			  var feesRemainingAmt = $('#studentRow-'+studId+' .pendingFeesAmount').html();
  			   if(feesRemainingAmt!="0.0" && feesRemainingAmt!=null && feesRemainingAmt!=undefined && feesRemainingAmt!="" && feesRemainingAmt!="0"
  				&& eval(feesRemainingAmt)>0){
  				invalid=true;
  			   }
			});
			
			if(invalid){
				jAlert("Please clear the fee due amount.")
				return;
			}
		}
		$.ajax({
			url : 'changeStudentStatus.json', // url is called mapped at
			// controller
			data : {
				studentBatchIds : studentBatchIds,
				status : status,
				statusText:statusText,
				yearDownStatus : yearDownStatus,
				comment : comment,
				doSaReason:doSaReason,
				checkDosaBit:checkDosaBit
			},
			dataType : 'json',
			type : 'POST',
			async : false,
			success : function(jArray) {
				gStudentsIds = new Array();
				gStudentBatchIds = new Array();
				if (jArray[0].responseFlag == '1') {
					showSuccessMessage(jArray[0].responseFlag, 5000);
					var ids = getSelectedStudentGridRowId();
					// ////////////alert("Ids: "+ids);
					for ( var i = 0; i < ids.length; i++) {
						$("#student-management-grid").jqGrid('setCell', ids[i],'status', jArray[i + 1].status);
					}

				}
				$('#changeStudentStatusDialog').modal('hide');
				$('#changeStudentStatusDialog').dialog('close');
				
				var boiler='';
				if(status=="BLOCKED"){
					jAlert("Student Blocked Successfully.");
				}else if(status=="YEARDOWN"){
					if($('#yearDownStatusFlag').val()=='true'|| $('#yearDownStatusFlag').val()==true){
						if(yearDownStatus == 'YEARDOWN'){
							jAlert("Student Year Dropped.");
						}else if(yearDownStatus == 'TERMDOWN'){
							jAlert("Student Term Dropped.");
						}
					}else{
					jAlert("Student Year Dropped.");
					}
				}else if(status=="ALUMNI" && jArray[0].responseFlag == '1'){
						boiler+="<div style='border:thin'><p class='alert alert-danger'  style='font-size:14px'>Students Converted to Alumni</p></div>"+
								"<table id='BlankId' class='table table-bordered table-condensed'><tr><th>Sr.No.</th><th>Roll No.</th>"+
								"<th>Remark</th></tr>";
						var Srno=1;
						for(var i = 1;i <jArray.length; i++){
							if(jArray[i].status=="ALUMNI"){
								boiler += '<tr><td>'+Srno+'</td> <td>'+jArray[i].RollNo+'</td><td>success</td> </tr>';	
								Srno++;									
							}					
						}
						boiler+="</table><div style='border:thin'><p class='alert alert-danger'  style='font-size:14px'>Students Not Converted to Alumni</p></div>"+
								"<table id='BlankId' class='table table-bordered table-condensed'><tr><th>Sr.No.</th><th>Roll No.</th>"+
								"<th>Remark</th></tr>";
						Srno=1;
						for(var i = 1;i <jArray.length; i++){
							if(jArray[i].status!="ALUMNI"){
								boiler += '<tr><td>'+Srno+'</td> <td>'+jArray[i].RollNo+'</td><td>Un-successful</td> </tr>';
								Srno++;		
							}					
						}
					jAlert(boiler);
				}else if(status=="ALUMNI" && jArray[0].responseFlag == '0'){
					boiler+="<div style='border:thin'><p class='alert alert-danger'  style='font-size:14px'>Unable to Convert Student to Alumni</p></div>";
					jAlert(boiler);
				}else if(status=="RUSTICATED"){
					jAlert("Student rusticated successfully.")
				}
			},
			error : function() {
			}
		});
	}
	// ////////////alert("studentBatchIds: "+studentBatchIds+");
}

function cancelAdmission(studentIds,admissionCancelDate)
{
	var CancelReason = $('#txtReason2').val();
	var putforAdmCancelCoe= "No";
	if($('#txtCheckForFinanceYes2').is(':checked')){
		putforAdmCancelCoe= "Yes";
	}
	var studentSubjectCancelflag = $( "input[name='studentSubjectCancelId']:checked" ).val();
	
	$.ajax({
		url: 'cancelAdmissionManageStudent.json?studentIds='+studentIds+'&admissionCancelDate='+admissionCancelDate+'&CancelReason='+CancelReason+'&putforAdmCancelCoe='+putforAdmCancelCoe+'&studentSubjectCancelflag='+studentSubjectCancelflag,
		dataType:'text',
		async:false,
		beforeSend: function() {
			startCommonAjaxSpinner();
		},
		complete: function() {
			stopCommonAjaxSpinner();
		},
		success:function(){
			//showStudentInTargetBatch();
			checkForActiveSemester();
			jAlert("Admission Cancelled Successfully.","Message");
			$('#changeStudentStatusDialog').modal('hide');
		},
		error:function(){
		}
	});
}

function clearStudentGrid() {
	$("#student-management-grid").GridUnload();
}

function getSelectedStudentCategory() {
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam',
	'selrow');
	var rowObj = jQuery("#student-management-grid").jqGrid('getRowData', ids);
	if(rowObj.categoryId!=undefined)
	{
		var categoryId = rowObj.categoryId;
		return categoryId;
	}
	else
	{
		var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam',
		'selrow');
		var rowObj = jQuery("#student-admitted-grid").jqGrid('getRowData', ids);
		var categoryId = rowObj.categoryId;
		return categoryId;
	}
}

function getAdmittedSelectedStudentCategory() {
	var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam',
	'selrow');
	var rowObj = jQuery("#student-admitted-grid").jqGrid('getRowData', ids);
	var categoryId = rowObj.categoryId;
	return categoryId;
}

/**
 * @since 30th May 2012
 * @returns {String}
 */
function getStudentAddress() {
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam', 'sel');
	var rowObj = jQuery("#student-management-grid").jqGrid('getRowData', ids);
	var address = '';
	address += (rowObj.addressLine1 != undefined ? rowObj.addressLine1 : '')
	+ '<br/>';
	address += (rowObj.addressLine2 != undefined ? rowObj.addressLine2 : '')
	+ '<br/>';
	address += rowObj.city != undefined ? rowObj.city + ', ' : '';
	address += rowObj.state != undefined ? rowObj.state + ', ' : '';
	address += rowObj.country != undefined ? rowObj.country + ', ' : '';
	address += rowObj.pincode != undefined ? rowObj.pincode + ', ' : '';
	// ////////////alert("address: "+address);
	return address;
}

function getStudentName() {
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam',
	'selrow');
	var rowObj = jQuery("#student-management-grid").jqGrid('getRowData', ids);

	if(rowObj.name!=undefined)
		return rowObj.name;
	else
	{
		var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam',
		'selrow');
		var rowObj = jQuery("#student-admitted-grid").jqGrid('getRowData', ids);
		return rowObj.name;
	}
}

function getStudentAdmissionDate() {
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam',
	'selrow');
	var rowObj = jQuery("#student-management-grid").jqGrid('getRowData', ids);

	if(rowObj.admissionDate!=undefined)
		return rowObj.admissionDate;
	else
	{
		var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam',
		'selrow');
		var rowObj = jQuery("#student-admitted-grid").jqGrid('getRowData', ids);
		return rowObj.admissionDate;
	}
}

function getStudentCategory()
{
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam','selrow');
	var rowObj = jQuery("#student-management-grid").jqGrid('getRowData', ids);

	if(rowObj.categoryName!=undefined)
		return rowObj.categoryName;
	else
	{
		var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam','selrow');
		var rowObj = jQuery("#student-admitted-grid").jqGrid('getRowData', ids);
		return rowObj.categoryName;
	}
}

function setStudentGender(gender){
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam',
	'selrow');
	$("#student-management-grid").jqGrid('setCell',ids,'gender',gender);

	if(ids == undefined){
		gStudentInvoiceRelatedObject.gender = gender;
	}
}

function setStudentAdmissionTypeId(admissionTypeId){
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam','selrow');

	if(ids != undefined){
		$("#student-management-grid").jqGrid('setCell',ids,'admissionTypeId',admissionTypeId);	
	} else {
		if(gStudentInvoiceRelatedObject != undefined){
			gStudentInvoiceRelatedObject.studentAdmissionTypeId = admissionTypeId;
		}
	}

}

function setStudentAdmissionType(admissionType){
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam','selrow');
	$("#student-management-grid").jqGrid('setCell',ids,'admissionType',admissionType);

	var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam','selrow');
	$("#student-admitted-grid").jqGrid('setCell',ids,'admissionType',admissionType);

	if(ids == undefined){
		if(gStudentInvoiceRelatedObject != undefined){
			gStudentInvoiceRelatedObject.studentAdmissionTypeName = admissionType;
		}
	}
}

function setStudentCategoryId(categoryId) {
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam','selrow');
	$("#student-management-grid").jqGrid('setCell',ids,'categoryId',categoryId);

	var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam','selrow');
	$("#student-admitted-grid").jqGrid('setCell',ids,'categoryId',categoryId);
}

function setStudentCategoryName(categoryName) {
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam','selrow');
	$("#student-management-grid").jqGrid('setCell',ids,'admissionCategoryName',categoryName);

	var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam','selrow');
	$("#student-admitted-grid").jqGrid('setCell',ids,'admissionCategoryName',categoryName);

	if(ids == undefined){
		if(gStudentInvoiceRelatedObject != undefined){
			gStudentInvoiceRelatedObject.studentAdmissionCategory = categoryName;
		}
	}
}



function getStudentGender() {
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam',
	'selrow');
	var rowObj = jQuery("#student-management-grid").jqGrid('getRowData', ids);

	if(rowObj.gender!=undefined)
		return rowObj.gender;
	else {
		var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam',
		'selrow');
		var rowObj = jQuery("#student-admitted-grid").jqGrid('getRowData', ids);
		return rowObj.gender;
	}
}

function getStudentAdmissionType(){
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam','selrow');
	var rowObj = jQuery("#student-management-grid").jqGrid('getRowData', ids);
	return rowObj.admissionType;
}

function getStudentAdmissionCategoryName(){
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam','selrow');
	var rowObj = jQuery("#student-management-grid").jqGrid('getRowData', ids);

	if(rowObj.admissionCategoryName!=undefined)
		return rowObj.admissionCategoryName;
	else
	{
		var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam','selrow');
		var rowObj = jQuery("#student-admitted-grid").jqGrid('getRowData', ids);
		return rowObj.admissionCategoryName;
	}

}

function getStudentAdmissionType(){
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam','selrow');
	var rowObj = jQuery("#student-management-grid").jqGrid('getRowData', ids);

	if(rowObj.admissionType!=undefined)
		return rowObj.admissionType;
	else
	{
		var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam','selrow');
		var rowObj = jQuery("#student-admitted-grid").jqGrid('getRowData', ids);
		return rowObj.admissionType;
	}

}

function getAdmittedStudentAdmissionType(){
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam','selrow');
	var rowObj = jQuery("#student-management-grid").jqGrid('getRowData', ids);
	return rowObj.admissionType;
}


function getStudentAdmissionTypeId(){
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam','selrow');
	var rowObj = jQuery("#student-management-grid").jqGrid('getRowData', ids);

	if(rowObj.admissionTypeId!=undefined)
		return rowObj.admissionTypeId;
	else {
		var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam','selrow');
		var rowObj = jQuery("#student-admitted-grid").jqGrid('getRowData', ids);
		return rowObj.admissionTypeId;
	}
}

function getAdmittedStudentTypeId(){
	var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam','selrow');
	var rowObj = jQuery("#student-admitted-grid").jqGrid('getRowData', ids);
	return rowObj.admissionTypeId;
}


function clearStudentGrid() {
//	jQuery("#student-management-grid").jqGrid('clearGridData');
}

/**
 * @
 * @since 16 june 2012
 * @return {boolean} true:if any row selected found else false
 */
function checkSelectedStudent() {
	
	var selectedStudentArray = $('#student-management-grid').find('.selected');
	if(selectedStudentArray.length > 0 ){
		return true;
	} else {
		return false;
	}
	/*var ids = jQuery("#student-management-grid").jqGrid('getGridParam','selrow');
	if (ids == null) {
		return false;
	} else {
		return true;
	}*/
}

/**
 * @since 21 June 2012
 * @purpose this function returns the list of
 *          studentInstituteSemesterbatchCapacity list by subjectWiseBatchId
 *          return from the grid
 */
/*function getStudentListBySubjectAllocation(subjectWiseBatchId) {
	// //////////alert("subjectWiseBatchId: "+subjectWiseBatchId);

	try {
		//alert("subjectWiseBatchId: "+subjectWiseBatchId);
		gStudentBatchIds = new Array();//To initialize the selected student array
		$.ajax({
				url:'studentListBySubjectAllcation.json?subjectWiseBatchId='+ subjectWiseBatchId,
				dataType:'json',
				async:true,
				beforeSend: function() {
					startCommonAjaxSpinner();
				},
				complete: function() {
					stopCommonAjaxSpinner();
				},
				success:function(jArray) {
					gStudentListJsonArray = jArray;
					//alert('gStudentListJsonArray: '+gStudentListJsonArray.length);
					if (jArray.length == 0) {
						//$('#studentSubjectAllocationDialog').modal('show');
						//jAlert('No student(s) found in the select subject. Choose another subject/batch to allocate');
					}

					//showStudentListInGrid();
					var gridType = $('#student-management-toobar').data('GridType');
					alert('gridType: '+gridType);
					showStudentListInSubjectAllocationGrid(gridType,jArray);

				},
				error : function() {
					// //////////alert("In student data grid error");
				}
		});
	} catch (e) {

	}
}*/


function showStudentListInGrid(intNamingOrderValue) {
	
	$('#divStudentInvoiceGeneration').hide();
	$('#student-management-grid').show();
	/** Default */
	var fromCGPA = $('#cbAcademicBatch option:selected').attr('fromcgpa');
	var toCGPA = $('#cbAcademicBatch option:selected').attr('tocgpa');
	if(intNamingOrderValue == undefined)
		intNamingOrderValue = 1;
	clearStudentGrid();
	var len = gStudentListJsonArray.length;
	var cnt = 1;
	var first  = "firstName";
	var second = "lastName";
console.log('gStudentListJsonArray',gStudentListJsonArray);
	if(intNamingOrderValue>2)
	{
		first  = "lastName";
		second = "firstName";
	}
	var customerIdentificationObj = $('#customerIdentificationObj').val();
	var customerWiseDispalyOption = customerIdentificationObj == 'IMT_NAGPUR' ? 'display:none;' : '';
	var mainDepartmentHeading = customerIdentificationObj == 'IMT_NAGPUR' ? 'Main Stream' : 'Main Department';
	
	var boiler = '';
	/** Designing Header of student table*/
	boiler += '<table class="table table-bordered table-condensed tblManageStudentGrid" id="pro">'
		+'<thead>'
			+'<tr id="studentRow">'
				+'<th>Sr.No.</th>' //Serial No
				+'<th></th>' //Profile Pic
				+'<th style="display:none"></th>' //Student Id
				+'<th style="display:none"></th>' //Student Batch Id
				+'<th>'+juno.labelByCustomer('l.Customerwise.RollNo.Label')+'</th>' //Roll No
				+'<th style="display:none"></th>' //Roll No
				+'<th style="display:none"></th>' //Roll No
				+'<th style="display:none"></th>' //Roll No
				+'<th width="20%" style="">Name</th>' // Student Name
				+'<th style="">Email Id</th>' // Email
				+'<th style="">Gender</th>' // Gender
				+'<th style="">Phone No.</th>' // Mobile No
				+'<th style="'+customerWiseDispalyOption+'">Batch</th>' // Sub-Batch
				+'<th style="'+customerWiseDispalyOption+'">PCM marks</th>' // Physic Chem Maths Marks
				+'<th style="'+customerWiseDispalyOption+'">Specialization</th>' // Specialization (for MBA students)
				+'<th style="">'+mainDepartmentHeading+'</th>' //Main Root Department
				+'<th style="display:none"></th>' // Deparment promotion Id
				+'<th style="display:none"></th>' // Parent Institute Course ID
				+'<th style="">Section Joining Date</th>' // Joining date
				+'<th style="'+customerWiseDispalyOption+'">Export Status</th>'
				+'<th>Edit</th>' // Parent Institute Course ID
			/*	+'<th style="display:none"></th>'
				+'<th style="display:none"></th>'*/
			+'</tr>'
		+'</thead>'
		+'<tbody>';
var count = 1;
	for(var i = 0 ; i < len ; i++){
		var name ="";
		var displayName="";
		if(intNamingOrderValue>2)
			name = gStudentListJsonArray[i].lastName + ' ' + gStudentListJsonArray[i].firstName+' '+gStudentListJsonArray[i].middleName;
		else
			name = gStudentListJsonArray[i].firstName + ' ' + gStudentListJsonArray[i].middleName+' '+gStudentListJsonArray[i].lastName;

		var rollNo = gStudentListJsonArray[i].rollNo.toString() != ""?gStudentListJsonArray[i].rollNo:"Not Assigned";
		var mobileNo="";
		if(gStudentListJsonArray[i].mobileNumber != undefined)
		{
			mobileNo=gStudentListJsonArray[i].mobileNumber;
		}	

		var CGPA = gStudentListJsonArray[i].cgpa;
		console.log('CGPA >= fromCGPA  && CGPA <= toCGPA',CGPA >= fromCGPA  && CGPA <= toCGPA);
		if(CGPA >= fromCGPA  && CGPA <= toCGPA){
		boiler +='<tr id="studentRow-'+gStudentListJsonArray[i].studentId+'" style="" class="studentRow">';
		boiler +='<td class="gems_integer">'+(count)+'</td>' //Serial No
		+'<td class="profilePhoto"><img class="pointer" height="35px" id="studentImg-'+gStudentListJsonArray[i].studentId+'" width="35px" src="getStudentProfileImageById.json?id='+gStudentListJsonArray[i].studentId+'"></td>' //Profile Pic
		+'<td class="hdnStudentIdClnt" style="display:none">'+gStudentListJsonArray[i].studentId+'</td>' //Student Id
		+'<td class="hdnStudentBatchIdClnt" style="display:none">'+gStudentListJsonArray[i].studentBatchId+'</td>' //Student Batch Id
		+'<td class="rollNo" >'+rollNo+'</td>' // Roll No
		+'<td class="firstName" style="display:none">'+gStudentListJsonArray[i].firstName+'</td>' // Roll No
		+'<td class="middleName" style="display:none">'+gStudentListJsonArray[i].middleName+'</td>' // Roll No
		+'<td class="lastName" style="display:none">'+gStudentListJsonArray[i].lastName+'</td>'; // Roll No
		if(gStudentListJsonArray[i].displayName!=""){
			displayName=decodeURIComponent(gStudentListJsonArray[i].displayName.replace(/\+/g," "));
			boiler+='<td class="name" width="20%" style="font-size:11.5px">'+displayName+'</td>';
		}
		else
		{
			boiler+='<td class="name" width="20%" style="font-size:11.5px">'+name+'</td>'; // Student Name
		}

		//'<td class="name" width="20%" style="font-size:11.5px">'+name+'</td>' // Student Name
		boiler +='<td class="email" style="">'+gStudentListJsonArray[i].emailId+'</td>' // Email
		+'<td class="gender" style="">'+gStudentListJsonArray[i].gender+'</td>' // Gender
		+'<td class="phoneNo" style="">'+mobileNo+'</td>' // Mobile No
		+'<td class="subbatch" style="'+customerWiseDispalyOption+'">'+gStudentListJsonArray[i].status+'</td>' // Sub-Batch
		+'<td class="pcmMarks" style="text-align:right;'+customerWiseDispalyOption+'">'+gStudentListJsonArray[i].pcmMarks+'</td>' // Physic Chem Maths Marks
		+'<td class="speli" style="'+customerWiseDispalyOption+'">'+gStudentListJsonArray[i].qualiSpecializationName+'</td>' // Specialization (for MBA students)
		+'<td class="parentDepartmentId" style="">'+gStudentListJsonArray[i].parentDepartmentName+'</td>' //Main Root Department
		+'<td class="deptPromotionId" style="display:none">'+gStudentListJsonArray[i].deptPromotionId+'</td>' // Department Promotion ID
		+'<td class="parentInstituteCourseId" style="display:none">'+gStudentListJsonArray[i].parentInstituteCourseId+'</td>' // Parent Institute Course ID
		+'<td class="admissionDate" style="">'+gStudentListJsonArray[i].admissionDate+'</td>' // Parent Institute Course ID
		+'<td style="display:none" class="exportStatus" stud="'+gStudentListJsonArray[i].studentId+'" fresher="'+gStudentListJsonArray[i].fresher+'">'+gStudentListJsonArray[i].exportStatus+'</td>'
		+'<td><a href="javascript:void(0)" class="editStudent" studentid='+gStudentListJsonArray[i].studentId+' title="Edit Record"><i class="icon-edit"></i></a></td>' // Edit student Button
		+'<td class="majorOpenElectiveSubjectId" style="display:none">'+gStudentListJsonArray[i].majorOpenElectiveSubjectId+'</td>'
		+'<td class="minorOpenElectiveSubjectId" style="display:none">'+gStudentListJsonArray[i].minorOpenElectiveSubjectId+'</td>'
		+'</tr>';
		count++;
	}
		
	}
	boiler += '</tbody>'
	+'</table>';


	$('#student-management-grid').html(boiler);

	var oTable = $('.tblManageStudentGrid').dataTable({
        "sDom": "<'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span6'i><'span6'p>>",
        "sPaginationType": "bootstrap",
        "oLanguage": {
			"sLengthMenu": "_MENU_ records per page"
		},
		"iDisplayLength":-1,
    });
	$('.dataTables_length').hide();



       $('#student-management-grid').find('.profilePhoto').bind('click',function(){
    	   var trObj = $(this).parents('tr');
    	   var studentId = $(trObj).find('.hdnStudentIdClnt').text();
    	   showPhotoDialog('studentImg-'+studentId,studentId,'student');
       });

       $('#student-management-grid').find('.editStudent').bind('click',function(){
    	  
    	   var studentId= $(this).attr("studentid");
    	   
    			$('#divStdRegisteredWith').reset();
    			$('#divStdBioMetricDetail').reset();
    			//$('#divStdBioMetricDetailDate').reset();
    			$('#divStdBioMetricDetailDate').reset();
    			$('#remedialExamModal').modal('show');
    			getSemesterListforSelectedYear(studentId);
    			//studentBiomatricsDetails(studentId);
    		
    			$('#studentBiomertricListModal').find('li').removeClass('active');
    			$('#studentBiomertricListModal').find('li').first().addClass('active');

    			$('#studentBiomertricListModal').find('.tab-content').find('div.tab-pane').removeClass('active');
    			$('#studentBiomertricListModal').find('.tab-content').find('div.tab-pane').first().addClass('active');

    			$('#divStdBioMetricDetailDate').hide();
    			
       });

	var batchName = $('#cbAcademicBatch option:selected').text();
	var semesterName = $('#cbSemesterId option:selected').text();
	var sessionName = $('#cbAcademicSessionId option:selected').text();
	var divisionName = $('#cbBatchId option:selected').text();

	if(batchName.toLowerCase() != 'select'){
		message = batchName;
	}
	if(semesterName.toLowerCase() != 'select'){
		message += ' &raquo; '+semesterName;
	}
	/*if(sessionName.toLowerCase() != 'select'){
		message += ' &raquo; ['+sessionName+']';
	}*/
	if(divisionName.toLowerCase() != 'select'){
		message += ' &raquo; '+divisionName;
	}
	//$('.divStudentListGridInfo').html('<strong>'+message+'</strong>');

	$('.divStudentListGridInfo').html(`<span style="color: #03b1a9;"><b>${message}</b></span>
	<hr style="border-bottom: 1px solid #b6b6b675;margin-top: 3px;border-bottom: 1px solid var(--juno-green)">`)
	/*****
	  * below code is for binding shift selection on the data table
	  */
      var lastChecked = null;

      $(document).ready(function() {
          var $chkboxes = $('.selectedStudent');
          $chkboxes.click(function(e) {
              if(e.shiftKey) {
                  var start = $chkboxes.index(this);
                  var end = $chkboxes.index(lastChecked);
                  $chkboxes.slice(Math.min(start,end), Math.max(start,end)+ 1).attr('checked', lastChecked.checked);
                  if(lastChecked.checked){
                  	$chkboxes.slice(Math.min(start,end), Math.max(start,end)+ 1).parents('tr.studentRow').addClass('selected');
                  } else {
                  	$chkboxes.slice(Math.min(start,end), Math.max(start,end)+ 1).parents('tr.studentRow').removeClass('selected');
                  }
              }
              setSelectedStudentBatchId();
              if(!lastChecked) {
                  lastChecked = this;
                  return;
              }
              lastChecked = this;
          });
      });
}

function openStudentListDialog() {
	$('#studentListDialog').dialog('open');
}
function closeStudentListDialog() {
	$('#studentListDialog').dialog('close');
}

/**
 * @since 26th June 2012
 * @author Vimal
 * @purpose
 */
function showStudentArrangeOption() {
	$('#studenArrangementOptionsDialog').modal('show');
}

/**
 * @since 26th June 2012
 * @param chkId
 *            current checkbox id on which mouse has been clicked. Except this
 *            all check boxes have to unchecked
 */
function unSelectAllArrangeParameter(chkId) {
	$('input[name = "chkStudentArrangeOption"]').each(function() {
		if ($(this).attr('id') != chkId) {
			$(this).attr('checked', false);
		}
	});
}

/**
 * @since 27th June 2012
 * @param chkId current checkbox id on which mouse has been clicked. Except this all check boxes have to unchecked
 */
function unSelectAllNamingOrderParameter(chkId) {
	$('input[name = "chkStudentNamingOrder"]').each(function() {
		if ($(this).attr('id') != chkId) {
			$(this).attr('checked', false);
		}
	});
}
function sUnSelectAllNamingOrderParameter(chkId) {
	$('input[name = "suchkStudentNamingOrder"]').each(function() {
		if ($(this).attr('id') != chkId) {
			$(this).attr('checked', false);
		}
	});
}

function getFormattedStudentList() {

	var namingOrderValue = $('input[name = "chkStudentNamingOrder"]:checked').val();
	var sortingParam = new Array(); 
	$('#selectedOrderByList option').val();

	$("#selectedOrderByList option").each(function(){
		sortingParam.push($(this).val());
	});

	showStudentListByCourseSemeserAndDivision(sortingParam.toString(), namingOrderValue);
	$('#studenArrangementOptionsDialog').modal('hide');
}

function getspecializationFormattedStudentList() {
	var checkedStudentList = new Array();
	$('.selectedStudent:checked').each(function(){
		checkedStudentList.push($(this).val());
	});
	
	var namingOrderValue = $('input[name = "suchkStudentNamingOrder"]:checked').val();
	var sortingParam = new Array(); 
	$('#specializationSelectedOrderByList option').val();

	$("#specializationSelectedOrderByList option").each(function(){
		sortingParam.push($(this).val());
	});

	showStudentListByCourseSemeserAndDivision(sortingParam.toString(), namingOrderValue);
	$('#studenArrangementOptionsDialog').modal('hide');
	
	for(var i=0; i<checkedStudentList.length; i++){
		$('#'+checkedStudentList[i]).attr('checked',true);
		alert(checkedStudentList[i]);
	}
}

/**
 * @since 29th June 2012
 * @param arragedStudentList list of the sorted student
 * @param divisionId division in which student are belongs to
 */
function allocateDefaultRollToDivision() {
	var arrangedStudentList = new Array();
	$('.selectedStudent:checked').each(function(){
		arrangedStudentList.push($(this).closest('tr').find('.hdnStudentBatchIdClnt').html());
	});
	var semesterBatchId = getSemesterBatchId();
	var initialRollNoMale = new Array(); 
	var prefixMale = new Array();
	var suffixMale = new Array();
	var initialRollNoFemale = new Array();
	var prefixFemale = new Array();
	var suffixFemale = new Array();
	var initialRollNoOther = new Array();
	var suffixOther = new Array();
	var prefixOther = new Array();

	var type = $('input[name = "rollNoAllocation"]:checked').val();
	var batchNameArray = "";
	var specializationTypeId = $('#specializationTypeId option:selected').val();

	if(type=='overall'){
		initialRollNoMale.push($('#txtRoleInitial').val());
		prefixMale.push($('#txtRolePrefix').val());
		suffixMale.push($('#txtRoleSuffix').val());

		initialRollNoFemale.push(0);
	}else if(type=="subBatchwise"){
		batchNameArray = gBatchNameArray.toString();
		for(var i=0; i<gBatchNameArray.length; i++){
			initialRollNoFemale.push($('#txtRoleInitialFemale'+gBatchNameArray[i]).val());
			prefixFemale.push($('#txtRolePrefixFemale'+gBatchNameArray[i]).val());
			suffixFemale.push($('#txtRoleSuffixFemale'+gBatchNameArray[i]).val());
			initialRollNoMale.push($('#txtRoleInitialMale'+gBatchNameArray[i]).val());
			suffixMale.push($('#txtRoleSuffixMale'+gBatchNameArray[i]).val());
			prefixMale.push($('#txtRolePrefixMale'+gBatchNameArray[i]).val());
		}
	}else if(type=="specialization"){
		initialRollNoMale.push($('#txtRoleInitialMaleSpecial').val());
		suffixMale.push($('#txtRoleSuffixMaleSpecial').val());
		prefixMale.push($('#txtRolePrefixMaleSpecial').val());
		initialRollNoFemale.push($('#txtRoleInitialFemaleSpecial').val());
		suffixFemale.push($('#txtRoleSuffixFemaleSpecial').val());
		prefixFemale.push($('#txtRolePrefixFemaleSpecial').val());
		initialRollNoOther.push($('#txtRoleInitialOtherSpecial').val());
		suffixOther.push($('#txtRoleSuffixOtherSpecial').val());
		prefixOther.push($('#txtRolePrefixOtherSpecial').val());
	}else{
		initialRollNoMale.push($('#txtRoleInitialMale').val());
		suffixMale.push($('#txtRoleSuffixMale').val());
		prefixMale.push($('#txtRolePrefixMale').val());
		initialRollNoFemale.push($('#txtRoleInitialFemale').val());
		suffixFemale.push($('#txtRoleSuffixFemale').val());
		prefixFemale.push($('#txtRolePrefixFemale').val());
	}

	if (!isNaN(semesterBatchId) && semesterBatchId != undefined && initialRollNoMale.length>0 && initialRollNoFemale.length>0) {
		try {
			$.ajax({
				url : 'allocateRollToDivision.json?arragedStudentList=' + arrangedStudentList.toString() + '&initialRollNoMale='+ initialRollNoMale.toString()+
				'&semesterBatchId='+semesterBatchId+'&prefixMale='+prefixMale.toString()+'&suffixMale='+suffixMale.toString()+'&initialRollNoFemale='+ initialRollNoFemale.toString()+
				'&initialRollNoOther='+initialRollNoOther.toString()+'&suffixOther='+suffixOther.toString()+'&prefixOther='+prefixOther.toString()+'&specializationTypeId='+specializationTypeId+
				'&prefixFemale='+prefixFemale.toString()+'&suffixFemale='+suffixFemale.toString()+'&type='+type+'&batchNameArray='+batchNameArray+'&separator=',
				async : false,
				beforeSend : function() {
					startCommonAjaxSpinner();
					$('#studenRollNoAllocationDialog').find('.preview').addClass('loading');
					$('#studenRollNoAllocationDialog').find('.btn-allocateRollNo').attr('disabled','disabled');
				},
				complete : function() {
					stopCommonAjaxSpinner();
					$('#studenRollNoAllocationDialog').find('.preview').removeClass('loading');
					$('#studenRollNoAllocationDialog').find('.btn-allocateRollNo').removeAttr('disabled');
				},
				dataType : 'json',
				type : 'POST',
				success : function(jArray) {					
					if(jArray[0].inCatchFlag==true){
						jAlert(jArray[0].responseText);
						closeRoleAllocationDialog();
						return;
					}else{
						jAlert(jArray[0].responseText
								+ "Successfully allocated! Total affected student: "
								+ (jArray.length - 1), "Success Message");
						closeRoleAllocationDialog();
					}
					if (jArray[0].responseFlag.toString() == '1')
						setRollNoToStudentInGrid(jArray);
				},
				error : function() {}
			});
		} catch (e) {}
	}
}

function allocateRollNoToStudent() {
	
	if ($('#chkNewStudent').is(':checked')){
		allocateDefaultRollNoToFresher();
	}else{
		allocateDefaultRollToDivision();
	}
	
	eval(lastFunctionCalled);
	gStudentsIds = new Array();
	gStudentBatchIds = new Array();
}

var gBatchNameArray = new Array();
function rollNoAllocationType(){
	$('#arrangeStudent').html("");
	$('#arrangeStudent').hide();
	var type = $('input[name = "rollNoAllocation"]:checked').val();
	$('.rollNoAllocation').hide();
	$('#'+type).show();
	
	if(type=="subBatchwise"){
		var semesterBatchId = $('#cbBatchId').val().split("-")[2];
		$.ajax({
			url : 'getAllSubBatchesByBatchSemesterCapacity.json?semesterBatchId='+ semesterBatchId,
			beforeSend : function() {
				startCommonAjaxSpinner();
			},
			complete : function() {
				stopCommonAjaxSpinner();
			},
			dataType : 'json',
			success : function(jArray) {
				gBatchNameArray = new Array();
				if(jArray.length>0){
					var boiler = '';
					for(var i=0; i<jArray.length; i++){
						gBatchNameArray.push(jArray[i].batchName);
						boiler+= '<tr><th colspan="3">For '+jArray[i].batchName+' Male</th></tr>'+
						'<tr><th>Prefix</th><th>Starting Roll No</th><th>Suffix</th></tr>'+
						'<tr>'+
						'<td><input style="width:60px" type="text" id = "txtRolePrefixMale'+jArray[i].batchName+'"></td>'+
						'<td><input style="width:60px" type="text" id = "txtRoleInitialMale'+jArray[i].batchName+'"></td>'+
						'<td><input style="width:60px" type="text" id = "txtRoleSuffixMale'+jArray[i].batchName+'"></td></tr>'+
						'<tr><th colspan="3">For '+jArray[i].batchName+' Female</th></tr>'+
						'<tr><th>Prefix</th><th>Starting Roll No</th><th>Suffix</th></tr>'+
						'<tr>'+
						'<td><input style="width:60px" type="text" id = "txtRolePrefixFemale'+jArray[i].batchName+'"></td>'+
						'<td><input style="width:60px" type="text" id = "txtRoleInitialFemale'+jArray[i].batchName+'"></td>'+
						'<td><input style="width:60px" type="text" id = "txtRoleSuffixFemale'+jArray[i].batchName+'"></td></tr>';
					}
					$('#subBatchwiseTbody').html(boiler);
				}else
					$('#subBatchwiseTbody').html('<tr><td>No sub-batches found</td></tr>');
			},
			error : function() {}
		});
	}else if(type=="specialization"){
		fetchSpecializationNew();
		var boiler = '';
		boiler += '<div><table class="table table-bordered table-condensed">'+
		'<tr><th>Specialization</th><td colspan="2"><select id="specializationTypeId">'+ngSpecilizationSelectBoiler+'</select></td></tr>'+

		'<tr><th colspan="3">For Male</th></tr>'+
		'<tr><th>Prefix</th><th>Starting '+juno.labelByCustomer('l.Customerwise.RollNo.Label')+'</th><th>Suffix</th></tr>'+
		'<tr>'+
		'<td><input style="width:60px" id="txtRolePrefixMaleSpecial" type="text"></td>'+
		'<td><input style="width:60px" id="txtRoleInitialMaleSpecial" type="text"></td>'+
		'<td><input style="width:60px" id="txtRoleSuffixMaleSpecial" type="text"></td>'+
		'</tr>'+
		'<tr><th colspan="3">For Female</th></tr>'+
		'<tr><th>Prefix</th><th>Starting '+juno.labelByCustomer('l.Customerwise.RollNo.Label')+'</th><th>Suffix</th></tr>'+
		'<tr>'+
		'<td><input style="width:60px" id="txtRolePrefixFemaleSpecial" type="text"></td>'+
		'<td><input style="width:60px" id="txtRoleInitialFemaleSpecial" type="text"></td>'+
		'<td><input style="width:60px" id="txtRoleSuffixFemaleSpecial" type="text"></td>'+
		'</tr>'+
		'<tr><th colspan="3">Other</th></tr>'+
		'<tr><th>Prefix</th><th>Starting '+juno.labelByCustomer('l.Customerwise.RollNo.Label')+'</th><th>Suffix</th></tr>'+
		'<tr>'+
		'<td><input style="width:60px" id="txtRolePrefixOtherSpecial" type="text"></td>'+
		'<td><input style="width:60px" id="txtRoleInitialOtherSpecial" type="text"></td>'+
		'<td><input style="width:60px" id="txtRoleSuffixOtherSpecial" type="text"></td>'+
		'</tr>'+

		'</table></div></br><div class="modal-header"><h3>Arrange student</h3></div>';

		boiler+='<table class = "smalltable">'+
		'<tbody><tr><th colspan="2" style = "text-align: left">Arrange by:</th></tr>'+

		'<tr><td><select id="specializationOrderByList" class="skipChoosen" ondblclick="specializationSelectFactor()" size="6">'+
		'<option value="FIRST_NAME">First Name</option>'+
		'<option value="LAST_NAME">Last Name</option>'+
		'<option value="GENDER">Gender</option>'+
		'<option value="ROLL_NO">'+juno.labelByCustomer('l.Customerwise.RollNo.Label')+'</option>'+
		'</select></td>'+
		'<td><select id="specializationSelectedOrderByList" ondblclick="specializationRemoveFactor()" size="6"></select></td></tr>'+

		'<tr><th colspan="2" style = "text-align: left">Which one would you like to be first in student name?</th></tr>'+

		'<tr><td><input id = "specializationChkStudentNamingOrderFirstName" type = "checkbox" name = "suchkStudentNamingOrder" value = "1" onclick = "sUnSelectAllNamingOrderParameter(\'specializationChkStudentNamingOrderFirstName\')"></td><td>First name</td></tr>'+
		'<tr><td><input id = "specializationChkStudentNamingOrderLastname" type = "checkbox" name = "suchkStudentNamingOrder" value = "3" onclick = "sUnSelectAllNamingOrderParameter(\'specializationChkStudentNamingOrderLastname\')"></td><td>Last name</td></tr>'+

		'<tr><td colspan="2"><input type="button" class="btn btn-inverse btn-mini" value="Ok" onclick="getspecializationFormattedStudentList()" style="float:right"></td></tr>'+

		'</tbody></table>';

		$('#arrangeStudent').html(boiler);
		$('#arrangeStudent').show();
	}
}

function allocateCustomRollNoToStudent(arrangedStudentList,initialRollNo,semesterBatchId){
	if ($('#chkNewStudent').is(':checked')) {
		allocateCustomRollNoToFresher(arrangedStudentList, initialRollNo);
	} else {
		allocateCustomRollToDivision(arrangedStudentList, semesterBatchId,initialRollNo);
	}
}


function allocateCustomRollToDivision(arrangedStudentList, semesterBatchId,initialRollNo){
	if (arrangedStudentList.length > 0 && !isNaN(divisionId)
			&& divisionId != undefined && !isNaN(parseInt(initialRollNo))) {
		// ////alert("divisionId: "+divisionId+",, divisionId: "+divisionId+",
		// initialRollNo: "+initialRollNo);
		try {
			$.ajax({
				url : 'allocateCustomRollToDivision.json.htm?arragedStudentList='+ arrangedStudentList + '&semesterBatchId='+ divisionId + 
				'&initialRollNo=' + initialRollNo,
				beforeSend : function() {
					startCommonAjaxSpinner();
				},
				complete : function() {
					stopCommonAjaxSpinner();
				},
				dataType : 'json',
				type : 'POST',
				success : function(jArray) {
					jAlert(jArray[0].responseText
							+ "successfully! Total affected student: "
							+ (jArray.length - 1), "Success Message");
					closeRoleAllocationDialog();
					if (jArray[0].responseFlag.toString() == '1')
						setRollNoToStudentInGrid(jArray);
				},
				error : function() {

				}
			});
		} catch (e) {
			// ////alert(e);
		}
	}
}

function allocateCustomRollNoToFresher(arrangedStudentList, initialRollNo){
	if (arrangedStudentList.length > 0 && !isNaN(parseInt(initialRollNo))) {
		try {
			$.ajax({
				url : 'allocateCustomRollToFresherStudent.json?arragedStudentList='
					+ arrangedStudentList + '&initialRollNo='
					+ initialRollNo,
					beforeSend : function() {
						startCommonAjaxSpinner();

					},
					complete : function() {
						stopCommonAjaxSpinner();
					},
					dataType : 'json',
					type : 'POST',
					success : function(jArray) {
						jAlert(jArray[0].responseText
								+ "successfully! Total affected student: "
								+ (jArray.length - 1), "Success Message");
						closeRoleAllocationDialog();
						if (jArray[0].responseFlag.toString() == '1')
							setRollNoToStudentInGrid(jArray);
					},
					error : function() {

					}

			});
		} catch (e) {
			// ////alert(e);
		}
	}
}

function allocateDefaultRollNoToFresher() {

	//var arrangedStudentList = getAllStudentBatchId();
	var arrangedStudentList = new Array();
	$('.selectedStudent:checked').each(function(){
		//if(!($(this).hasClass('foreignExStudent')))
	//arrangedStudentList.push($(this).val());
		arrangedStudentList.push($(this).closest('tr').find('.hdnStudentBatchIdClnt').html());
	});
	var initialRollNoMale= $('#txtRoleInitialMale').val();
	var prefixMale= $('#txtRolePrefixMale').val();
	var suffixMale = $('#txtRoleSuffixMale').val();
	var initialRollNoFemale = $('#txtRoleInitialFemale').val();
	var prefixFemale = $('#txtRolePrefixFemale').val();
	var suffixFemale = $('#txtRoleSuffixFemale').val();

	var type = $('input[name = "rollNoAllocation"]:checked').val();
	if(type=='overall')
	{
		initialRollNoMale= $('#txtRoleInitial').val();
		prefixMale= $('#txtRolePrefix').val();
		suffixMale = $('#txtRoleSuffix').val();

		initialRollNoFemale = 0;
	}
	
	if (arrangedStudentList.length > 0 && !isNaN(parseInt(initialRollNoMale)) && !isNaN(parseInt(initialRollNoFemale))) {
		try {
			$.ajax({
				url : 'allocateRollToFresherStudent.json?arragedStudentList=' + arrangedStudentList + '&initialRollNoMale='+ initialRollNoMale+
				'&prefixMale='+prefixMale+'&suffixMale='+suffixMale+'&initialRollNoFemale='+ initialRollNoFemale+
				'&prefixFemale='+prefixFemale+'&suffixFemale='+suffixFemale+'&type='+type+'&separator=',
				beforeSend : function() {
					startCommonAjaxSpinner();

				},
				complete : function() {
					stopCommonAjaxSpinner();
				},
				dataType : 'json',
				type : 'POST',
				success : function(jArray) {
					jAlert(jArray[0].responseText
							+ "successfully! Total affected student: "
							+ (jArray.length - 1), "Success Message");
					closeRoleAllocationDialog();
					if (jArray[0].responseFlag.toString() == '1')
						setRollNoToStudentInGrid(jArray);
				},
				error : function() {

				}

			});
		} catch (e) {
			// ////alert(e);
		}
	}
}

/**
 * @since 29th June 2012
 * @param jArray
 *            jsonList which contains key and value pairs of studentId and
 *            rollNo
 */
function setRollNoToStudentInGrid(jArray) {
	var rowCount = $('#student-management-grid').jqGrid('getGridParam',
	'reccount');
	// ////alert("RowCount: "+rowCount);
	for ( var rowId = 1; rowId <= rowCount; rowId++) {
		rowObj = $('#student-management-grid').jqGrid('getRowData', rowId);
		if (rowObj.hdnStudentIdClnt.toString() == jArray[rowId].studentId
				.toString()) {
			$('#student-management-grid').jqGrid('setCell', rowId, 'rollNo',
					jArray[rowId].rollNo);
		}
	}
}

/**
 * @since 9th Jul 2012
 * @param fname
 *            first Name
 * @param mname
 *            middle Name
 * @param lname
 *            last name
 * @param email
 *            E-mail Id
 * @param roll
 *            roll No
 * @param mobNo
 *            mobile no of the student
 * @param semesterBatchId
 *            batchSemesterCapacity of the student. This will be valid if the
 *            student is not fresher
 */
function isValidEmailAddress(emailAddress) {
    var pattern = /^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i;
    return pattern.test(emailAddress);
};
function addStudentToDivision(fname, mname, lname, email, roll, mobNo, appliNo,
		semesterBatchId) {
	
	var applicationNo ="";
	if(appliNo != undefined){
		applicationNo =appliNo;
	}
	
	if($('#chkForeignerName').is(":checked")){
		var firstName =fname;
		var middleName =mname;
		var lastName =lname;
	}
	
	if(isValidEmailAddress(email)){
		
	}else{
		jAlert("Please enter valid email address !");
		return;
	}
	var parentDepartment = '';
	if (validateAddStudentDialog()) {
		try {
			if (isFresher()) {
				semesterBatchId = '';
			}
			var instiCourseInfo = $('#cbInstiCourseId').val();
			var instiCourseStrengthId = $('#cbAcademicBatch').val();
			instiCourseStrengthId = instiCourseStrengthId.split("-")[0];

			var passportNo = "";
			var AdmissionYear = "";
			var universityRegNo = "";
			if($("#chkNRI").is(":checked")){
				passportNo = $('#passportNo').val();
				AdmissionYear = $('#yearofAdmissionNRI').val();
				universityRegNo = $('#universityRegNo').val();
			}

			var gender = $('input[name = "Gender"]:checked').val();

			var isFresher1 = isFresher();

			if(!$('#trParentDepartmentRow').is(':hidden')){
				var parentDepartmentId = $('#cmbStudentParentDepartment').val();  
				parentDepartment = '&parentDepartmentId='+parentDepartmentId;
			}
			
			if($('#chkForeignerName').is(":checked")){
				var data = 'strStudentId=&instiCourseInfo=' + instiCourseInfo
				+ '&instiCourseStrengthId=' + instiCourseStrengthId
				+ '&semesterBatchId=' + semesterBatchId + '&firstName='
				+ firstName + '&middleName=' + middleName + '&lastName=' + lastName
				+ '&emailId=' + email + '&mobileNo=' + mobNo + '&rollNo='
				+ roll + '&isFresher=' + isFresher1+parentDepartment+'&AdmissionYear='+AdmissionYear+'&passportNo='+passportNo+'&gender='+gender+'&universityRegNo='+universityRegNo+'&applicationNo='+applicationNo;
			}else{
			var data = 'strStudentId=&instiCourseInfo=' + instiCourseInfo
			+ '&instiCourseStrengthId=' + instiCourseStrengthId
			+ '&semesterBatchId=' + semesterBatchId + '&firstName='
			+ fname + '&middleName=' + mname + '&lastName=' + lname
			+ '&emailId=' + email + '&mobileNo=' + mobNo + '&rollNo='
			+ roll + '&isFresher=' + isFresher1+parentDepartment+'&AdmissionYear='+AdmissionYear+'&passportNo='+passportNo+'&gender='+gender+'&universityRegNo='+universityRegNo+'&applicationNo='+applicationNo;
			}
			
			$.ajax({
				url : 'addEditStudent.json',
				data : data,
				dataType : 'json',
				type : 'POST',
				beforeSend : function() {
					$('#dialogAddStudent').find('#addStudentD').attr('disabled','disabled');
					startLoading();
				},
				complete : function() {
					$('#dialogAddStudent').find('#addStudentD').removeAttr('disabled');
					stopLoading();
				},
				success : function(jArray) {
					if (jArray[0].errorCode == '0') {
						if($('#addEditStudentNew').val()=='true' || $('#addEditStudentNew').val()==true || $('#isDevelopmentEnvironment').val()=='true' || $('#isDevelopmentEnvironment').val()==true){
							
						}else{
							var jObj = jArray[1];
							addStudentRecordGrid(jObj);
						}
						$('#btnStudentTableRefresh').trigger('click');
						showSuccessMessage('Response: Added successfully! ', 10000);

					} else {
						if(jArray[0].responseText != undefined && jArray[0].responseText != '')
							jAlert(jArray[0].responseText);
						else
							jAlert("Contact to Developer Team ! \n  Error Code.:#"+jArray[0].errorCode);
						//showErrorMessage(jArray[0].responseText,10000);
					}
				}, error:function(){
					jAlert('Server error: Please refresh the page and try again!!!');
				}
			});
		} catch (e) {
			// //alert(e);
		}
	} else {
		// showInformation("Some Error",12000);
	}
}

function addStudentRecordGrid(data) {
	//jQuery("#student-management-grid").addRowData(0, data, "first");
	
	var name = data.firstName + ' ' + data.middleName+' '+data.lastName;
	var rollNo = data.rollNo.toString() != ""?data.rollNo:"Not Assigned";
	var foreignExStyle = data.isForeignExchangeStudent == 'true' || data.isForeignExchangeStudent ? "style=\"background-color:#FCB9B9;\"" : "";
	var foreignExClass = data.isForeignExchangeStudent == 'true' || data.isForeignExchangeStudent ? "foreignExStudent" : "";
	var boiler = '<tr id="studentRow-'+data.studentId+'" class="studentRow" '+(foreignExStyle)+'>'
		+'<td>-</th>' //Serial No
		+'<th><input type="checkbox" class="selectedStudent '+foreignExClass+'" value="'+data.studentId+'" onclick="selectStudentBatchGrid(\'studentRow-'+data.studentId+'\')"></th>' //Check Box
		+'<td class="profilePhoto"><img class="pointer" height="35px" id="studentImg-'+data.studentId+'" width="35px" src="getStudentProfileImageById.json?id='+data.studentId+'"></th>' //Profile Pic
		+'<td class="hdnStudentIdClnt" style="display:none">'+data.studentId+'</td>' //Student Id
		+'<td class="hdnStudentBatchIdClnt" style="display:none">'+data.studentBatchId+'</td>' //Student Batch Id
		+'<td class="rollNo" >'+rollNo+'</td>' // Roll No
		+'<td class="firstName" style="display:none">'+data.firstName+'</td>' // Roll No
		+'<td class="middleName" style="display:none">'+data.middleName+'</td>' // Roll No
		+'<td class="lastName" style="display:none">'+data.lastName+'</td>' // Roll No
		+'<td class="name" width="20%" style="font-size:11.5px">'+name+'</td>' // Student Name
		+'<td class="email" style="">'+data.emailId+'</td>' // Email
		+'<td class="gender" style="">'+data.gender+'</td>' // Gender
		+'<td class="phoneNo" style="">'+data.alternetContactNumber+'</td>' // Mobile No
		+'<td class="subbatch" style="">'+data.status+'</td>' // Sub-Batch
		+'<td class="pcmMarks" style="text-align:right">'+data.pcmMarks+'</td>' // Physic Chem Maths Marks
		+'<td class="speli" style="">'+data.qualiSpecializationName+'</td>' // Specialization (for MBA students)
		+'<td class="parentDepartmentId" style="display:none">'+data.parentDepartmentName+'</td>' //Main Root Department
		+'<td class="deptPromotionId" style="display:none">'+data.deptPromotionId+'</td>' // Department Promotion ID
		+'<td class="parentInstituteCourseId" style="display:none">'+data.parentInstituteCourseId+'</td>'
	//	+'<td class="exportStatus">'+data.exportStatus+'</td>' // Parent Institute Course ID
		//+'<td class="editUserName"><a href="javascript:void(0)" title="Chanage User Name"><i class="icon-edit"></i>&nbsp;User Name</a></td>' // Edit User name
		+'<td><a href="javascript:void(0)" class="editStudent" title="Edit Record"><i class="icon-edit"></i></a></td>' // Edit student Button
		+'</tr>';
	
	$('.tblManageStudentGrid').find('tbody').prepend(boiler);
	
	gStudentsIds = new Array();
	gStudentBatchIds = new Array();
}


function studentInformationFormsForFsisPdf()
{  
	var instStrengthId = $('#cbAcademicBatch option:selected').val().split('-')[0];

    var studentIds = new Array();
	
	$('.selectedStudent:checked').each(function()
	{
		studentIds.push($(this).attr("value"));
	});
	
	window.open("studentInformationFormsForFsisPdf.json?studentIds="+studentIds+'&instStrengthId='+instStrengthId);
	
}

function validateAddStudentForm() {
	var customerIdentificationObj = $('#customerIdentificationObj').val();
	if(customerIdentificationObj != 'IMT_NAGPUR' && customerIdentificationObj != 'IMT_DUBAI' && customerIdentificationObj != 'IMT_GAZIABAD' && customerIdentificationObj != 'IMT_HYDERABAD' ){
	if(!$('#trParentDepartment').is(':hidden')){
		if($('#cmbParentDepartmentUpload').val() == '0'){
			jAlert('Please select parent department!!!');
			return false;
		}
	}
	}

	if (getSelectedInstituteCourseId() == '0') {
		jAlert('Please select course!');
		return false;
	} else if ($('#cbAcademicBatch').val().split("-")[0] == '0') {
		jAlert('Please select academic batch name!');
		return false;
	} else if (!isFresher()) {
		if ($('#cbSemesterId').val() == '0') {
			jAlert('Please select semester!');
			return false;
		} else if ($('#cbAcademicSessionId').val() == '0') {
			jAlert('Please select session!');
			return false;
		} else if ($('#cbBatchId').val() == '0') {
			jAlert('Please select division!');
			return false;
		}
	}
	return true;
}

function validateAddStudentDialog() {

	if(!$('#trParentDepartmentRow').is(':hidden')){
		if ($('#cmbStudentParentDepartment').val() == '0') {
			jAlert('Please select parent department!');
			return false;
		}	
	}

	if ($('#firstName').val().trim() == '') {
		jAlert('Please enter first name!');
		return false;
	}  else if ($('#emailId').val().trim() == '') {
		jAlert('Please enter email id!');
		return false;
	} else {
		return true;
	}
}

/**
 * @since 9th Jul 2012
 * @returns {Boolean}
 * @functionality this function has been used to check whether the student is
 *                fresher or not
 */
function isFresher() {
	if ($('#chkNewStudent').is(':checked') || $('#uploadAsApplicantId').is(':checked')) {
		return true;
	} else {
		return false;
	}
}

function allocateDivisionToStudent(studentInstiArray, semesterBatchId) {

	var sizeOfNewList = studentInstiArray.split(',').length;
	var studentHideDivToChechCall = $('#studentHideDivToChechCall').val();
	
	if(studentHideDivToChechCall=="true"){
		var studentHideDivToValidation = $('#studentHideDivToValidation').val();
		var capacity = studentHideDivToValidation.split('_')[0];
		var countOfStudent = studentHideDivToValidation.split('_')[1];
		var totalCount = eval(sizeOfNewList)+eval(countOfStudent);
		/*if(totalCount > capacity){
			jAlert("Student Current Count ("+totalCount+") Is Greater Than Capacity Of Batch ("+capacity+") !!!");
			return;
		}*/
	}
	
	if (studentInstiArray == undefined) {
		/**
		 * studenInstituteIds has to be taken and should be assigned in the
		 * studentInstiArray
		 */
	}
	var allocationType = '';
	if($('#gridAllocateDivCaptionHeader').hasClass('fresher')){
		allocationType = 'fresher';
	} else {
		allocationType = 'non-fresher';
	}
	/*studentInstiArray = new Array();
	$('input.selectedStudent:checked').each(function(){
		studentInstiArray.push($(this).val());
	});*/
	
	if(allocationType != '' && allocationType != undefined){
		if (studentInstiArray.length > 0) {
			if (semesterBatchId != undefined && semesterBatchId != '0' && semesterBatchId != '') {
				
				var WEFDate = $('#transferWEF').val();
				if (WEFDate != '') {
				try {
					
					var roleType= $('#roleNameFromHeaderlinktype').val();
				    var schemaLink = 'allocateDivisionToStudent.json';
				    if(roleType == "academicadmin"){
				        schemaLink = 'asd_allocateDivisionToStudent.json';
				    }else if(roleType == "headadmin"){
						schemaLink = 'ihe_allocateDivisionToStudent.json';
					}
					
					$.ajax({
						url : schemaLink+'?studentInstiArray='+ studentInstiArray+ '&semesterBatchId='+ semesterBatchId+
						'&allocationType='+allocationType+'&WEFDate='+WEFDate,
						dataType : 'json',
						type : 'POST',
						beforeSend:function(){
							$('#btnStudentDivisionAllocation').attr('disabled','disabled');
							$('#divStudentDivisionAllocationDialog').find('.preview').addClass('loading');
						},complete:function(){
							$('#btnStudentDivisionAllocation').removeAttr('disabled');
							$('#divStudentDivisionAllocationDialog').find('.preview').removeClass('loading');
						},
						success : function(jArray) {
							try{
								if (jArray[0].members.responseFlag.value = "1") {
									if ($('#chkNewStudent').is(':checked')) 
										showFresherStudentByBatch();
									else
										gStudentListJsonArray = jArray[1];
									
									showStudentListByCourseSemeserAndDivision();
									
									var message = jArray[0].members.responseParam.value+ " student(s) are successfully allocated to division.";
									if(jArray[0].members.studentList.value.length>0)
										message += '<br>Following students are not transfered as their attendance is already filled for dates after'+WEFDate+'<br>'+jArray[0].members.studentList.value;
										
									showSuccessMessage(jArray[0].members.responseParam.value+ " student(s) are successfully allocated to division: ",5000);
									
									
								}
								
							}catch(e){}
							jAlert(jArray[0].members.responseText.value);
							$('#divStudentDivisionAllocationDialog').modal('hide');
						},
						error : function() {

						}

					});

				} catch (e) {
					alert(e);
				}
			} else 
				jAlert('Please select the WEF Date','Warning');
			} else 
				jAlert('Please select the batch','Warning');
		} else {
			jAlert('First select the students!');
		}
	} else {
		//jAlert('No allocation type found!!! Please specify the allocation type','Error');
	}
}

/**
 * @since 12 Jul 2012
 * @f
 */
function doSomethingOnDivAllocationClick() {
	var batch = $('#cbAcademicBatch option:selected').text();
	$('#spnFresherOption').html('For fresher(' + batch + ') batch');
	$('#spnExistingOption').html('For existing(' + batch + ') batch');
}

/**
 * 
 */
function doSomethingOnPromotionClick() {
	var batch = $('#cbAcademicBatch option:selected').text();
	$('#spnDefaultPromotionRadioLabel').html(
			'Default promotion for ' + batch + ' batch');
	$('#btnGetStudentForPromotion').val('Get student for ' + batch + ' batch');
}
/**
 * @since 12 Jul 2012
 * @param instiCourseId
 * @param academicBatchId
 */
function getFresherStudentCredential(instiCourseId, academicBatchId) {
	getCurrentAcademicBatchDetailForFresher(instiCourseId, academicBatchId);
}

function getCurrentAcademicBatchDetailForFresher(instiCourseId, academicBatchId) {
	try {
		var flag = false;
		$('#cbSemesterId option').each(function() {
			if ($(this).val() == '1') {
				$('#txtSemesterId').data('semesterId', $(this).val());
				$('#txtSemesterId').val($(this).text());
				flag = true;
			}
		});
		if (flag) {
			$
			.ajax({
				url : 'getCurrentAcademicBatchForFresher.json?instiCourseId='
					+ instiCourseId
					+ '&academicBatchId='
					+ academicBatchId,
					dataType : 'json',
					type : 'GET',
					success : function(jArray) {
						var sessionList = jArray[0];
						var divisionList = jArray[1];
						var studentList = jArray[2];
						var divisionListBoilerplate = '';
						if (sessionList.length > 0) {
							var yrBegining = sessionList[0]['academicYearBegining'];
							var yrEndining = sessionList[0]['academicYearEnd'];
							$('#txtCurrAcademicSession').val(
									yrBegining + '-' + yrEndining);
						}
						$('#txtCurrAcademicSession').data(
								'currentAcademicSessionId',
								sessionList[0]['semesterBatchId']);
						for ( var i = 0; i < divisionList.length; i++) {
							if (divisionList[i]['batchName'] != undefined)
								divisionListBoilerplate += '<option value = '
									+ divisionList[i]['semesterBatchId']
							+ '>'
							+ divisionList[i]['batchName']
							+ '</option>';
							else
								divisionListBoilerplate += '<option value = '
									+ divisionList[i]['semesterBatchId']
							+ '>'
							+ divisionList[i]['batchModel']['batchName']
							+ '</option>';
						}
						$('#cbTargetBatchId').html(divisionListBoilerplate);
						gStudentListJsonArray = studentList;
						showStudentListInGrid();
					},
					error : function() {

					}
			});
		} else {
			jAlert('Division has not been configured for Semester-1. Kindly create divisions for Term 1 first.');
		}
	} catch (e) {

	}
}

function verifyStudentPromotion(batchId) {
	try {
		$.ajax({
			url : 'checkSemesterForActiveInactive.json?strengthId=' + batchId,
			dataType : 'json',
			type : 'GET',
			success : function(jArray) {
			}
		});
	} catch (e) {
	}
}
/**
 * @since 20th Jul 2012
 * @functionality logic for hide and show promoteStudentButton
 */
function showPromoteStudentOption() {
	showStudentListByBatch();
	var rowCount = $('#student-management-grid').jqGrid('getGridParam',
	'reccount');
	if (rowCount > 0) {
		$('#trPromoteStudent').show();
	} else {
		$('#trPromoteStudent').hide();
		jAlert('No student found for this batch');
	}
}

/**
 * 
 * @param studentlist
 *            array of the selected student
 * @param batchId
 *            target batchId
 */
function promotStudent(studentlist, batchId) {
	//alert("StudentId: " + studentlist + " batchId: " + batchId);
	if(studentlist.length > 0){
		$.ajax({
			url : 'studentPromotion.json',
			data : {
				studentList : studentlist,
				batchId : batchId
			},
			dataType : 'json',
			type : 'POST',
			beforeSend : function() {
				$('#divStudentPromotionDialogBody').find('.btnPromoteStudent').hide();
				$('#divStudentPromotionDialogBody').find('.loaderimg').show();

			},
			complete : function() {
				$('#divStudentPromotionDialogBody').find('.btnPromoteStudent').show();
				$('#divStudentPromotionDialogBody').find('.loaderimg').hide();
			},
			success : function(jArray) {
				if(jArray.length == 2){
					jAlert(jArray[0].members.responseText.value,'success');
					showStudentListInTargetPromotionGrid(jArray[1]);
					showStudentInSourceBatch();
				} else {
					jAlert("",'error');
				}
			}
		});
	} else {
		jAlert('Please select student to promot!!!','warning');
	}
}

/**
 * 
 * @param studentListArray
 *            selected student list
 */
function allocateDefaultSubjectToStudentList(studentListArray) {
	var batchCapacityId = getSemesterBatchId();
	if (batchCapacityId == '0') {
		jAlert('Select division!');
	} else if (studentListArray.length <= 0) {
		jAlert('Select student(s)!');
	} else {
		try {
			$.ajax({
				url : 'studentSubjectAllocation.json',
				data : {
					studentListArray : studentListArray,
					batchCapacityId : batchCapacityId
				},
				type : 'POST',
				dataType : 'json',
				beforeSend : function() {
					startCommonAjaxSpinner();
				},
				complete : function() {
					stopCommonAjaxSpinner();
				},
				success : function(jArray) {
					jAlert(jArray[0].members.responseText.value);
				},
				error : function() {

				}
			});
		} catch (e) {

		}
	}
}

function getBlockedStudent(instituteCourseId, academicBatchId, semesterID) {
	try {
		if (instituteCourseId != '0' && academicBatchId != '0'
			&& semesterID != '0') {
			$.ajax({
				url : 'getBlockedStudent.json?instituteCourseId='
					+ instituteCourseId + '&academicBatchId='
					+ academicBatchId + '&semesterId=' + semesterID,
					dataType : 'json',
					success : function(jArray) {
						gStudentListJsonArray = jArray;
						showStudentListInGrid();
					},
					error : function() {

					}
			});
		}
	} catch (e) {

	}
}

function paintStudentManagementGrid() {
	var boiler = '<table id="student-management-grid"></table>'
		+ '<div id="student-management-toolbar"></div>';
	$('#divStudentManagementGrid').html(boiler);
}






function removeStudentManagementGrid() {
	$('#divStudentManagementGrid').html('');
}

/**
 * @since
 */
function showStudentPromotionDialog() {
	var batchId = $('#cbAcademicBatch').val().split('-')[0];//Academic Batch
	var semId = parseInt($('#cbAcademicBatch').val().split('-')[1]);
	getBlockedDivisionListByStrengthAndSemesterId(batchId,semId - 1,function(previousDivisionArray){
		getCurrentDivisionByInstituteCourseStrengthId(batchId,function(runningDivisionjArray){
			if(previousDivisionArray.length > 0){

				if(runningDivisionjArray.length > 0){
					//var blockedDivArray = new Array();
					var prevSemName = previousDivisionArray[0].semesterName;
					var currSemName = runningDivisionjArray[0].semesterName;
					/*for(var i = 0 ; i < previousDivisionArray.length;i++){
						blockedDivArray.push(previousDivisionArray[i].semesterBatchId);
					}*/
					//checkStudentExistensInPreviousDivision(blockedDivArray,function(flag){
					var boiler = 

						'<table class = "table table-bordered table-condensed" style="margin-top:-10px;width:100%" >'
						+ '<tbody>'
						//+ '<tr>'
						//+ '<th colspan = "2" id = "tdPromotionHeader"></th>'
						//+ '</tr>'
						+ '<tr>'
						+ '<th width="20%">Source batch/division&nbsp;('+prevSemName+')</th>'
						+ '<td width="30%"><select class="" title = "Select Division/Batch to promote" id = "cbPromotionBatch" onchange = "showStudentInSourceBatch()"><option value = "0">Select</option></select></td>'
						+ '<th width="20%">Target batch/division&nbsp;('+currSemName+')</th>'
						+ '<td width="30%"><select class="" title = "Select Division/Batch to promote" id = "cbBatchId" onchange = "showStudentInTargetBatch()"><option value = "0">Select</option></select></td>'
						+ '</tr>'
						+ '</tbody>'
						+ '</table>'
						+ '<table class="table table-bordered table-condensed" style="margin-top:0px;height:320px">'
						+ '</tbody>'
						+ '<tr>'
						+ '<td width = "45%">'
						+ '	<table id="student-promotion-management-grid-source"></table>'
						+ '<div id="student-promotion-management-toolbar-source"></div>'
						+ '</td>'
						+ '<td width = "10%" style = "text-align:center">'
						+ '<input type = "button" class = "btn btn-inverse btn-mini btnPromoteStudent" value = "Promot" />'
						+ '<img  src="img/ajax-loader-moving.gif" class="loaderimg" style="display:none">'
						+ '</td>' + '<td width = "45%">'
						+ '<table id="student-promotion-management-grid-target"></table>'
						+ '<div id="student-promotion-management-toolbar-target"></div>'
						+ '</td>' + '</tr>' + '</tbody>' + '</table>';
					$('#divStudentPromotionDialogBody').html(boiler);
					initManageStudentPromotionSourceGrid();
					initManageStudentPromotionTargetGrid();
					$('#divStudentPromotionDialog').modal('show');
					$('#divStudentManagementGrid').hide();
					showDivisionInPromotionGrid(previousDivisionArray);
					showDivisionInTargetComboxInGrid(runningDivisionjArray);
					//showStudentListInTargetPromotionGrid();
					$('.btnPromoteStudent').click(function(){
						if($('#cbPromotionBatch').val() != '0'){
							jConfirm('Are you sure to promote?','Confirmation',function(flag){
								if(flag){
									promotStudent(getSelectedStudentToPromot('student-promotion-management-grid-source'),$('#cbBatchId').val().split('-')[2]);
								}
							});
						} else {
							jAlert('Please select division');
						}

					});
				} else {
					jAlert('Current Class has no running division! Please check the current Class division.','error');	
				}
			} else {
				jAlert('Previous Class has no blocked division! Please check the previous Class division.','error');
			}
		});
	});


}

function setStudentPromotionGridTargetTitle(text) {
	jQuery('#student-promotion-management-grid-target').jqGrid('setCaption',text);
}


function setStudentPromotionGridSourceTitle(text) {
	jQuery('#student-promotion-management-grid-source').jqGrid('setCaption',text);
}


function closeStudentPromotionDialog() {
	$('#divStudentPromotionDialog').html('');
	$('#divStudentPromotionDialog').dialog('close');
	$('#divStudentManagementGrid').show();
}

var gSourceSemName = '';
var gTargetSemName = '';
function showDivisionInPromotionGrid(jArray) {
	var boiler = '<option value = "0">Select</option>';
	for(var i = 0 ; i < jArray.length ; i++){
		boiler += '<option value = "'+jArray[i]['batchId']+'-'+jArray[i]['capacity']+'-'+jArray[i]['semesterBatchId']+'-'+jArray[i]['pattern']+'">'+ jArray[i]['batchName'] + '</option>';
		gSourceSemName = jArray[i]['semesterName'];
	}
	$('#cbPromotionBatch').html(boiler);
	var targetSemName = $('#cbAcademicBatch :selected').text();
	var targetBatchName = $('#cbBatchId :selected').text();
	var sourceBatchName = $('#cbPromotionBatch :selected').text();
	$('#tdPromotionHeader').html('Promotion of student from <u>Class '+gSourceSemName+ '</u> to <u>Class:  '+targetSemName+'</u>');
	setStudentPromotionGridTargetTitle("Term: "+targetSemName+", Division: "+targetBatchName);
	setStudentPromotionGridSourceTitle("Term: "+gSourceSemName+", Division: "+sourceBatchName);
}


function showDivisionInTargetComboxInGrid(jArray){
	var boiler = '<option value = "0">Select</option>';
	for(var i = 0 ; i < jArray.length ; i++){
		boiler += '<option value = "'+jArray[i]['batchId']+'-'+jArray[i]['capacity']+'-'+jArray[i]['semesterBatchId']+'-'+jArray[i]['pattern']+'">'+ jArray[i]['userBatchName'] + '</option>';
		gTargetSemName = jArray[i]['semesterName'];
	}
	$('#cbBatchId').html(boiler);
}

/**
 * Unblock the year down student and update the batchSemesterCapacityId with
 * selected one from the interface
 * 
 * @param studentBatchIds
 *            comma separated studenBatchId
 * @param divisionId
 *            selected batchSemesterCapacityId
 */
function unblockStudentYearDownStudent(studentBatchIds, divisionId) {
	var len = studentBatchIds.split(',').length;
	if (len > 0) {
		if (divisionId != '0') {
			try {
				$.ajax({
					url : 'unBlockedStudent.json',
					data : {
						studentBatchIds : studentBatchIds,
						divisionId : divisionId
					},
					dataType : 'json',
					type : 'POST',
					success : function(jArray) {
						var flag = jArray[0].members.responseFlag.value;
						if (flag == '1') {
							var len = jArray[1].length;
							showStudentListByCourseSemeserAndDivision();
							showSuccessMessage(
									len
									+ ' student(s) have been allocated to division '
									+ getDivisionName(), 30000);
						} else {
							showErrorMessage('Allocation failed!',
									30000);
						}
					}
				});
			} catch (e) {

			}
		} else {
			jAlert('Select division!');
		}
	} else {
		jAlert('Select student!');
	}
}

function validateStudentUpdate(value, colName) {

	if (colName == 'status') {
		jConfirm('Are you sure?', function(response) {
			if (response) {
				return [ true, "" ];
			} else {
				return [ false, "" ];
			}
		});
	}

}

function showTargetBatchDialog() {
	$('#divStudentDivisionAllocationDialog').modal('show');
}


function showStudentInSourceBatch(){
	var batchId = $('#cbPromotionBatch').val().split('-')[2];
	if(batchId != '0') {
		var sourceBatchName = $('#cbPromotionBatch :selected').text();
		setStudentPromotionGridSourceTitle("Class: "+gSourceSemName+", Division: "+sourceBatchName);
		getStudentBySemesterBatchId(batchId,function(jArray){
			showStudentListInSourcePromotionGrid(jArray);
		});
	}

}

function showStudentInTargetBatch(){
	var batchId = $('#cbBatchId').val().split('-')[2];
	if(batchId != '0') {
		var targetBatchName = $('#cbBatchId :selected').text();
		setStudentPromotionGridTargetTitle("Class: "+gTargetSemName+", Division: "+targetBatchName);
		getStudentBySemesterBatchId(batchId,function(jArray){
			showStudentListInTargetPromotionGrid(jArray);
		});
	}

}

function getStudentBySemesterBatchId(semesterBatchId,callback){

	$.ajax({
		url:'studentListSP.json?semesterBatchId=' + semesterBatchId,
		dataType:'json',
		async : false,
		beforeSend : function() {
			startCommonAjaxSpinner();
		},
		complete : function() {
			stopCommonAjaxSpinner();
		},
		success:function(jArray){
			callback(jArray);
		}
	});
}

function getBlockedDivisionListByStrengthAndSemesterId(strengthId,semesterId,callback){
	$.ajax({
		url:'getBlockedDivisionListByStrengthAndSemesterId.json?strengthId='+strengthId+'&semesterId='+semesterId,
		dataType:'json',
		beforeSend : function() {
			startCommonAjaxSpinner();
		},
		complete : function() {
			stopCommonAjaxSpinner();
		},
		success:function(jArray){
			callback(jArray);
		}
	});
}

//getStudentPersonalInfoById.htm
function getStudentPersonalInfoById(studentId,instituteCourseStrengthId,callback){
	$.ajax({
		url:'getStudentPersonalInfoByStudentId.json',
		data:'studentId='+studentId+'&instituteCourseStrengthId='+instituteCourseStrengthId,
		type:'GET',
		dataType:'json',
		success:function(jObject){
			try{
				callback(jObject);
			}catch(e){}
		}
	});
}
/**
 * @param rowId
 */

function showStudentCurrentInfoDialog(studentId){

	$('#dialogEditStudent').modal('show');
	$('#frmEditStudent').reset();
	var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	getStudentPersonalInfoById(studentId,instituteCourseStrengthId,function(jObject){
		var emailId = jObject.emailId;
		$('#studentPesonalDetailId').val(studentId);
		$('#emailIdEditCurrent').val(emailId);
	});
}

function editStudentPersonalInfoById(){
	jConfirm("Do you want to change username?", "Confirm", function(r){
		if(r){
			var email = $('#emailIdEditChanged').val();
			var filter = /^[a-zA-Z0-9]+[a-zA-Z0-9_.-]+[a-zA-Z0-9_-]+@[a-zA-Z0-9]+[a-zA-Z0-9.-]+[a-zA-Z0-9]+.[a-z]{2,4}$/;
			if(email == "" || !filter.test(email)){
				jAlert("Please enter valid email id");
				return false;
			}			
			$.ajax({
				url:'editStudentPersonalInfoByStudentId.json',
				data:$('#frmEditStudent').serialize(),
				dataType:'json',
				type:'POST',
				success:function(jObject){
					//jAlert('User name updated successfully!');
					if(jObject.responseFlag == '1'){
						jAlert('User name updated successfully');
						//$('#dialogEditStudent').modal('hide');
						//showStudentListByCourseSemeserAndDivision();
					} else if(jObject.responseFlag == '0'){
						jAlert('Email id already exist');
					}
				},error:function(){
					alert('In error');
				}
			});
		}
	});
}

function sendRegsitrationMailToStudent(jArray,isUploadAsApplicant){
	var emailIdsArray = new Array();

	for(var i = 0 ; i < jArray.length ; i++){
		emailIdsArray.push(jArray[i]);
	}
	
	$.ajax({
		url:'sendRegsitrationMailToStudent.json',
		data:{emailIdsArray:emailIdsArray.toString(),isUploadAsApplicant:isUploadAsApplicant},
		dataType:'json',
		success:function(jArray){
			if(jArray.length > 0){
				$('tr#uploadResponseRow').find('.response').removeClass('alert-error');
				$('tr#uploadResponseRow').find('.response').removeClass('alert-info');
				$('tr#uploadResponseRow').find('.response').html(
						'<button type="button" class="close" onclick="$(\'#uploadResponseRow\').hide()">X</button><strong>Mail sent with some failure.</strong><br />'+jArray+''
				);
			} else {
				$('tr#uploadResponseRow').find('.response').removeClass('alert-error');
				$('tr#uploadResponseRow').find('.response').addClass('alert-info');
				$('tr#uploadResponseRow').find('.response').html(
						'<button type="button" class="close" onclick="$(\'#uploadResponseRow\').hide()">X</button><strong>Mail sent Successfully</strong>'
				);
			}
		}
	});
}

/**
 * @since 16 Apr 2013
 */
function refreshManageStudentPage() {
	/*var check = "";
	$('#chkNewStudent').is(':checked');
		check = "unchecked";
*/
	$('#chkNewStudent').attr('checked',false);
	if($('#cbSemesterId option')[1] != undefined) {
		$('#cbSemesterId option')[1].selected = true;
		$('#cbSemesterId').trigger('change');
		if($('#cbAcademicSessionId option')[1] != undefined){
			$('#cbAcademicSessionId option')[1].selected = true;
			$('#cbAcademicSessionId').trigger('change');
			if($('#cbBatchId option')[1] != undefined){
				$('#cbBatchId option')[1].selected = true;
				$('#cbBatchId').trigger('change');
			} else {
				jAlert('No division found for selected batch');
			}
		} else {
			jAlert('No active session found for selected batch');
		}
	} else {
		jAlert('No active Class found for selected batch');
	}
}

function checkForActiveSemester(){

	checkProgramIsForSchool();

	$('#smsForFresher').hide();
	$('#emailForFresher').hide();
	
	var instituteCourseId = $('#cbInstiCourseId').val();
	var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	var customerIdentificationObj = $('#customerHelper').val();
	if(customerIdentificationObj != undefined && (customerIdentificationObj == 'IMT_NAGPUR' ||customerIdentificationObj == 'IMT_GAZIABAD' || customerIdentificationObj == 'IMT_HYDERABAD' ))
	{
	startUploading(instituteCourseId,instituteCourseStrengthId);
	}
	var message = '';
	populateSemesterByBatchAndInstituteCourseId(function(jArray) {
		initManageStudentGrid();
		if(jArray.length > 0){
			refreshManageStudentPage();
			/** This below code helps in detecting whether grid student are fresher or allocated ***/
			$('#gridAllocateDivCaptionHeader').removeClass('fresher');
			$('#gridAllocateDivCaptionHeader').addClass('non-fresher');
			var batchName = $('#cbAcademicBatch option:selected').text();
			var semesterName = $('#cbSemesterId option:selected').text();
			var sessionName = $('#cbAcademicSessionId option:selected').text();
			var divisionName = $('#cbBatchId option:selected').text();
			message = batchName+' &raquo; '+semesterName+' &raquo; '+divisionName;
		} else {
			showFresherStudentByBatch();
			/** This below code helps in detecting whether grid student are fresher or allocated ***/
			$('#gridAllocateDivCaptionHeader').removeClass('non-fresher');
			$('#gridAllocateDivCaptionHeader').addClass('fresher');
			var batchName = $('#cbAcademicBatch option:selected').text();
			message = batchName;
		}

		$('#trShiftType').hide();
		$('#btnAllocateDivisionRollNos').hide();

		checkForPromotionInDepartment(function(jObject){
			if(jObject.hasPromotionInDepartment){
				var customerIdentificationObj = $('#customerIdentificationObj').val();
				if(customerIdentificationObj != 'IMT_NAGPUR' && customerIdentificationObj != 'IMT_DUBAI' && customerIdentificationObj != 'IMT_GAZIABAD' && customerIdentificationObj != 'IMT_HYDERABAD' ){
				$('#trParentDepartment').show();
				var boiler  = '';
				$('#cbInstiCourseId option').each(function(){
					var val = $(this).val().split('-')[0];
					var text = $(this).text();
					boiler += '<option value="'+val+'">'+text+'</option>';
				});
				$('#cmbParentDepartmentUpload').html(boiler);
				convertComboToSearchable('#cmbParentDepartmentUpload');
				}
			} else {
				$('#trParentDepartment').hide();
			}
		});
		$('.divStudentListGridInfo').html(`<span style="color: #03b1a9;"><b>${message}</b></span>
	<hr style="border-bottom: 1px solid #b6b6b675;margin-top: 3px;border-bottom: 1px solid var(--juno-green)">`)
	});
} 


function showStudentUploadRow(){
	checkForPromotionInDepartment(function(jObject){
		var customerIdentificationObj = $('#customerIdentificationObj').val();
		if(customerIdentificationObj != 'IMT_NAGPUR' && 
			customerIdentificationObj != 'IMT_DUBAI' && 
			customerIdentificationObj != 'IMT_GAZIABAD' && 
			customerIdentificationObj != 'IMT_HYDERABAD' &&
			customerIdentificationObj != 'INDIRA_PUNE'){
			if(jObject.hasPromotionInDepartment){
				$('#trParentDepartment').show();
			} else {
				$('#trParentDepartment').hide();
			}
		}
		$('#trUploadStudentRow').show('slow');
	});
}



function getStudentPersonalInfoByStudentId(studentId,instituteCourseStrengthId,callback){
	$.ajax({
		url:'getStudentPersonalInfoByStudentId.json',
		dataType:'json',
		data:'studentId='+studentId+'&instituteCourseStrengthId='+instituteCourseStrengthId,
		success:function(jObject){
			try{
				callback(jObject);
			}catch(e){}
		}
	});
}

function getStudentPersonalInfoByStudentIdnew(studentId,instituteCourseStrengthId,oldFeeStructureId,callback){
	$.ajax({
		url:'getStudentPersonalInfoByStudentIdFeeItemId.json',
		dataType:'json',
		data:'studentId='+studentId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&oldFeeStructureId='+oldFeeStructureId,
		beforeSend : function() {
			startCommonAjaxSpinner();
		},
		complete : function() {
			stopCommonAjaxSpinner();
		},
		success:function(jObject){
			try{
				callback(jObject);
			}catch(e){}
		}
	});
}
function showSelectedStudentInSelectedList(studentObject){

	/*var studentId = studentObject.studentId;
	var studentRoll = studentObject.studentRoll;
	var studentName = studentObject.studentName;

	var boiler = 
		'<tr>'+
			'<td>'+studentId+'</td>'+
			'<td>'++'</td>'+
			'<td></td>'+
		'</tr>';*/
}


function getDivisionForStudentDivisionAllocation(){
	var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	getCurrentDivisionByInstituteCourseStrengthId(instituteCourseStrengthId,function(runningDivisionjArray){
		if(runningDivisionjArray.length > 0){
			var semesterName = runningDivisionjArray[0].semesterName;
			var sessionName = runningDivisionjArray[0].academicYearBegining+"-"+runningDivisionjArray[0].academicYearEnd;
			var divisionName = runningDivisionjArray[0].userBatchName;
			message = semesterName +' &raquo; '+divisionName;
			$('.divStudentListGridInfo').html(`<span style="color: #03b1a9;"><b>${message}</b></span>
	<hr style="border-bottom: 1px solid #b6b6b675;margin-top: 3px;border-bottom: 1px solid var(--juno-green)">`)
			populateCurrentDivisionByInstituteCourseStrengthId(runningDivisionjArray,'cbTargetBatchId');
		}
	});
}

function resetStudentUserPassword(studentId,studentName){
	jConfirm('Are you sure to reset password of: '+studentName,'Confirmation',function(flag){
		if(flag){
			$.ajax({
				url:'resetStudentPassword.json',
				data:'studentId='+studentId,
				type:'POST',
				success:function(jObj){
					jAlert('Password has been reset successfully!!!');
				},error:function(){
					jAlert('Server error: Please refresh the page and try again!!!');
				}
			});	
		}
	});
}


function resetRollNoOfStudentByDivision(){
	var semesterBatchId = $('#cbBatchId').val().split('-')[2];

	if(semesterBatchId != undefined){
		jConfirm('Are you sure to blank the roll nos of all students?','Confirmation',function(flag){
			if(flag){
				var semesterBatchId = $('#cbBatchId').val().split('-')[2];
				$.ajax({
					url:'resetStudentRollNo.json',
					data:'semesterBatchId='+semesterBatchId,
					type:'POST',
					dataType:'json',
					beforeSend : function() {
						startCommonAjaxSpinner();
					},
					complete : function() {
						stopCommonAjaxSpinner();
					},
					success:function(jObj){
						if(jObj.responseFlag.toString() == '1'){
							showStudentListByCourseSemeserAndDivision();
							jAlert(jObj.responseText);
						} else {
							jAlert('Error occurred while removing roll number of the students!!!');
						}
					},error:function(){
						jAlert('Server error: Please refresh the page and try again!!!');
					}
				});	
			}
		});
	} else {
		
		var studentIdArray = new Array();
		$('.selectedStudent:checked').each(function(){
			studentIdArray.push($(this).val());
		});
		
		if(studentIdArray.length<1){
			jAlert("Please select at least one student!!!");
			return;
		}
		
		jConfirm('Are you sure to blank the roll nos of all students?','Confirmation',function(flag){
			if(flag){
				$.ajax({
					url:'resetStudentRollNoNewIfSemesterBatchIdNotFound.json',
					data:{studentIdArray:studentIdArray.toString()},
					type:'POST',
					dataType:'json',
					beforeSend : function() {
						startCommonAjaxSpinner();
					},
					complete : function() {
						stopCommonAjaxSpinner();
					},
					success:function(jObj){
						if(jObj.responseFlag.toString() == '1'){
							showStudentListByCourseSemeserAndDivision();
							jAlert(jObj.responseText);
						} else {
							jAlert('Error occurred while removing roll number of the students!!!');
						}
					},error:function(){
						jAlert('Server error: Please refresh the page and try again!!!');
					}
				});	
			}
		});
	}
}

function recoverDeletedStudentByDivision(){
	var semesterBatchId = $('#cbBatchId').val().split('-')[2];

	if(semesterBatchId != undefined){

		jConfirm('Are you sure to recover?','Confirmation',function(flag){
			if(flag){
				var semesterBatchId = $('#cbBatchId').val().split('-')[2];
				$.ajax({
					url:'recoverStudentListByDivision.json',
					data:'semesterBatchId='+semesterBatchId,
					type:'POST',
					dataType:'json',
					beforeSend : function() {
						startCommonAjaxSpinner();
					},
					complete : function() {
						stopCommonAjaxSpinner();
					},
					success:function(jObj){
						if(jObj.responseFlag.toString() == '1'){
							showStudentListByCourseSemeserAndDivision();
							jAlert(jObj.responseText);
						} else {
							jAlert('Error occurred while removing roll number of the students!!!');
						}
					},error:function(){
						jAlert('Server error: Please refresh the page and try again!!!');
					}
				});	
			}
		});
	} else {
		jAlert('Please select division!!!');
	}
}

function getBlockedStudentListByDepartment(instituteCourseId,callback){
	$.ajax({
		url:'getBlockedStudentListByDepartmentId.json',
		dataType:'json',
		data:'instituteCourseId='+instituteCourseId,
		type:'POST',
		success:function(jArray){
			callback(jArray);
		},error:function(){
			jAlert('Server error: Please refresh the page and try again!!!');
		}
	});
}

function showAdmissionCancelledStudentListByDepartment(instituteCourseId,callback) {
	$.ajax({
		url:'getAdmissionCancelledStudentListByDepartmentId.json',
		dataType:'json',
		data:'instituteCourseId='+instituteCourseId,
		type:'POST',
		success:function(jArray){
			callback(jArray);
		},error:function(){
			jAlert('Server error: Please refresh the page and try again!!!');
		}
	});
}

function getYearDownStudentListByDepartmentId(instituteCourseId,callback) {
	$.ajax({
		url:'getYearDownStudentListByDepartmentId.json',
		dataType:'json',
		data:'instituteCourseId='+instituteCourseId,
		type:'GET',
		success:function(jArray){
			callback(jArray);
		},error:function(){
			jAlert('Server error: Please refresh the page and try again!!!');
		}
	});
}


function getCurrentDivisionByInstituteCourseStrengthIdForTransferDivision(instituteCourseStrengthId,divisionId,callback){
	try{
		$.ajax({
			url:'getDivisionListByInstituteCourseStrengthIdForTransfer.json',
			dataType:'json',
			data:'instiCourseStrengthId='+instituteCourseStrengthId+'&currentDivisionId='+divisionId,
			beforeSend:function(){},
			complete:function(){},
			success:function(jArray){
				callback(jArray);
			}
		});
	}catch(e){}
}

function showBreakStudentListByDepartment(instituteCourseId,callback) {
	$.ajax({
		url:'getBreakStudentListByDepartmentId.json',
		dataType:'json',
		data:'instituteCourseId='+instituteCourseId,
		type:'POST',
		success:function(jArray){
			callback(jArray);
		},error:function(){
			jAlert('Server error: Please refresh the page and try again!!!');
		}
	});
}

function showLeftStudentListByDepartment(instituteCourseId,callback) {
	$.ajax({
		url:'getLeftStudentListByDepartmentId.json',
		dataType:'json',
		data:'instituteCourseId='+instituteCourseId,
		type:'POST',
		beforeSend : function() {
			startCommonAjaxSpinner();
		},
		complete : function() {
			stopCommonAjaxSpinner();
		},
		success:function(jArray){
			callback(jArray);
		},error:function(){
			jAlert('Server error: Please refresh the page and try again!!!');
		}
	});
}

function showStudentSubjectAllocationPage() {
	
	var deptVal= $('#cbInstiCourseId').val();
	var batchVal= $('#cbAcademicBatch').val();
	var batchText= $('#cbAcademicBatch option:selected').text();
	var semesterVal= $('#cbSemesterId').val();
	//var sesVal= $('#cbAcademicSessionId').val();
	var divisionVal= $('#cbBatchId').val();

	var temp1 = batchText;
	var temp2 = semesterVal;
	var temp3 = batchVal.split('-')[0];

	var temp = temp1+'$'+temp2+'$'+temp3;



	if($('#hdnUserRole').val() == 'empadmin') 
		window.open('fac_hodemployee.htm?action=allocateSubject&redirected=yes&dp='+deptVal+'&b='+temp+'&d='+divisionVal,'_blank');
	if($('#hdnUserRole').val() == 'headadmin') 
		window.open('ihe_hodemployee.htm?action=allocateSubject&redirected=yes&dp='+deptVal+'&b='+temp+'&d='+divisionVal,'_blank');
	if($('#hdnUserRole').val() == 'academicadmin') 
		window.open('asd_hodemployee.htm?action=allocateSubject&redirected=yes&dp='+deptVal+'&b='+temp+'&d='+divisionVal,'_blank');
	if($('#hdnUserRole').val() == 'admissionadmin') 
		window.open('asd_hodemployee.htm?action=allocateSubject&redirected=yes&dp='+deptVal+'&b='+temp+'&d='+divisionVal,'_blank');
	if($('#hdnUserRole').val() == 'regadmin') 
		window.open('asd_hodemployee.htm?action=allocateSubject&redirected=yes&dp='+deptVal+'&b='+temp+'&d='+divisionVal,'_blank');
}

function getBlockedStudentListDialog(semesterBatchId,callback){
	if(semesterBatchId != undefined){
		try{
			$.ajax({
				url:'getBlockedStudentListBySemesterBatchId.json',
				dataType:'json',
				data:'semesterBatchId='+semesterBatchId,
				type:'POST',
				beforeSend:function(){
					$('#unBlockStudentDialog').find('.preview-large').addClass('loading-large');
				},complete:function(){
					$('#unBlockStudentDialog').find('.preview-large').removeClass('loading-large');
				},
				success:function(jArray){
					callback(jArray);
				},error:function(){
					jAlert('Server error: Please refresh the page try again.');
				}
			});

		}catch(e){}
	} else {
		jAlert('Please select division!!!','Error');
		return;
	}
}

function showBlockedStudentListDialog(){
	var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	$('#divBlockedStudentList').html('<div class="preview-large"></div>');
	$('#unBlockStudentDialog').modal('show');
	getBlockedStudentListDialog(semesterBatchId,function(jArrayList){
		var studentJArray = jArrayList.blockedStudentList;
		//alert(studentJArray.length);
		if(studentJArray.length > 0 ){
			var boiler = '<table  class="table table-bordered table-condensed" id = "tblBlockedStudentList">';
			boiler += '<thead>';
			boiler += '<tr>';
			boiler += '<th style="vertical-align:middle;text-align:center" width="40px"></th>';
			boiler += '<th style="vertical-align:middle;text-align:center" width="80px;">Roll No.</th>';
			boiler += '<th style="vertical-align:middle;text-align:center" width="40px;"></th>';
			boiler += '<th style="vertical-align:middle;text-align:center" width="200px;">Name</th>';
			boiler += '<th style="vertical-align:middle;text-align:center" width="80px;">Current Status</th>';
			boiler += '<th style="vertical-align:middle;text-align:center" width="*"></th>';
			boiler += '</tr>';
			boiler += '</thead>';
			boiler += '<tbody>';
			for(var i = 0 ; i < studentJArray.length ; i++) {
				var rollNo = studentJArray[i].rollNo!=undefined?studentJArray[i].rollNo:"Un-available"; 
				boiler += '<tr id = "trStudentRow-'+studentJArray[i].studentBatchId+'">';
				boiler += '<td width="40px;" style="vertical-align:middle;text-align:center"><input type="checkbox" class="selectedStudentStatus"></td>';
				boiler += '<td width="80px;" style="vertical-align:middle;text-align:center" class="rollNo">'+rollNo+'</td>';

				boiler += '<td width="40px;" style="vertical-align:middle;text-align:center" class="profilePhoto"><div class="thumbnail" style="width:"42px;heigth:42px"><img src="getStudentProfileImageById.json?id='+studentJArray[i].studentId+'"><div></td>';
				boiler += '<td width="200px;" style="vertical-align:middle;font-weight:bold;" class="name">'+studentJArray[i].name+'</td>';
				boiler += '<td width="80px;" style="vertical-align:middle;text-align:center" class="status">'+studentJArray[i].status+'</td>';
				boiler += '<td width="*" style="vertical-align:middle;text-align:center" >';
				boiler += '<div style="margin-left:10px;" class="preview"></div>';
				boiler += '<input type="button" style="margin-top:3px;" class="btn btn-mini btn-inverse btn-changestatus" onclick="changeStatusToPursuing(\'trStudentRow-'+studentJArray[i].studentBatchId+'\',\''+studentJArray[i].studentBatchId+'\')"  value="Change status">&nbsp;';
				boiler += '<input type="button" style="margin-top:3px;" class="btn btn-mini btn-inverse btn-deletestatus"  value="Delete" onclick="deleteStudentFromBlocked(\'trStudentRow-'+studentJArray[i].studentBatchId+'\',\''+studentJArray[i].studentBatchId+'\')">&nbsp;';
				//boiler += '<input type="button" class="btn btn-mini btn-inverse btn-savestatus" style = "display:none;" value="Save">&nbsp;';
				//boiler += '<input type="button" class="btn btn-mini btn-inverse btn-cancelstatus" style = "display:none;" value="Cancel">';
				boiler += '</td>';
				boiler += '</tr>';  
			}
			boiler += '</tbody>';
			boiler += '</div>';
			$('#divBlockedStudentList').html(boiler);

			$('#tblBlockedStudentList').dataTable( {
				"sDom": "<'row'<'span4'l><'span4'f>r>t<'row'<'span4'i><'span4'p>>",
				"sPaginationType": "bootstrap",
				"oLanguage": {
					"sLengthMenu": "_MENU_ records per page"
				}
			} );
		} else {
			$('#divBlockedStudentList').html('<div class="alert alert-error"><strong>No Student found in blocked state!!!</strong></div>');
		}
	});
}


function changeStatusToPursuing(trId,studentBatchId){
	var studentName = $('#'+trId).find('.name').text();
	$.ajax({
		url : 'changeStudentStatus.json', // url is called mapped at
		data : {
			studentBatchIds : studentBatchId,
			status : 'PURSUING'
		},
		dataType : 'json',
		type : 'POST',
		async : false,
		beforeSend:function(){
			$('#'+trId).find('.preview').addClass('loading');
			$('#'+trId).find('.btn-changestatus').attr('disabled','disabled');
			$('#'+trId).find('.btn-deletestatus').attr('disabled','disabled');
		},complete:function(){
			$('#'+trId).find('.preview').removeClass('loading');
			$('#'+trId).find('.btn-changestatus').removeAttr('disabled');
			$('#'+trId).find('.btn-deletestatus').removeAttr('disabled');
		},
		success : function() {
			$('#'+trId).hide('slow');
			//alert('name: '+studentName);
			$('.unBlockStudentResponseInfo').html(
					'<button type="button" class="close" onclick="$(\'.unBlockStudentResponseInfo\').hide()" >&times;</button><strong>Status of <span style="color:blue">['+studentName+']</span> is succesfully changed to PURSUING</strong>'
			);
			$('.unBlockStudentResponseInfo').show();
		},
		error : function() {
			jAlert('Server error: Please refresh the page and try again!!!');
		}
	});
}


function deleteStudentFromBlocked(trId,studentBatchId){
	var studentName = $('#'+trId).find('.name').text();

	if(studentBatchId != undefined) {
		var message = 
			'<div class = "alert alert-info" style="padding:2px;">'+
			'<p style="font-weight:bold;"><i class="icon-hand-right"></i>&nbsp;&nbsp;<u>Please note the warning:</u></p>'+
			'The students which have been fetched from placement registration will NOT be deleted.<br><br>'+
			'<b>Are you sure to delete<b>?'+
			'</div>';
		jConfirm(message,'Confirmation',function(flag){
			if(flag){
				try{
					$.ajax({
						url:'deleteStudent.json',
						data:'studentBatchId='+studentBatchId,
						dataType:'json',
						type:'POST',
						beforeSend:function(){
							$('#'+trId).find('.preview').addClass('loading');
							$('#'+trId).find('.btn-changestatus').attr('disabled','disabled');
							$('#'+trId).find('.btn-deletestatus').attr('disabled','disabled');
						},complete:function(){
							$('#'+trId).find('.preview').removeClass('loading');
							$('#'+trId).find('.btn-changestatus').removeAttr('disabled');
							$('#'+trId).find('.btn-deletestatus').removeAttr('disabled');
						},
						success:function(responseObj){
							var flag= responseObj.responseFlag;
							$('.unBlockStudentResponseInfo').show();
							if(flag == "1"){
								$('#'+trId).hide('slow');
								$('.unBlockStudentResponseInfo').html(
										'<button type="button" class="close" onclick="$(\'.unBlockStudentResponseInfo\').hide()" >&times;</button><strong>Status of <span style="color:blue">['+studentName+']</span> is succesfully deleted</strong>'
								);
								$('.unBlockStudentResponseInfo').addClass('alert-info');
								$('.unBlockStudentResponseInfo').removeClass('alert-error');
							} else {
								var notDeletedStudents = responseObj.notDeletedStudentArray;
								var boiler = 
									'Deletion failed!!! Following student(s) could be deleted due to specified reasons:- <br>'+
									'Roll: '+notDeletedStudents[0].rollNo+'Name: '+notDeletedStudents[0].name+'&nbsp;&nbsp;Reason:-&nbsp;'+notDeletedStudents[0].error;
								$('.unBlockStudentResponseInfo').html(
										'<button type="button" class="close" onclick="$(\'.unBlockStudentResponseInfo\').hide()" >&times;</button><strong>'+boiler+'</strong>'
								);
								$('.unBlockStudentResponseInfo').removeClass('alert-info');
								$('.unBlockStudentResponseInfo').addClass('alert-error');
							}
						},error:function(e){
							jAlert('Server error: Please refresh the page and try again!!!');
						}

					});
				} catch(e){
					//alert(e);
				}
			}
		});

	} else {
		jAlert('Please select division!!!');
	}
}


function getSemestersWithAcademicBatchForPromotStudent(cmbId) {
	var instituteCourseId = $('#cbInstiCourseId').val().split('-')[0].trim();
	if(instituteCourseId>0){
		$.ajax({
			url:'getScheduledSemesterByInsticourseId.json?instiCourseId='+instituteCourseId, 
			dataType:'json',
			beforeSend: function() {
				startCommonAjaxSpinner();
			},
			complete: function() {
				stopCommonAjaxSpinner();
			},
			success:function(jArray){
				var boiler="<option value= '0'>Select</option>";
				for(var i=0;i < jArray.length;i++) {	
					boiler+="<option value='"+jArray[i]["instituteCourseStrengthId"]+'-'+jArray[i]["semesterId"]+"'>"+jArray[i]["academicBatchSemNameSylPatrnAndPatrn"]+'</option>';
				}
				if(cmbId == undefined){
					$('#semesterBatchId').html(boiler);
					convertComboToSearchable('#semesterBatchId');
				} else {
					$('#'+cmbId).html(boiler);
					convertComboToSearchable('#'+cmbId);					
					
				}
			},
			error:function(){
				jAlert("Something went wrong, Please try after some time","Error");
			}
		});
	}
	else
		requiredMessageShow("department", "Please select correct department");
}


function getDepartmentByQualificationId(srcCmbId,cmbId){

	var qualificationId= $('#'+srcCmbId).val();

	if(qualificationId>0){
		$.ajax({
			url:'getAllDepartmentsByQualificationId.json?qualificationId='+qualificationId, 
			dataType:'json',
			beforeSend: function() {
				startCommonAjaxSpinner();
			},
			complete: function() {
				stopCommonAjaxSpinner();
			},
			success:function(jArray){
				var boiler="<option value= '0'>--- Select ---</option>";
				for(var i=0;i < jArray.length;i++) {	
					boiler+="<option value='"+jArray[i]["instiCourseId"]+"'>"+ jArray[i]["departmentName"]+'</option>';
				}
				$('#'+cmbId).html(boiler);
			},
			error:function(){
				jAlert("In Programme  Combo error","Error");
			}
		});
	}
}

function getQualificationListFromManageStudentLevel1(cmbId){
	$.ajax({
		url:'getQualificationForLevelOne.json',
		dataType:'json',
		beforeSend: function() {
			startCommonAjaxSpinner();
		},
		complete: function() {
			stopCommonAjaxSpinner();
		},
		success:function(jArray){
			var boiler="<option value= '0'>--- Select ---</option>";
			for(var i=0;i < jArray.length;i++) {	
				boiler+="<option value='"+jArray[i]["qualificationId"]+"'>"+ jArray[i]["degreeName"]+'</option>';
			}
			if(cmbId == undefined){
				$('#semesterBatchId').html(boiler);
			} else {
				$('#'+cmbId).html(boiler);
			}
		},
		error:function(){
			jAlert("In Programme  Combo error","Error");
		}
	});
}

function getStreamListFromManageStudentLevel1(cmbId){
	$.ajax({
		url:'fetchStreamListForExamLevelOne.json', 
		dataType:'json',
		beforeSend: function() {
			startCommonAjaxSpinner();
		},
		complete: function() {
			stopCommonAjaxSpinner();
		},
		success:function(jArray){
			var boiler="<option value= '0'>--- Select ---</option>";
			for(var i=0;i < jArray.length;i++) {	 
				boiler+="<option value='"+jArray[i]["streamId"]+"'>"+ jArray[i]["StreamName"]+'</option>';
			}
			if(cmbId == undefined){
				$('#semesterBatchId').html(boiler);
			} else {
				$('#'+cmbId).html(boiler);
			}
		},
		error:function(){
			jAlert("In Programme  Combo error","Error");
		}
	});
}

function checkForPromotionInDepartment(callback){
	var instituteCourseId = $('#cbInstiCourseId').val().split('-')[0].trim();
	$.ajax({
		url:'checkForPromotionInDepartmentByInstituteCourseId.json',
		dataType:'json',
		async:false,
		data:'instituteCourseId='+instituteCourseId,
		success:function(jObject){
			callback(jObject);
			if($('#cbInstiCourseId option:selected').attr('cousetype') == 'COURSE_TYPE_SCHOOL' && $('#customerHelper').val() == 'MEGHE'){
				$('#heightWeightUploadId').show();
			}
		}
	});
}


function loadDepartmentalPramotion(callback){
	var instiCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0].trim();
	$.ajax({
		url:'loadDepartmentalPramotion.json',
		dataType:'json',
		type:'GET',
		async:false,
		data:'instiCourseStrengthId='+instiCourseStrengthId,
		success:function(jArray){
			var boiler='<option value="0">Select</option>' ;
			for(var i=0;i<jArray.length;i++){
				boiler += '<option deptName= "'+jArray[i]["deptName"]+'" value = "'+jArray[i]["instituteCourseId"]+'" name="'+jArray[i]["departmentalPromotionEligibleCourseId"]+'" >'+jArray[i]["InstituteCourseName"]+'</option>';
			}
			$('#cbDepartmentPramotion').html(boiler);
			$('#cbEditDepartmentPramotion').html(boiler); 
			
			try{
				callback(jArray);
			}catch(e){}
		}
	});
}

var factor = {
		"FIRST_NAME":"First Name",
		"LAST_NAME":"Last Name",
		"GENDER":"Gender",
		"ROLL_NO":"Roll No",
		"PCM":"PCM Marks",
		"SHIFT":"Shift",
};

function selectFactor(){
	var selectedBoiler = '';
	$('#orderByList :selected').each(function(){
		var temp = $(this).val();
		$.each(factor,function(i,v){
			if(temp == i)
				selectedBoiler += '<option value="'+i+'">'+v+'</option>';
		});

		$(this).css({'display':'none'});
	});
	$('#selectedOrderByList').append(selectedBoiler);
}
function specializationSelectFactor(){
	var selectedBoiler = '';
	$('#specializationOrderByList :selected').each(function(){
		var temp = $(this).val();
		$.each(factor,function(i,v){
			if(temp == i)
				selectedBoiler += '<option value="'+i+'">'+v+'</option>';
		});

		$(this).css({'display':'none'});
	});
	$('#specializationSelectedOrderByList').append(selectedBoiler);
}
function specializationRemoveFactor(){
	var boiler = '';
	$('#specializationSelectedOrderByList :selected').each(function(){
		$('#specializationOrderByList option[value="'+$(this).val()+'"]').css('display','block');
		$(this).remove();
	});
	$('#specializationOrderByList').append(boiler);
}

function removeFactor(){
	var boiler = '';
	$('#selectedOrderByList :selected').each(function(){
		$('#orderByList option[value="'+$(this).val()+'"]').css('display','block');
		$(this).remove();
	});
	$('#orderByList').append(boiler);
}

function allocateDivisionsAndRollNos()
{
	//var arrangedStudentList = getAllStudentBatchId();
	var arrangedStudentList = new Array();
		arrangedStudentList.push($(this).find('.selectedStudent : checked').text());
	
	var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	var prefix = $('#txtPrefixDivision').val().trim();
	var start = $('#txtInitialDivision').val().trim();
	var sufix = $('#txtSuffixDivision').val().trim();
	var separator = $('#txtSeparatorDivision').val().trim();
	var shiftType = $('#shiftType').val();

	$.ajax({
		url:'allocateDivisionsAndRollNos.json',
		dataType:'text',
		async:false,
		data:'instituteCourseStrengthId='+instituteCourseStrengthId+'&arrangedStudentList='+arrangedStudentList+
		'&prefix='+prefix+'&startFrom='+start+'&sufix='+sufix+'&seperator='+separator+'&shiftType='+shiftType,
		beforeSend : function() {
			startCommonAjaxSpinner();
		},
		complete : function() {
			stopCommonAjaxSpinner();
		},
		success:function(response){

			$('#allocateDivisionWithRollNos').modal('hide');
			jAlert(response);
			$('#shiftType').trigger('change');

		},
		error:function(){
			jAlert("Error in division allocation","Error");
		}
	});

}
function selectStudentBatchGrid(trId){
	var isSelected = $('#'+trId).find('input.selectedStudent').is(':checked');
	if(isSelected){
		$('#'+trId).addClass('selected');
	}
	else{ 
		$('#'+trId).removeClass('selected');
	}
	/*$('input.selectedStudent').each(function(){
		if($(this).is(':checked'))
			$(this).closest('tr').addClass('selected');
		else
			$(this).closest('tr').removeClass('selected');
	});*/
	
	
}

function getSubBatchesForStudentEditBox(callback){
	//getSubSubjectName.json
	var batchCapacityId = $('#cbBatchId').val().split('-')[2];
	$.ajax({
		url:'getSubSubjectName.json',
		dataType:'text',
		data:'BatchCapacityId='+batchCapacityId,
		beforeSend : function() {
		},
		complete : function() { 
		},
		success:function(jArray){
			callback(jArray);
		},
		error:function(){
			jAlert("Error in division allocation","Error");
		}
	});
}
function checkedItemsForStudentProfile(element){
	if($(element).is(':checked')){
		$('.chkPrint').attr('checked',true);
	}
	else{
		$('.chkPrint').attr('checked',false);
	}
}


function initAndShowUploadExcelSheetForUserName(){
	$('.tblUploadChangeUserName').show();
	$('.tblChangeUserName').hide();
	new AjaxUpload('flFileDataToChangeUserName', {
		action : 'uploadTOUpdateUserNameOfStudent.json',
		data :{},
		name : 'flFileData',
		size:AllowedFileSize.EXCELSHEET_UPLOAD,
		onSubmit : function(file, extension) {
			if (extension.toString().toLowerCase() == 'xls') {
				$('.tblUploadChangeUserName').find('.preview').addClass('loading');
				$('.tblUploadChangeUserName').find('.response').text('Uploading...');
			} else {
				jAlert('Only Msexcel(.xls) file is permitted');
				return false;
			}
		},
		onComplete : function(file, response) {
			var errorArray = eval('('+response+')');
			if(errorArray.length == 0){
				$('.tblUploadChangeUserName').find('.response').text('Uploaded Successfully');
			} else {
				$('.tblUploadChangeUserName').find('.response').html('Uploaded with some errors:&nbsp;&nbsp;<a href="javascript:void(0)" onclick="showUploadError()">See error</a>');
			}
			$('.tblUploadChangeUserName').find('.preview').removeClass('loading');
			
		}
	});
	
}

function showChangeUserNameForm(){
	$('.tblUploadChangeUserName').hide();
	$('.tblChangeUserName').show();
}

function showUploadError(errorArray){
	var boiler = "";
	for(var i= 0 ; i < errorArray.length ; i++){
		boiler += '<p style="color:red">Row No.: '+errorArray[i].RowNo+'&nbsp;:&nbsp;'+errorArray[i].error;+'</p>';
	}
	jAlert(boiler,'Errors');
}

function createStudentUser()
{
	var studentId = $('#studentIdSrvr').val();
	
	if(studentId>0)
	{
		$.ajax({
			url:'createUserOnly.json?typeOfuser=Student&Id='+studentId, 
			dataType:'text',
			async:false,
			beforeSend: function() {
				startCommonAjaxSpinner();
			},
			complete: function() {
				stopCommonAjaxSpinner();
			},
			success:function(reply){
				jAlert(reply,"Message");
			},
			error:function(){
				alert("In course error");
			}
		});
	}
}

function addNewState()
{
	var	addNewStateBoiler =
		'<div class="modal-header">'+
	   '<button type="button" class="close" data-dismiss="modal"></button>'+
	   '<h3>Add New State</h3></div>'+
	   '<div class="modal-body" align="center" >'+ 
	   '<ul id="myTab" class="nav nav-tabs">'+ 
       '<div id="myTabContent" class="tab-content">'+
       '<table class="table table-info">'+
       '<tr><td><label>State Name:</label></td>'+
       '<td><input type="text" id="txtAddNewState"/></td></tr>'+
       '<tr><td colspan="2"><center>'+
       		'<a class="btn btn-inverse btn-mini" href="#" onclick="saveNewState()">Save</a>'+
       		'<a class="btn btn-inverse btn-mini" data-dismiss="modal" href="#">Close</a>&nbsp;&nbsp;&nbsp;'+
       		'</center></td>'+
       '</tr>'+
       '<tr><br></tr></table>';
	addNewStateBoiler +='</div></table></div><div id="Add" class="tab-pane"></table><table class="table table-bordered table-condensed" id="addProductTypes" ></div>' ;
	addNewStateBoiler += '</div>';
	$('#addNewStateDiv').html(addNewStateBoiler);
	$('#addNewStateDiv').modal('show');
}

function saveNewState()
{
	var countryId = $('#txtstudnationality').val();
	var stateName = $('#txtAddNewState').val();

		$.ajax({
			url:'saveNewStateDomicile.json?stateName='+stateName+'&countryId='+countryId,
			type:'POST',
			dataType:'json',
			async:false,
			beforeSend: function() {
				startCommonAjaxSpinner();												
			},
			complete: function() {
				stopCommonAjaxSpinner(); 
			}, 
			success:function(jArray)
			{
				if(jArray[0]['response']=='AllreadyExist')
				{
				jAlert("State already exist","Message");
				}
			else{
				jAlert("State added successfully","Message");
				$('#txtAddNewState').val("");
				$('#addNewStateDiv').modal('hide');
				jAlert("Successfully added..","Message");
				getStateRelNationalityCatCityCountry();
			}
			},
			error:function()
			{
				alert("Error in Save Product Type");
			}
		});
}

function getOpenElectiveSubjects(electiveSubjectType){
	var instituteCourseId=$('#cbInstiCourseId').val();
	//var electiveSubjectType = 'area';
	$.ajax({
		url : 'getOpenElectiveSubjects.json?instituteCourseId='+instituteCourseId+'&electiveSubjectType='+electiveSubjectType,
		dataType :'json',
		async : false,
		beforeSend : function() {
			startCommonAjaxSpinner();
		},
		complete : function() {
			stopCommonAjaxSpinner();
		},
		success : function(jArray) {
			
			var majorSpList = '<option value="0">Select</option>';
			var minorSpList = '<option value="0">Select</option>';
			var len = jArray.length;
			var majorCount = 0;
			for ( var i = 0; i < len; i++){
				if(jArray[i]["isSpecializationMappedWithStream"] != undefined && jArray[i]["isSpecializationMappedWithStream"]){
					majorSpList += '<option value="'+jArray[i]["subjectId"]+'">'+(jArray[i]["subjectName"].gemsDecode())+ '</option>';
					majorCount++;
				}
				minorSpList += '<option value="'+jArray[i]["subjectId"]+'">'+(jArray[i]["subjectName"].gemsDecode())+ '</option>';
			}
			
			$('#majorOpenElectiveSubjectId').html((majorCount > 0 ? majorSpList : minorSpList));
			$('#minorOpenElectiveSubjectId').html(minorSpList);
			
		},

	});
}

function exportStudentsAsForeignExchange(status){

	var outBoundUniversityId = $('#cmbUniName').val();
	var semesterBatchId = $('#cmbSem option:selected').val();
	
	/*if(outBoundUniversityId == null){
		return 0;
	}*/
	
	if((status == 'true' || status ) && outBoundUniversityId == 0){
		jAlert("Please select university name");
		return;
	}
	var studentIdArray = new Array();
	
	if(status == 'true' || status){
		$('.selectedStudent:checked').each(function(){
			studentIdArray.push($(this).val());
		});
	}
	else{
		$('.foreignExStudent:checked').each(function(){
			studentIdArray.push($(this).val());
		});
	}
	
	if(semesterBatchId == "0"){
		jAlert("Please select semester");
		return;
	}
	if (studentIdArray.length > 0) {
		jConfirm('Do you want to continue?', 'Confirm', function(r){
			if(r){
				$.ajax({
					url : 'exportStudentsAsForeignExchange.json',
					dataType : 'json',
					data : {studentIdArray : studentIdArray.toString(), status : status, outBoundUniversityId:outBoundUniversityId, semesterBatchId:semesterBatchId},
					type : 'POST',
					beforeSend : function() {
						startCommonAjaxSpinner();
					},
					complete : function() {
						stopCommonAjaxSpinner();
					},
					success : function(jArray) {
						$('#outBoundUniversityListModal').modal('hide');
						if(status == 'true' || status){
							for(var i = 0; i < studentIdArray.length; i++){
								var studentId = studentIdArray[i];
								$('#studentRow-'+studentId).css({'background-color':'#FCB9B9'});
								$('#studentRow-'+studentId).find('#'+studentId).addClass('foreignExStudent');
								$('#studentRow-'+studentId).find('.outBoundUniversityId').attr('outbounduniversityid', outBoundUniversityId);
								$('#studentRow-'+studentId).find('.isForeignExchangeStudent').attr('isforeignexchangestudent', true);
							}
						}
						else{
							jAlert("Successfully done", "Message");
							for(var i = 0; i < studentIdArray.length; i++){
								var studentId = studentIdArray[i];
								$('#studentRow-'+studentId).removeAttr("style");
								$('#studentRow-'+studentId).find('#'+studentId).removeClass('foreignExStudent');
								$('#studentRow-'+studentId).find('.outBoundUniversityId').attr('outbounduniversityid', 0);
								$('#studentRow-'+studentId).find('.isForeignExchangeStudent').attr('isforeignexchangestudent', false);
							}
						}
						if(status == 'true' || status){
							getExportStudentsAsForeignExchange();
						}
						
					},
					error : function() {
						jAlert("Error!!!");
					}

				});
			}
		});

	} else {
		jAlert('First select the students!');
	}
}

function getExportStudentsAsForeignExchange(){

	var patternId = $('#cbAcademicBatch').val().split('-')[1];
	var semesterId = $('#cbSemesterId').val();
	var studentIdArray = new Array();
	
	$('.selectedStudent:checked').each(function(){
		studentIdArray.push($(this).val());
	});
	jConfirm('Students marked successfully as \'Foreign Exchange Students\' </br>Do you want to map this students with Foreign Exchange Subjects', 'Confirm', function(r){
		if(r){
			$.ajax({
				url : 'getForeignExchangeSubjects.json',
				dataType : 'json',
				data : {semesterId : semesterId, patternId : patternId,spID:0,studentIdArray:studentIdArray.toString()},
				type : 'GET',
				beforeSend : function() {
					startCommonAjaxSpinner();
				},
				complete : function() {
					stopCommonAjaxSpinner();
				},
				success : function(jArray) {

					$('#foreignExchangeSubjectModal').modal('show').css({
						width:'850px',
						'margin-left':function(){ return -($(this).width()/2); }
					});
					var j=0;
					var boiler = '';
					var isForeignExchangeStudent = $('.selectedStudent:checked').closest('tr').find('.isForeignExchangeStudent').attr('isForeignExchangeStudent');

					boiler +='</table><table class="table table-bordered">'+
					'<thead><tr><th></th><th>Course Code</th><th>Course Name</th><th></th><th>Course Code</th><th>Course Name</th></tr></thead>';
					if(jArray.length > 0){

						for(var i=0;i<jArray.length;i++){
							if(j%2==0){
								boiler+='<tr>';
							}
							if(jArray[i].subjectWiseStudentId > 0){
							boiler+='<td style="align-text:center"><input class="ckhForgienExchangeSubjectName" value="'+jArray[i].subjectId+'" type="checkbox" ></td>';
							}else if(semesterId == 0 && isForeignExchangeStudent == "true"){
								boiler+='<td style="align-text:center"><input class="ckhForgienExchangeSubjectName" value="'+jArray[i].subjectId+'" type="checkbox" ></td>';
							}
							else{
								boiler+='<td></td>';
							}
							boiler+='<td>'+jArray[i]["subjectCode"]+'</td>'+
							'<td>'+(jArray[i]["subjectName"].gemsDecode())+'</td>';

							j++;
							if(j/2==0)
							{
								boiler+='</tr>';
								j==0;
							}
						}
					}
					else{
						boiler+='<tr><td colspan=4 style="text-align:center">No Data Found</td></tr>';
					}
					boiler+='</table>';
					if(jArray.length > 0){
						boiler+='<div><input type="button" class="btn btn-mini btn-inverse" onclick="assignForeignExchangeSubjectToStudent();" value="Save"/>';
					}
					$("#viewForeignExchangeSubject").html(boiler);
				},
				error : function() {
					jAlert("Error!!!");
				}

			});
		}else{
			if(semesterId == 0){
				$('#btnFresher').trigger('click');
			}else{
				$('#btnSubmit').trigger('click');
			}
			
		}
	});
}

function assignForeignExchangeSubjectToStudent()
{
	var semesterId = $('#cbSemesterId').val();
	var studentIdArr = new Array();
	var foreignExhangeSubjectIdArr = new Array();

	$('.selectedStudent:checked').each(function(){
		studentIdArr.push($(this).val());
	});

	$('.ckhForgienExchangeSubjectName:checked').each(function(){
		foreignExhangeSubjectIdArr.push($(this).val());
	});

	$.ajax({
		url : 'outBoundstudentSubjectMapping.json',
		dataType :'json',
		data:{studentIdArray:studentIdArr.toString(),subjectIdArray:foreignExhangeSubjectIdArr.toString()},
		async : false,
		beforeSend : function() {
			startCommonAjaxSpinner();
		},
		complete : function() {
			stopCommonAjaxSpinner();
		},
		success : function(jArray) {
			
			jAlert("Successfully done", "Message");
			$('#foreignExchangeSubjectModal').modal('hide');
			if(semesterId == 0){
				$('#btnFresher').trigger('click');
			}else{
				$('#btnSubmit').trigger('click');
			}
		
		},
	});
}

function getSpecializationSubjectByInstiCourseId(){
	var instituteCourseId = $('#parentDepartmentId').val().trim().split('-')[0];
	
	$.ajax({
		url : 'getOpenElectiveSubjectsByInstituteCourseDetailId.json',
		dataType :'json',
		data:{instituteCourseId:instituteCourseId},
		async : false,
		beforeSend : function() {
			startCommonAjaxSpinner();
		},
		complete : function() {
			stopCommonAjaxSpinner();
		},
		success : function(jObj) {
			var specializationSubjectId = jObj.instituteSpecialization; 
			$('#majorOpenElectiveSubjectId').val(specializationSubjectId);
		},

	});
}

function getOutBoundUniversityList(status)
{
	$('#subjectList').html('');
	var studentIdArray = new Array();
	
	$('.selectedStudent:checked').each(function(){
		//if(!($(this).hasClass('foreignExStudent')))
			studentIdArray.push($(this).val());
	});

	if(studentIdArray.length > 0){
	
	$.ajax({
		url:'outBoundUnivAll.json',
		dataType:'json',
		async:false,
		beforeSend: function() {
			startCommonAjaxSpinner();

		},
		complete: function() {
			stopCommonAjaxSpinner();
		},
		success:function(jArray){
			
			$('#outBoundUniversityListModal').modal('show').css({
				width: '700px',
				'margin-left': function () {
					return -($(this).width() / 2);
				}
			});
			/*$('#outBoundUniversityBodyModal').css({
				height:'180px',
				'margin-left':function(){ return -($(this).width()/2); }
			});*/
			var html = '<option value="0">Select</option>';
			var len = jArray.length;
			$('#cmbUniName').html("");
			$('#cmbUniName').html('<option value="0">Select</option>');
			for ( var i = 0; i < len; i++){
				if(jArray[i].DcpUni == "No"){
				html = '<option value="'+jArray[i]["outBoundUniversityId"]+'" id="opt_'+jArray[i]["outBoundUniversityId"]+'">'+jArray[i]["outBoundUniName"]+ '</option>';
				$('#cmbUniName').append(html);
				$('#opt_'+jArray[i]["outBoundUniversityId"]).data('addr', jArray[i]["address"]);
				}
			}
			
		},
	});
	}
	else{
		jAlert("Please first select student");
	}
	getstudentSubjectMapping();
}


function getUnallocatedStudentDialogue(status)
{
	$('#subjectWiseStudentListForDeletionList2').html('');
	
	var studentIdArray = new Array();
	
	$('.selectedStudent:checked').each(function(){
		//if(!($(this).hasClass('foreignExStudent')))
			studentIdArray.push($(this).val());
	});
	
	var studentIdArray1 = new Array();
	$('.selectedStudent:checked').each(function(){
		//if(!($(this).hasClass('foreignExStudent')))
		studentIdArray1.push($(this).val());
	});

	if(studentIdArray1.length > 0){
		
		/*$('#subjectWiseStudentListForDeletionModal').modal('show').css({
			width: '700px',
			height: '450px',
			'margin-left': function () {
				return -($(this).width() / 2);
			}
		});
		$('#outBoundUniversityBodyModal2').css({
			height:'330px',
			'margin-left':function(){ return -($(this).width()/2); }
		});*/
	$.ajax({
		url:'getStudentSubjectAndBatchAllocationDetails.json',
		data : {studentIdArray1:studentIdArray1.toString()},
		dataType:'json',
		async:false,
		beforeSend: function() {
			startCommonAjaxSpinner();

		},
		complete: function() {
			stopCommonAjaxSpinner();
		},
		success:function(jArray){
			
			var html = '<option value="0">Select</option>';
			var len = jArray.length;
			$('#cmbSemDel2').html("");
			//$('#cmbDCPSem').html("");
			$('#cmbSemDel2').html('<option value="0" lenSize="'+len+'">Select</option>');
			//$('#cmbDCPSem').html('<option value="0">Select</option>');
			
			for ( var i = 0; i < len; i++){
				html = '<option value="'+jArray[i]["batchSemesterCapacityId"]+'" id="opt1_'+jArray[i]["batchSemesterCapacityId"]+'" lenSize="'+len+'" semId="'+jArray[i]["semesterId"]+'">'+jArray[i]["batchName"]+ '</option>';
				$('#cmbSemDel2').append(html);
				//$('#cmbDCPSem').append(html);
				$('#opt1_'+jArray[i]["batchSemesterCapacityId"]).data('subjectName', (jArray[i]["subjectName"].gemsDecode()));
				$('#opt1_'+jArray[i]["batchSemesterCapacityId"]).data('studentUniversityExamMarksAttemtIds', jArray[i]["studentUniversityExamMarksAttemtIds"]);
			}
			if(len==0){
				$('#trTermError').html('<strong>Student is not allocated for any Subjects.<strong>').show();
				$('#cmbSemDel2').css('border-color','red');
				$('#subjectNameListUnalloc').hide();
			}else{
				$('#subjectNameListUnalloc').show();
				$('#cmbSemDel2').css('border-color','');
				$('#trTermError').html('').hide();
			}
		},
	});
	}else{
		jAlert("Please first select student");
	}
	
	
	$('#cmbSemDel2').change(function(){
		//alert($('#opt1_'+$(this).val()).data('subjectName'));
		//subjectWiseStudentListForDeletionList
		if($(this).val()=='0'){
			$('#subjectWiseStudentListForDeletionList2').html('');
			return;
		}
		var subjList = $('#opt1_'+$(this).val()).data('subjectName').split(',');
		var boiler = '';
		for(var i = 0; i < subjList.length; i++){
			boiler += '<tr><td style="text-align:center;display:none;"><input type="checkbox" class="subjectBatchIdForUnallocate" value="'+subjList[i].split('~~')[1]+'" subjectNameDel="'+subjList[i].split('~~')[0]+'"></td><td>'+subjList[i].split('~~')[0]+'</td></tr>';
		}
		
		$('#subjectWiseStudentListForDeletionList2').html(boiler);
		
	});
	
	$('#selectAllChksubjectWiseStudentList2').click(function(){
		if($(this).attr('checked')=="checked"){
			$('.subjectBatchIdForUnallocate').attr('checked',true);
		}else{
			$('.subjectBatchIdForUnallocate').attr('checked',false);
		}
	});
}

function hideShowTr(){
	$('#txtAdmissionCancelDateTR').show();
	var status = getStudentStatus();
	$('#trForAdmissionCancelDocUpload').hide();
	$('#showStudentExamInfoModal').html('');
	 if(status == 'LEFT' || status == 'BREAK'){
			$('#trReason').show();
			$('#trApprovedSatus').show();
			$('#trTermSatus').show();
			$('#subjectNameListUnalloc').show();
			$('#showStudentExamInfoModal').hide();
			
			getUnallocatedStudentDialogue(true);
			getFacultyList();
	 }
	 if(status == 'BLOCKED' || status == 'ADMISSION_CANCELLED' || status == 'YEARDOWN' || status == 'ALUMNI'){
		 if($('#customerHelper').val()=="BITS_MESRA" && $('#cbStudentStatusId').val()=='BLOCKED'){
			 $('#dosaConfigSpan').show();
		 }
		 $('#showStudentExamInfoModal').hide();
		 if(status == 'ADMISSION_CANCELLED'){
			$('#trForAdmissionCancelDocUpload').show();
			initFiledailyMonitoring();
			getSynopsisDocument();
			getStudentExamFormDetils();
		 }
		 if(status == 'BLOCKED'){
			 $('#trComment').show();
		 }else{
			 $('#trComment').hide();
		 }
		 
		 	$('#trReason').hide();
			$('#trApprovedSatus').hide();
			$('#trTermSatus').hide();
			$('#subjectNameListUnalloc').hide();
			$('#trTermError').hide();
			$('#cmbSemDel2').css('border-color','');
			
		if(status == 'ALUMNI'){
			$('#txtAdmissionCancelDateTR').hide();
		}	
	 }
	 
	 if(status == 'YEARDOWN'){
		 $('#tryearDown').show();
		 $('#trTermDown').show();
		 $('#lblyearDown').show();
		 $('#lblTermDown').show();
	 }else{
		 $('#lblyearDown').hide();
		 $('#lblTermDown').hide();
		 $('#lblyearDown').hide();
		 $('#lblTermDown').hide();
	 }
	  
}


function getStudentExamFormDetils(){

	
	
	var studentIdArray = new Array();
	
	$('.selectedStudent:checked').each(function(){
		//if(!($(this).hasClass('foreignExStudent')))
			studentIdArray.push($(this).val());
	});
	
	//alert(studentIdArray);
	if(studentIdArray.length > 0){
	//var studentId = studentIdArray.toString();
	$.ajax({
		url:'showStudentExamDetailsMultipleStudent.json?id='+studentIdArray.toString(),
		//data : {id:studentIdArray.toString()},
		dataType:'json',
		async:false,
		beforeSend: function() {
			startCommonAjaxSpinner();

		},
		complete: function() {
			stopCommonAjaxSpinner();
		},
		success:function(mainjArray){
			$('#showStudentExamInfoModal').show();
			var exBoiler=""+
			'<b> Do you want to cancel student current Year result?</b><input type="radio" name="studentSubjectCancelId"  value="yes" id="idstudentSubjectCancelyes" > Yes </input>'+
			'<input type="radio"  name="studentSubjectCancelId" value="no" id="idstudentSubjectCancelno" checked="checked"> No &nbsp;&nbsp;&nbsp;</input><br>'+
				"<div class='modal-header' style='padding:5px'>"+
				"<h3 id='' class='studentName' style='color:#6A7480'>"+
				"<img src='img/leave.png' alt=''> Exam Details</h3></div>"+
				"<div class='slimScrollDiv' style='position: relative; overflow: hidden; width: 100%; height: 1000px;'>"+
				"<div class='modal-body studentdashboard' style='padding: 0px; overflow: hidden; width: 100%; height: 1000px; max-height: 900px; min-height: 2%;'>";
			if(mainjArray.length>0){
				for(var k = 0; k<mainjArray.length;k++){
					var jArray = mainjArray[k];
					
					if(jArray.length>0)	
					{
						exBoiler+='<div class="label label-default">'+eval(k+1)+' : '+jArray[0]['studentFull']+'</div>';
						exBoiler+="<table style='color:#000;' class='table table-bordered table-condensed'>";
						
						exBoiler+= "<tr><th></th><th>Exam Name</th><th>Exam Form Details</th><th>Delete Exam Form</th></tr>";

						for(var i=0;i<jArray.length;i++){
							exBoiler+= '<tr class="studStatus__'+jArray[0]['examStudentFormId']+'"><td style="text-align:center">'+eval(i+1)+'</td><td>'+jArray[i]["examScheduleName"]+'</td><td style="text-align:center"><input type="button" value="Exam Form" onclick="showStudentExamFormDetail('+jArray[i]["examScheduleId"]+','+jArray[i]["studentId"]+')" class="btn btn-danger btn-mini btnColorBlack" ></td>'+
							'<td style="text-align:center;"><i class="icon icon-remove" title="Cancel Admission" onclick="deleteStudentExamFormNoReason('+jArray[0]['examStudentFormId']+',\''+jArray[0]['studentFull']+'\')"></i></td></tr>';
						}
					}	

					exBoiler+= '</table>';
				}
			}else
			{
				exBoiler+= '<tr><td colspan="2" style="text-align:center">"Exam Form Details Not Available.."</td></tr>';
			}
			exBoiler+= '</table><br><br><br><br><br><br>';
			$('#showStudentExamInfoModal').html(exBoiler);
			
			
		},
	});
	}else{
		jAlert("Please first select student");
	}
	


}
function deleteStudentExamFormNoReason(examStudentFormId,studentName)
{
	
	/*var CancelReason = $('#txtReason').val();
	
	if(CancelReason == ""){
		jAlert("Please enter reason");
		return;
	}
	var putForFinance =$("input[name=checkForFinance]:checked").val(); 
	if(putForFinance=="" || putForFinance==undefined){
		putForFinance = "false";
	}*/
	
	jConfirm("Do you want to Cancel Exam Form of student <b>"+studentName+"</b> :","Confirm",function(r)
	{
		if(r ==true)
		{
			$.ajax({
				url:'cancelStudentExamForm.json?examStudentFormId='+examStudentFormId+'&CancelReason=FromiheManageStudent&putForFinance=No',
				dataType:'json',
				async:false,
				beforeSend: function() {
					startCommonAjaxSpinner();
				},
				complete: function() {
					stopCommonAjaxSpinner();
				},
				success:function(jArray)
				{
					if(jArray[0]["flag"]==true){
						jAlert("You can not cancel exam from because marks entry already done");
					}else{
					jAlert(jArray[0]["message"],"Success");
					$('#cbStudentStatusId').trigger('change');
					}
					/*$('#RevertCheck').modal('hide');
					
					if(jArray[0]["message"].trim()!="Result Already Freezed")
						$('#notAcceptReject_'+examStudentFormId).css('background', '#F8E0E0');*/
						//fetchExamFormSubmittedStudents();

				},
			});
		}
	});
}


function showStudentExamFormDetail(examScheduleId,studentId)
{
	$('#editStudentExamFormModal').modal('show');

	$.ajax({
	//	url:'getStudentExamFormSubjectChoiceDetails.json?studentId='+ studentId+'&examSheduleId='+examScheduleId,
		url:'getStudentExamFormSubjectChoiceDetailsTocheckDetails.json?studentId='+ studentId+'&examSheduleId='+examScheduleId,
		
		dataType:'json',
		type:'GET',
		beforeSend: function() {
			startCommonAjaxSpinner();
		},
		complete: function() {
			stopCommonAjaxSpinner();
		},
		success:function(jArray){
			var j = jArray[0] != undefined ? jArray[0].length : 0;
			var regularFlag = 0;
			var backlogFlag = 0;
			$('#tlbRegularAndBacklogEditExamForm').hide();
			$('#editStudentExamFormModalDiv').show();

			var semisterList = "";
			var semisterIdList = "";
			if(jArray[2]['studentSemisterList']!=undefined)
			 semisterList = jArray[2]['studentSemisterList'].split(',');

			if(jArray[2]['studentSemisterIdList']!=undefined)
				 semisterIdList = jArray[2]['studentSemisterIdList'].split(',');

			if( j > 0)
			{
						var examFormFeeArray = jArray[3];
						var showEditBtnForExamAdmin = true; //examFormFeeArray[0]["shoeEditButtonForExamAdmin"]
						var boilerRegularSubject='<table class="table table-bordered"><thead>'+
						'<tr><th colspan="6">Regular Subject</th></tr>'+
						'<tr><th>Sr.No</th><th>Term</th><th>Course Code</th><th>Course Name</th><th>Detained</th>';
						if($('#customerHelper').val()=="DES"){
							boilerRegularSubject += '<th>ESSCA</th>';
						}
						boilerRegularSubject += '</tr></thead><tbody>';

						var boilerBacklogSubject='<table class="table table-bordered"><thead>'+
						'<tr><th colspan="4">Backlog Subject</th></tr>'+
						'<tr><th>Sr.No</th><th>Term</th><th>Course Code</th><th>Course Name</th></tr></thead><tbody>';

				var cnt = 0;
				var cnt1 = 0;
				for(var i=0;i<jArray[0].length;i++)
				{
					if(jArray[0][i]["subjectStatus"]=="Current")
					{
							regularFlag = 1;
							boilerRegularSubject +='<tr>'+
							'<td>'+eval(++cnt)+'</td><td>'+jArray[0][i]["semesterName"]+'</td><td>'+jArray[0][i]["subjectCode"]+'</td><td>'+(jArray[0][i]["subjectName"].gemsDecode())+'</td>';
							if(jArray[0][i]["detainedStatus"]=="true")
								boilerRegularSubject +='<td style="text-align:center"><input type="checkbox" id="detained_'+jArray[0][i]["optedId"]+'" value="'+jArray[0][i]["optedId"]+'" checked="checked" onclick="checkUnfairMeanStatus('+jArray[0][i]["optedId"]+','+examScheduleId+','+studentId+')" class="detainedCls"></td>';
							else
								boilerRegularSubject +='<td style="text-align:center"><input type="checkbox" id="detained_'+jArray[0][i]["optedId"]+'" value="'+jArray[0][i]["optedId"]+'" class="detainedCls"></td>';
							
							if($('#customerHelper').val()=="DES"){
								if(jArray[0][i]["eSSCAStatus"]=="true")
									boilerRegularSubject +='<td style="text-align:center"><input type="checkbox" id="eSSCA_'+jArray[0][i]["optedId"]+'" value="'+jArray[0][i]["optedId"]+'" checked="checked"  class="esscaCls"></td>';
								else
									boilerRegularSubject +='<td style="text-align:center"><input type="checkbox" id="eESSCA_'+jArray[0][i]["optedId"]+'" value="'+jArray[0][i]["optedId"]+'" class="esscaCls"></td>';
							}
							
							
							

							boilerRegularSubject +='</tr>';
					}
					else
					{
						backlogFlag = 1;
						flag= 1;
						boilerBacklogSubject +='<tr>'+
						'<td>'+eval(++cnt1)+'</td>'+
						'<td>'+jArray[0][i]["semesterName"]+'</td>'+
						'<td>'+jArray[0][i]["subjectCode"]+'</td>';
						if(jArray[0][i]["midtermStatus"]=="true" &&  jArray[0][i]["midtermStatus"]=="true")
							{
							boilerBacklogSubject +=	'<td>'+(jArray[0][i]["subjectName"].gemsDecode())+'<b>[MidTerm]</b></td></tr>';
							}
						else
							{
							boilerBacklogSubject +=	'<td>'+(jArray[0][i]["subjectName"].gemsDecode())+'</td></tr>';
							}
					}
				}

				boilerRegularSubject +='</tbody></table>';
				boilerBacklogSubject +='</tbody></table>';

				var boilerFee = '';
				if(jArray[1].length > 0)
				{
					var isPayNowButton = examFormFeeArray != undefined && examFormFeeArray[0] != undefined ? examFormFeeArray[0]["payStatus"] : false;

					if(jArray[1][0]["totalAmount"] != 0)
					{
						boilerFee='<table class="table table-bordered"><thead>'+
						'<tr><th colspan="2">Exam Fee</th></tr>'+
						'<tr><th>Contains</th><th>Amount(In Rs.)</th></tr></thead>'+
						'<tbody>';
						if(jArray[1][0]["regularAmount"]!=0.0)
							boilerFee +='<tr><td>Regular Subject</td><td><span style="float:right">'+jArray[1][0]["regularAmount"]+'</span></td></tr>';
						if(jArray[1][0]["backlogAmount"]!=0.0)
							boilerFee +='<tr><td>Makeup Subject</td><td><span style="float:right">'+jArray[1][0]["backlogAmount"]+'</span></td></tr>';
						if(jArray[1][0]["capFee"]!=0.0)
							boilerFee +='<tr><td>Cap Fee</td><td><span style="float:right">'+jArray[1][0]["capFee"]+'</span></td></tr>';
						if(jArray[1][0]["formFee"]!=0.0)
							boilerFee +='<tr><td>Form Fee</td><td><span style="float:right">'+jArray[1][0]["formFee"]+'</span></td></tr>';
						if(jArray[1][0]["internalExamFee"]!=0.0)
							boilerFee +='<tr><td>Internal Exam Fee</td><td><span style="float:right">'+jArray[1][0]["internalExamFee"]+'</span></td></tr>';
						if(jArray[1][0]["practicalFee"]!=0.0)
							boilerFee +='<tr><td>Practical Fee</td><td><span style="float:right">'+jArray[1][0]["practicalFee"]+'</span></td></tr>';
						if(jArray[1][0]["lateFee"]!=0.0)
							boilerFee +='<tr><td>Late Fee</td><td><span style="float:right">'+jArray[1][0]["lateFee"]+'</span></td></tr>';
						if(jArray[1][0]["projectFee"]!=0.0)
							boilerFee +='<tr><td>Project Fee</td><td><span style="float:right">'+jArray[1][0]["projectFee"]+'</span></td></tr>';
						if(jArray[1][0]["passingCertificate"]!=0.0)
							boilerFee +='<tr><td>Passing Certificate</td><td><span style="float:right">'+jArray[1][0]["passingCertificate"]+'</span></td></tr>';
						if(jArray[1][0]["statementofMarksFee"]!=0.0)
							boilerFee +='<tr><td>Statement of Marks Fee</td><td><span style="float:right">'+jArray[1][0]["statementofMarksFee"]+'</span></td></tr>';
						if(jArray[1][0]["otherFee"]!=0.0)
							boilerFee +='<tr><td>Other Fee</td><td><span style="float:right">'+jArray[1][0]["otherFee"]+'</span></td></tr>';
						if(jArray[1][0]["departmentFee"]!=0.0)
							boilerFee +='<tr><td>Programme Fee</td><td><span style="float:right">'+jArray[1][0]["departmentFee"]+'</span></td></tr>';
						if(jArray[1][0]["specialFee"]!=0.0)
							boilerFee +='<tr><td>Super Late Fees</td><td><span style="float:right">'+jArray[1][0]["specialFee"]+'</span></td></tr>';
						if(jArray[1][0]["improvementGrades"]!=0.0)
							boilerFee +='<tr><td>Improvement Grades</td><td><span style="float:right">'+jArray[1][0]["improvementGrades"]+'</span></td></tr>';
						//alert("examinationFee===="+jArray[1][0]["examinationFee"]!=0.0);
						if(jArray[1][0]["examinationFee"]!=0.0)
							boilerFee +='<tr><td>Examination Fee</td><td><span style="float:right">'+jArray[1][0]["examinationFee"]+'</span></td></tr>';

							boilerFee +='<tr><td><b>Total Examination Fee(Rs.)</b></td><td><span style="float:right"><b>'+jArray[1][0]["totalAmount"]+'</b></span></td></tr>'+
							'<tr>'+
								'<td>Receipt No.</td>'+
								'<td></td>'+
							'</tr>'+
							'<tr>'+
								'<td>Date :</td>'+
								'<td></td>'+
							'</tr>';
							if(!isPayNowButton){
								boilerFee +=	'<tr>'+
								'<td colspan="2" style="text-align:center;" >'+
									'<div id="examPayNowBtn" style="display:none;" ></div>'+
								'</td>'+
							'</tr>';
							}
							boilerFee += '</tbody></table>';
					}
					else
						$('#examFeeStructDiv').html('<center><span style="font-size:12px"> Exam Structure Not Defined </span></center>');


					var printExamFormBoiler = '<br><table class="table table-bordered" >'+
													'<tr>'+
														'<td colspan="2" >'+
															 '<table class="table table-bordered" >'+
															 '<tr><td style="width:10%" rowspan="4" >'+
																'<div class="thumbnail">'+
																	'<img  height="80" width="80" src="getApplStudentProfileImage.json?type=profile&studentId='+jArray[1][0]["studentId"]+'"></img>'+
																'</div>'+
														 	'</td></tr>'+
															'<tr>'+
														 		'<td colspan="2" ><b>Name of Examination:</b></td>'+
														 		'<td colspan="2" >'+$('#cmbMainExamSchedule :selected').text()+'</td>'+
														 	 '</tr>'+
														 	 '<tr>'+
															 	'<td><b>Student Name:</b></td>'+
														 		'<td>'+jArray[1][0]["studentName"]+'</td>'+
														 		'<td><b>Mother Name:</b></td>'+
														 		'<td>'+jArray[1][0]["motherName"]+'</td>'+
														 	 '</tr>'+
														 	'<tr>'+
															 	'<td><b>Contact No:</b></td>'+
														 		'<td>'+jArray[1][0]["contactNo"]+'</td>'+
														 		'<td><b>Gender:</b></td>'+
														 		'<td>'+jArray[1][0]["gender"]+'</td>'+
														 	'</tr>'+
															 '</table>'+
														'</td>'+
													'</tr>';
					if(backlogFlag == 1){
						printExamFormBoiler += '<tr>'+
							'<td>'+boilerRegularSubject+'</td>'+
							'<td>'+boilerBacklogSubject+'</td>'+
						'</tr>';
					}else{
						printExamFormBoiler += '<tr>'+
								'<td>'+boilerRegularSubject+'</td>'+
							'</tr>';
					}
					printExamFormBoiler +='</table>';
					$('#editStudentExamFormModalDiv').html(printExamFormBoiler);
				}
			}
			else
			{
				printExamFormBoiler="";
				$('#editStudentExamFormModalDiv').html('');
			}
		},error:function(){

		}
	});
}
function getFacultyList(){

	var instituteCourseId=$('#cbInstiCourseId option:selected').val();
	var domain = 'Institute-'+instituteCourseId;
	$.ajax({
		url:'populateEmployeeListForSubjectAllocation2.json?domain='+domain+'&postTypes=-1',	// 1 id postTypeId for teaching
		dataType:'json',
		type:'GET',
		contentType:'application/json; charset=utf-8',
		beforeSend: function() {
			startCommonAjaxSpinner();
		},
		complete: function() {
			stopCommonAjaxSpinner();
		},
		success:function(jArray){
			var boiler='<option value="">Select</option>';
			if(jArray.length>0)
			{
				for(var i=0;i<jArray.length;i++)
				{
					if($("#cmbMentorName").val() !=jArray[i]["Id"])
						boiler+='<option value="'+jArray[i]["Id"]+'">'+jArray[i]["Name"]+'</option>';
				}
			}
			$("#cbApprovedStatus").html(boiler);
		},
	});

}

function LeftOrBreakAdmission(studentIds,admissionCancelDate,status,reason,employeeId,batchSemesterCapacityIdTerm)
{

	var instituteCourseStrengthId = $('#cbAcademicBatch option:selected').val().split('-')[0];
	var semesterId = $('#cmbSemDel2 option:selected').attr('semid');
	var lenOfTerm = $('#cmbSemDel2 option:selected').attr('lenSize');
	if(semesterId==undefined)
		semesterId=0;
	$.ajax({
		url: 'leftOrBreakManageStudent.json?studentIds='+studentIds+'&admissionCancelDate='+admissionCancelDate+'&reason='+reason+'&status='+status+'&employeeId='+employeeId+'&batchSemesterCapacityIdTerm='+batchSemesterCapacityIdTerm+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterId='+semesterId+'&lenOfTerm='+lenOfTerm,
		dataType:'text',
		async:false,
		beforeSend: function() {
			startCommonAjaxSpinner();
		},
		complete: function() {
			stopCommonAjaxSpinner();
		},
		success:function(txt){
			//showStudentInTargetBatch();
			if(txt=="error"){
				jAlert("Error! Please try again later");
			}else if(txt=="success"){
				jAlert("Save Successfully.","Message");
			}else{
				/*var subNameArr = new Array();
				for(i=0;i<txt.split(',').length-1;i++){
					$('.subjectBatchIdForUnallocate').each(function(){
						if($(this).attr('value')==txt.split(',')[i])
							subNameArr.push($(this).attr('subjectNameDel'));
					});
				}*/
				jAlert("These subjects are not allowed for deletion because result is finalized for these subjects. :"+ txt);
			}
			checkForActiveSemester();
			$('#changeStudentStatusDialog').modal('hide');
			
			
		},
		error:function(){
		}
	});

}

function exportStudentsAsDCP(status){

	var outBoundUniversityId = $('#cmbDCPUniName').val();
	var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	
	/*if(outBoundUniversityId == null){
		return 0;
	}*/
	
	if((status == 'true' || status ) && outBoundUniversityId == 0){
		jAlert("Please select university name");
		return;
	}
	var studentIdArray = new Array();
	
	if(status == 'true' || status){
		$('.selectedStudent:checked').each(function(){
			studentIdArray.push($(this).val());
		});
	}
	else{
		$('.DCPExStudent:checked').each(function(){
			studentIdArray.push($(this).val());
		});
	}
	if (studentIdArray.length > 0) {
		jConfirm('Do you want to continue?', 'Confirm', function(r){
			if(r){
				$.ajax({
					url : 'exportStudentsAsDCP.json',
					dataType : 'json',
					data : {studentIdArray : studentIdArray.toString(), status : status, outBoundUniversityId:outBoundUniversityId, semesterBatchId:semesterBatchId},
					type : 'POST',
					beforeSend : function() {
						startCommonAjaxSpinner();
					},
					complete : function() {
						stopCommonAjaxSpinner();
					},
					success : function(jArray) {
						$('#DCPUniversityListModal').modal('hide');
						if(status == 'true' || status){
							for(var i = 0; i < studentIdArray.length; i++){
								var studentId = studentIdArray[i];
								$('#studentRow-'+studentId).css({'background-color':'#FFFFCC'});
								$('#studentRow-'+studentId).find('#'+studentId).addClass('DCPExStudent');
								$('#studentRow-'+studentId).find('.outBoundUniversityId').attr('outbounduniversityid', outBoundUniversityId);
								$('#studentRow-'+studentId).find('.isDCPStudent').attr('isDCPStudent', true);
							}
						}
						else{
							jAlert("Successfully done", "Message");
							for(var i = 0; i < studentIdArray.length; i++){
								var studentId = studentIdArray[i];
								$('#studentRow-'+studentId).removeAttr("style");
								$('#studentRow-'+studentId).find('#'+studentId).removeClass('DCPExStudent');
								$('#studentRow-'+studentId).find('.outBoundUniversityId').attr('outbounduniversityid', 0);
								$('#studentRow-'+studentId).find('.isDCPStudent').attr('isDCPStudent', false);
							}
						}
						if(status == 'true' || status){
							getExportStudentsAsDCP();
						}
						
					},
					error : function() {
						jAlert("Error!!!");
					}

				});
			}
		});

	} else {
		jAlert('First select the students!');
	}
}

function getDCPUniversitylist(status)
{
	getstudentSubjectMapping();
	$('#subjectWiseStudentListForDeletionList3').html('');
	$('#subjectListDCP').html('');
	
	/*$('#cmbDCPSem').change(function(){
		var subjList = $('#opt1_'+$(this).val()).data('subjectName').split(',');
		var boiler = '';
		for(var i = 0; i < subjList.length; i++){
			boiler += '<tr><td><input type="checkbox" class="subjectBatchIdForUnallocate" value="'+subjList[i].split('~~')[1]+'"></td><td>'+subjList[i].split('~~')[0]+'</td></tr>';
		}
		
		$('#subjectWiseStudentListForDeletionList3').html(boiler);
		
	});*/
	/*
	$('#selectAllChksubjectWiseStudentList2').click(function(){
		if($(this).attr('checked')=="checked"){
			$('.subjectBatchIdForUnallocate').attr('checked',true);
		}else{
			$('.subjectBatchIdForUnallocate').attr('checked',false);
		}
	});*/
var studentIdArray = new Array();
	
	$('.selectedStudent:checked').each(function(){
		//if(!($(this).hasClass('foreignExStudent')))
			studentIdArray.push($(this).val());
	});

	if(studentIdArray.length > 0){
	
	$.ajax({
		url:'outBoundUnivAll.json',
		dataType:'json',
		async:false,
		beforeSend: function() {
			startCommonAjaxSpinner();

		},
		complete: function() {
			stopCommonAjaxSpinner();
		},
		success:function(jArray){
			
			$('#DCPUniversityListModal').modal('show').css({
				width: '700px',
				'margin-left': function () {
					return -($(this).width() / 2);
				}
			});
			/*$('#DCPUniversityBodyModal').css({
				height:'330px'
				//'margin-left':function(){ return -($(this).width()/2); }
			});*/
			var html = '<option value="0">Select</option>';
			var len = jArray.length;
			$('#cmbDCPUniName').html("");
			$('#cmbDCPUniName').html('<option value="0">Select</option>');
			for ( var i = 0; i < len; i++){
				if(jArray[i].DcpUni == "Yes"){
				html = '<option value="'+jArray[i]["outBoundUniversityId"]+'" id="opt_'+jArray[i]["outBoundUniversityId"]+'">'+jArray[i]["outBoundUniName"]+ '</option>';
				
				$('#cmbDCPUniName').append(html);
				$('#opt_'+jArray[i]["outBoundUniversityId"]).data('addr', jArray[i]["address"]);
				}
			}
			
		},
	});
	}
	else{
		jAlert("Please first select student");
	}
}

function getExportStudentsAsDCP(){

	var patternId = $('#cbAcademicBatch').val().split('-')[1];
	var semesterId = $('#cbSemesterId').val();
	var studentIdArray = new Array();
	var msg = "";
	$('.selectedStudent:checked').each(function(){
		studentIdArray.push($(this).val());
	});
	if($('#customerIdentificationObj').val() == 'IMT_NAGPUR' || $('#customerIdentificationObj').val() == 'IMT_DUBAI'){
		msg= "Students marked successfully as \'Step Programme Students\' </br>Do you want to map this students with Step Programme Subjects";
	}else{
		msg= "Students marked successfully as \'DCP Students\' </br>Do you want to map this students with DCP Subjects";
	}
	console.log(msg);
	jConfirm(msg, 'Confirm', function(r){
		if(r){
			$.ajax({
				url : 'getDCPSubjects.json',
				dataType : 'json',
				data : {semesterId : semesterId, patternId : patternId,spID:0,studentIdArray:studentIdArray.toString()},
				type : 'GET',
				beforeSend : function() {
					startCommonAjaxSpinner();
				},
				complete : function() {
					stopCommonAjaxSpinner();
				},
				success : function(jArray) {

					$('#foreignExchangeSubjectModal').modal('show').css({
						width:'850px',
						'margin-left':function(){ return -($(this).width()/2); }
					});
					var j=0;
					var boiler = '';
					var isDCPStudent = $('.selectedStudent:checked').closest('tr').find('.isDCPStudent').attr('isDCPStudent');
					boiler +='</table><table class="table table-bordered">'+
					'<thead><tr><th></th><th>Course Code</th><th>Course Name</th><th></th><th>Course Code</th><th>Course Name</th></tr></thead>';
					if(jArray.length > 0){

						for(var i=0;i<jArray.length;i++){
							if(j%2==0){
								boiler+='<tr>';
							}
							if(jArray[i].subjectWiseStudentId > 0){
								boiler+='<td style="align-text:center"><input class="ckhForgienExchangeSubjectName" value="'+jArray[i].subjectId+'" type="checkbox" ></td>';
							}else if(semesterId == 0 && isDCPStudent == "true"){
								boiler+='<td style="align-text:center"><input class="ckhForgienExchangeSubjectName" value="'+jArray[i].subjectId+'" type="checkbox" ></td>';
							}
							else{
								boiler+='<td></td>';
							}
							boiler+='<td>'+jArray[i]["subjectCode"]+'</td>'+
							'<td>'+(jArray[i]["subjectName"].gemsDecode())+'</td>';

							j++;
							if(j/2==0)
							{
								boiler+='</tr>';
								j==0;
							}
						}
					}
					else{
						boiler+='<tr><td colspan=4 style="text-align:center">No Data Found</td></tr>';
					}
					boiler+='</table>';
					if(jArray.length > 0){
						boiler+='<div><input type="button" class="btn btn-mini btn-inverse" onclick="assignForeignExchangeSubjectToStudent();" value="Save"/>';
					}
					$("#viewForeignExchangeSubject").html(boiler);
				},
				error : function() {
					jAlert("Error!!!");
				}

			});
		}else{
			if(semesterId == 0){
				$('#btnFresher').trigger('click');
			}else{
				$('#btnSubmit').trigger('click');
			}
			
		}
	});
}

function markAsStepProgramme()
{

	var studentIdArrayList = new Array();

	$('.selectedStudent:checked').each(function(){
		studentIdArrayList.push($(this).val());
	});

	if(studentIdArrayList.length > 0){

		$.ajax({
			url:'setStepProgrammeStudent.json',
			dataType:'json',
			data : {studentIdArray : studentIdArrayList.toString()},
			async:false,
			beforeSend: function() {
				startCommonAjaxSpinner();
			},
			complete: function() {
				stopCommonAjaxSpinner();
			},
			success:function(jArray){
				checkForActiveSemester();
				jAlert("Student mark suceessfully");
			},
		});
	}
	else{
		jAlert("Please first select student");
	}

}

function removeAsStepProgramme()
{
	var studentIdArrayList = new Array();

	$('.selectedStudent:checked').each(function(){
		studentIdArrayList.push($(this).val());
	});

	if(studentIdArrayList.length > 0){

		$.ajax({
			url:'removeStepProgrammeStudent.json',
			dataType:'json',
			data : {studentIdArray : studentIdArrayList.toString()},
			async:false,
			beforeSend: function() {
				startCommonAjaxSpinner();
			},
			complete: function() {
				stopCommonAjaxSpinner();
			},
			success:function(jArray){
				checkForActiveSemester();
				jAlert("Student remove suceessfully");
			},
		});
	}
	else{
		jAlert("Please first select student");
	}


}
function downloadMapStreamAndSpecializationTemplate(){
	var instituteCourseId = $('#cbInstiCourseId').val();
	var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	window.open('downloadMapStreamAndSpecializationTemplate.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId);
}
function initMapStreamAndSpecialization(instituteCourseId,instituteCourseStrengthId,callback){
	$(document).ready(function(){
		new AjaxUpload('studentUploadBar', {
			action : 'uploadMapStreamAndSpecialization.json',
			data : {
				'instituteCourseId' : instituteCourseId,
				'instituteCourseStrengthId' : instituteCourseStrengthId
			},
			name : 'fileData',
			size:AllowedFileSize.EXCELSHEET_UPLOAD,
			onSubmit : function(file, extension) {
				if (extension.toString().toLowerCase() == 'xls') {
					startLoading();
				} else {
					jAlert('Only Ms excel(.xls) file is permitted');
					return false;
				}
			},
			onComplete : function(file, response) {
				var jObject = eval('('+response+')');
				stopLoading();
				callback(jObject);
			}
		});


	});
}
function startMapStreamAndSpecialization(instituteCourseId,instituteCourseStrengthId){

	//var instituteCourseId=$('#applicantInstCourseCmb').val().split("-")[0];
	//console.log("instituteCourseId"+instituteCourseId+",instituteCourseStrengthId........"+instituteCourseStrengthId);
	initMapStreamAndSpecialization(instituteCourseId,instituteCourseStrengthId,function(jObject){
		var array = new Array();
		var errorCode = jObject.errorCode;
		if(errorCode == 0){
			$('.response').html('<div class="alert alert-success"><button type="button" class="close" data-dismiss="alert">X</button><i class = "icon-ok"></i>&nbsp;&nbsp;File has been uploaded successfully. Click here to<a href = "javascript:void(0)" onclick = "undoQuestionnairUpload(\''+array+'\')"> <span class="help-inline"><b>UNDO</b></span></a> this action</div>');
			checkForActiveSemester();
		} else {
			var jArray  = jObject.errorList;
			for(var i = 0 ; i < jArray.length ; i++){
				array.push(jArray[i].responseText);
			}
			var errorList = array.join("<br>");
			$('.response').html('<div class="alert alert-error"><button type="button" class="close" data-dismiss="alert">X</button>Uploading failed<br>'+errorList+'.</div>');
		}
	});
	var size = AllowedFileSize.EXCELSHEET_UPLOAD / (1024*2014);
	size = parseFloat(size).toFixed(1);
	$('.fileSizeAllowed').html(size);
}
function startUploading(instituteCourseId,instituteCourseStrengthId)
{
	$('#studentUploadBar').attr('disabled',false);
	startMapStreamAndSpecialization(instituteCourseId,instituteCourseStrengthId);
}
 function getInBound(status)
 {
	 jConfirm('Do you want to continue?', 'Confirm', function(r){
		 if(r){
			 var studentIdArrayList = new Array();

			 $('.selectedStudent:checked').each(function(){
				 //if(!($(this).hasClass('foreignExStudent')))
				 studentIdArrayList.push($(this).val());
			 });
			 if(studentIdArrayList.length > 0){
				 $.ajax({
					 url:'inBoundByStuentId.json',
					 dataType:'json',
					 data : {studentIdArray : studentIdArrayList.toString()},
					 async:false,
					 beforeSend: function() {
						 startCommonAjaxSpinner();

					 },
					 complete: function() {
						 stopCommonAjaxSpinner();
					 },
					 success:function(jArray){
						 jAlert("Successfully done", "Message");

					 },
				 });
			 }
			 else{
				 jAlert("Please first select student");
			 }
		 }
	 });
}
 
 
 function showStudentListByCourseSemeserAndDivisionForBranchTransfer(sortingParam,namingOrderValue,semesterBatchId, callback) {
		lastFunctionCalled = "showStudentListByCourseSemeserAndDivision('"+sortingParam+"',"+namingOrderValue+","+semesterBatchId+","+callback+")";
		gStudentsIds = new Array();
		gStudentBatchIds = new Array();
		var url = '';
		if (semesterBatchId == undefined) {
			semesterBatchId = getSemesterBatchId();
		}
		if (semesterBatchId == undefined) {
			var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
			if(instituteCourseStrengthId.toLowerCase() != 'select'){
				var shiftType = $('#shiftType').val();

				if ($('#chkNewStudent').is(':checked')) {
					url = 'fresherStudentListByBatchSP.json?batchId='+ instituteCourseStrengthId+'&shift='+shiftType;
					if (sortingParam != undefined)
						url = 'fresherStudentListByBatchSP.json?batchId='+ instituteCourseStrengthId + '&sortingParam='+ sortingParam+'&shift='+shiftType;
				}
			}
		} else if (semesterBatchId != undefined) {
			url = 'studentListSP.json?semesterBatchId=' + semesterBatchId;
			if (sortingParam != undefined && sortingParam !="undefined")
				url = 'studentList.json?semesterBatchId=' + semesterBatchId+ '&sortingParam=' + sortingParam;
		}
		try {
			$.ajax({
				url : url,
				dataType : 'json',
				async : false,
				beforeSend : function() {
			//		startCommonAjaxSpinner();
				},
				complete : function() {
			//		stopCommonAjaxSpinner();
				},
				success : function(jArray) {
					gStudentListJsonArray = jArray;
					/**
					 * @comment This function is a generic function which should be
					 *          overriden by those jS pages who will use this
					 *          pluggin
					 */
					showStudentListInGridForStudentBranchTransferff(namingOrderValue);
					try {
						/**
						 * @comment This function is a generic function which should
						 *          be overriden by those jS pages who will use
						 *          student subject allocation
						 */
						showStudentListInDialog(namingOrderValue);
						callback(jArray);
					} catch (e) {
						// ////////alert(e);
					}

				},
				error : function() {
					jAlert("Server error: Please refresh the page and try again!!!");
				}
			});
		} catch (e) {

		}
	}
 
 

 function showStudentListInGridForStudentBranchTransferff(intNamingOrderValue) {
 		$('#divStudentInvoiceGeneration').hide();
		/** Default */
		if(intNamingOrderValue == undefined)
			intNamingOrderValue = 1;
		clearStudentGrid();
		var len = gStudentListJsonArray.length;
		var cnt = 1;
		var first  = "firstName";
		var second = "lastName";

		if(intNamingOrderValue>2)
		{
			first  = "lastName";
			second = "firstName";
		}
		var customerIdentificationObj = $('#customerIdentificationObj').val();
		var customerWiseDispalyOption = (customerIdentificationObj == 'IMT_NAGPUR' || customerIdentificationObj == 'IMT_GAZIABAD' || customerIdentificationObj == 'IMT_HYDERABAD') ? 'display:none;' : '';
		var mainDepartmentHeading = (customerIdentificationObj == 'IMT_NAGPUR' || customerIdentificationObj == 'IMT_GAZIABAD' || customerIdentificationObj == 'IMT_HYDERABAD') ? 'Main Stream' : 'Main Department';
		var boiler = ''+
		'<fieldset id="fildofcolor" style="border: 1px solid gray;padding: 5px;margin-top: 10px;display:none">'+
		'  <legend style="width: auto;font-weight: bold;padding: 2px;">Colour Indicators</legend>'+
		'<span class="label" style="background-color:#dcedc7;color:#000"><i class="fa fa-hand-o-right"></i>This color indicate freezed. </span>'+
		'<span class="label" style="color:#000"><i class="fa fa-ban"></i>  Indicate not freezed. </span>'+
		'<span class="label" style="background-color:#d8a38e;color:#000"><i class="fa fa-hand-o-right"></i> Can not allow promotional student to transfer </span>'+
		'</fieldset>';
		
		/** Designing Header of student table*/
		boiler += '<div><table class="table table-bordered"><th>Category:<br><span float:left><select id="typeCategoryDrop" onchange="getSortDataWithFilterBYType()"></select></th>' +
                       '<th>Admission Type:<br><span float:left><select id="admissionTypeDrop" onchange="getSortDataWithFilterBYType()"></select></th></tr></table></div><br/><table class="table table-bordered table-condensed tblManageStudentGrid" id="pro1">'
			+'<thead>'
				+'<tr id="studentRow">'
					+'<th>Sr.No.</th>' //Serial No
					+'<th><input type="checkbox" id="selectAllCat" onclick="selectAllCatgoryWise()"></input></th>' //Check Box
					+'<th></th>' //Profile Pic
					+'<th style="display:none"></th>' //Student Id
					+'<th style="display:none"></th>' //Student Batch Id
					+'<th>'+juno.labelByCustomer('l.Customerwise.RollNo.Label')+'</th>' //Roll No
					+'<th style="display:none"></th>' //Roll No
					+'<th style="display:none"></th>' //Roll No
					+'<th style="display:none"></th>'; //Roll No
					if($('#customerHelper').val()=="CHANAKYA")
						boiler +=	'<th style="">PC no</th>'; //Roll No
					
					
					boiler +='<th width="20%" style="">Name</th>' // Student Name
					+'<th style="">Email Id</th>' // Email
					+'<th style="">Gender</th>' // Gender
					+'<th style="">Phone No.</th>' // Mobile No
					
					+'<th style="">Admission Type</th>' // Mobile No
					+'<th style="">Admission Type Categories</th>' // Mobile No
				
					
					+'<th style="'+customerWiseDispalyOption+'">Batch</th>' // Sub-Batch
					+'<th style="'+customerWiseDispalyOption+'">PCM marks</th>' // Physic Chem Maths Marks
					+'<th style="'+customerWiseDispalyOption+'">Specialization</th>' // Specialization (for MBA students)
					+'<th style="">'+mainDepartmentHeading+'</th>' //Main Root Department
					+'<th style="display:none"></th>' // Deparment promotion Id
					+'<th style="display:none"></th>' // Parent Institute Course ID
					+'<th style="">Section Joining Date</th>' // Joining date
					+'<th style="'+customerWiseDispalyOption+'">Export Status</th>';
			if($('#customerIdentificationObj').val() == 'IMT_NAGPUR' || $('#customerIdentificationObj').val() == 'IMT_DUBAI' || $('#customerIdentificationObj').val() == 'IMT_GAZIABAD' || $('#customerIdentificationObj').val() == 'IMT_HYDERABAD'){
				boiler +='<th>Application No.</th>';
			}else{
			boiler +='<th>Group Name</th>'; // Change User Name
			}
			boiler +='<th>STUDENT LIVE ATKT</th>'
					+'<th>Edit</th>' // Parent Institute Course ID
					+'<th style="display:none"></th>'
					+'<th style="display:none"></th>'
					+'<th style="display:none"></th>'
					+'<th style="display:none"></th>'
					+'<th style="display:none"></th>'
					+'<th style="display:none"></th>'
					+'<th style="display:none"></th>'
					+'<th style="display:none"></th>'
				+'</tr>'
			+'</thead>'
			+'<tbody>';
		var counts=0;
		var admissTypeArr=new Array();
		var catArr=new Array();
		for(var i = 0 ; i < len ; i++){
			
			
			var name ="";
			if(intNamingOrderValue>2)
				name = gStudentListJsonArray[i].lastName + ' ' + gStudentListJsonArray[i].firstName+' '+gStudentListJsonArray[i].middleName;
			else
				name = gStudentListJsonArray[i].firstName + ' ' + gStudentListJsonArray[i].middleName+' '+gStudentListJsonArray[i].lastName;

			var rollNo = gStudentListJsonArray[i].rollNo.toString() != ""?gStudentListJsonArray[i].rollNo:"-";
			var studentUniqueNumber = gStudentListJsonArray[i].studentUniqueNumber.toString() != ""?gStudentListJsonArray[i].studentUniqueNumber:"-";
			var mobileNo="";
			if(gStudentListJsonArray[i].mobileNumber != undefined)
			{
				mobileNo=gStudentListJsonArray[i].mobileNumber;
			}	
			
			var groupName="";
			if(gStudentListJsonArray[i].groupName != undefined)
			{
				groupName=gStudentListJsonArray[i].groupName;
			}
			/*if(gStudentListJsonArray[i].feePaymentStatus=='Please verify the last year Invoice ')
			boiler +='<tr id="studentRow-'+gStudentListJsonArray[i].studentId+'" style="background-color:#dddeee;color:#fff" class="studentRow">';freezedBy
			else{*/
			var foreignExStyle = gStudentListJsonArray[i].isForeignExchangeStudent == 'true' || gStudentListJsonArray[i].isForeignExchangeStudent == true ? "style=\"background-color:#FCB9B9;\"" : "";
			var foreignExClass = gStudentListJsonArray[i].isForeignExchangeStudent == 'true' || gStudentListJsonArray[i].isForeignExchangeStudent ? "foreignExStudent" : "";
			var DCPExStyle = gStudentListJsonArray[i].isDCPStudent == 'true' || gStudentListJsonArray[i].isDCPStudent == true ? "style=\"background-color:#FFFFCC;\"" : "";
			var DCPExClass = gStudentListJsonArray[i].isDCPStudent == 'true' || gStudentListJsonArray[i].isDCPStudent ? "DCPExStudent" : "";
			var cBatch = gStudentListJsonArray[i].status == undefined ? "-" : gStudentListJsonArray[i].status; 
			var stepProgramme = gStudentListJsonArray[i].stepProgramme == 'true' || gStudentListJsonArray[i].stepProgramme == true ? "style=\"background-color:#e6e6ff;\"" : "";
			var clstoPromote =(gStudentListJsonArray[i].freezedBy!="-" && (gStudentListJsonArray[i].freezedStatus!="false" || gStudentListJsonArray[i].freezedStatus!=false)) ? "style=\"background-color:#dcedc7;\"" : "";
			
			if(gStudentListJsonArray[i].freezedBy!="-" && (gStudentListJsonArray[i].freezedStatus!="false" || gStudentListJsonArray[i].freezedStatus!=false)){
				counts ++;
			}
			
			
			
			if(!admissTypeArr.includes(gStudentListJsonArray[i].admissiontype))
				admissTypeArr.push(gStudentListJsonArray[i].admissiontype);
				
			if(!catArr.includes(gStudentListJsonArray[i].admissiontypeCategories))
				catArr.push(gStudentListJsonArray[i].admissiontypeCategories);
			
			
			boiler +='<tr admissiontype="'+gStudentListJsonArray[i].admissiontype+'" category="'+gStudentListJsonArray[i].admissiontypeCategories+'" id="studentRow-'+gStudentListJsonArray[i].studentId+'" '+(foreignExStyle)+' '+(DCPExStyle)+' '+(stepProgramme)+' '+(clstoPromote)+'>';
			//} <i class="fa fa-ban"></i>
			boiler +='<td>'+(i+1)+'</th><th>';
			if ($('#customerHelper').val() == "RCOEM") {
				if(gStudentListJsonArray[i].freezedBy!="-" && (gStudentListJsonArray[i].freezedStatus!="false" || gStudentListJsonArray[i].freezedStatus!=false)){
					boiler +='<input type="checkbox" class="selectedStudent '+foreignExClass+' '+DCPExClass+'" value="'+gStudentListJsonArray[i].studentId+'" id="'+gStudentListJsonArray[i].studentId+'" onclick="selectStudentBatchGrid(\'studentRow-'+gStudentListJsonArray[i].studentId+'\')"></th>';
				}else{
					boiler +='<i class="fa fa-ban"></i></th>';
				}
			}else{
				if(gStudentListJsonArray[i].isPromotionalStudent!=""){
					boiler +='</th>';
				}else{
					boiler +='<input type="checkbox" class="selectedStudent '+foreignExClass+' '+DCPExClass+'" value="'+gStudentListJsonArray[i].studentId+'" id="'+gStudentListJsonArray[i].studentId+'" onclick="selectStudentBatchGrid(\'studentRow-'+gStudentListJsonArray[i].studentId+'\')"></th>';
				}
			}
			boiler +='<td class="profilePhoto"><img class="pointer" height="35px" id="studentImg-'+gStudentListJsonArray[i].studentId+'" width="35px" src="getStudentProfileImageById.json?id='+gStudentListJsonArray[i].studentId+'"></th>' //Profile Pic
			+'<td class="hdnStudentIdClnt" style="display:none">'+gStudentListJsonArray[i].studentId+'</td>' //Student Id
			+'<td class="hdnStudentBatchIdClnt" style="display:none">'+gStudentListJsonArray[i].studentBatchId+'</td>' //Student Batch Id
			+'<td class="rollNo" >'+rollNo+'</td>'; // Roll No
			if($('#customerHelper').val()=="CHANAKYA")
				boiler +='<td class="studentUniqueNumber" >'+studentUniqueNumber+'</td>'; // PC no.
			
			boiler +='<td class="firstName" style="display:none">'+gStudentListJsonArray[i].firstName+'</td>' // Roll No
			+'<td class="middleName" style="display:none">'+gStudentListJsonArray[i].middleName+'</td>' // Roll No
			+'<td class="lastName" style="display:none">'+gStudentListJsonArray[i].lastName+'</td>' // Roll No
			+'<td class="name" width="20%" style="font-size:11.5px">'+name+'</td>' // Student Name
			+'<td class="email" style="">'+gStudentListJsonArray[i].emailId+'</td>' // Email
			+'<td class="gender" style="">'+gStudentListJsonArray[i].gender+'</td>' // Gender
			+'<td class="phoneNo" style="">'+mobileNo+'</td>' // Mobile No
			
			+'<td class="admissiontype" style="" >'+gStudentListJsonArray[i].admissiontype+'</td>' // Mobile No
			+'<td class="admissiontypeCategories" style="" >'+gStudentListJsonArray[i].admissiontypeCategories+'</td>' // Mobile No
		
			
			+'<td class="subbatch" style="'+customerWiseDispalyOption+'">'+cBatch+'</td>' // Sub-Batch
			+'<td class="pcmMarks" style="text-align:right;'+customerWiseDispalyOption+'">'+gStudentListJsonArray[i].pcmMarks+'</td>' // Physic Chem Maths Marks
			+'<td class="speli" style="'+customerWiseDispalyOption+'">'+gStudentListJsonArray[i].qualiSpecializationName+'</td>' // Specialization (for MBA students)
			+'<td class="parentDepartmentId" style="">'+gStudentListJsonArray[i].parentDepartmentName+'</td>' //Main Root Department
			+'<td class="deptPromotionId" style="display:none">'+gStudentListJsonArray[i].deptPromotionId+'</td>' // Department Promotion ID
			+'<td class="parentInstituteCourseId" style="display:none">'+gStudentListJsonArray[i].parentInstituteCourseId+'</td>' // Parent Institute Course ID
			+'<td class="admissionDate" style="">'+gStudentListJsonArray[i].admissionDate+'</td>' // Parent Institute Course ID
			+'<td class="exportStatus" style="'+customerWiseDispalyOption+'" stud="'+gStudentListJsonArray[i].studentId+'" fresher="'+gStudentListJsonArray[i].fresher+'">'+gStudentListJsonArray[i].exportStatus+'</td>';
			if($('#customerIdentificationObj').val() == 'IMT_NAGPUR' || $('#customerIdentificationObj').val() == 'IMT_DUBAI' || $('#customerIdentificationObj').val() == 'IMT_GAZIABAD' || $('#customerIdentificationObj').val() == 'IMT_HYDERABAD'){
				boiler +='<td>'+gStudentListJsonArray[i].IMTApplicationNo+'</td>';
			}else{
				boiler +='<td class="groupName">'+groupName+'</td>';
			}
			
			boiler +='<td class="atktCount" style="text-align:center;">'+gStudentListJsonArray[i].atktCount+'</td>'
			+'<td><a href="javascript:void(0)" class="editStudent" title="Edit Record"><i class="icon-edit"></i></a></td>' // Edit student Button
			+'<td class="majorOpenElectiveSubjectId" style="display:none">'+gStudentListJsonArray[i].majorOpenElectiveSubjectId+'</td>'
			+'<td class="minorOpenElectiveSubjectId" style="display:none">'+gStudentListJsonArray[i].minorOpenElectiveSubjectId+'</td>'
			+'<td class="studentId" studentId="'+gStudentListJsonArray[i].studentId+'" style="display:none">'+gStudentListJsonArray[i].studentId+'</td>'
			+'<td class="isForeignExchangeStudent" isForeignExchangeStudent="'+gStudentListJsonArray[i].isForeignExchangeStudent+'" style="display:none">'+gStudentListJsonArray[i].isForeignExchangeStudent+'</td>'
			+'<td class="outBoundUniversityId" outBoundUniversityId="'+gStudentListJsonArray[i].outBoundUniversityId+'" style="display:none">'+gStudentListJsonArray[i].outBoundUniversityId+'</td>'
			+'<td class="studentOutBoundMapId" studentOutboundId='+gStudentListJsonArray[i].studentOutBoundMapId+' style="display:none">'+gStudentListJsonArray[i].studentOutBoundMapId+'</td>'
			+'<td class="isDualSpecialization" isDualSpecialization='+gStudentListJsonArray[i].isDualSpecialization+' style="display:none">'+gStudentListJsonArray[i].isDualSpecialization+'</td>'
			+'<td class="isDCPStudent" isDCPStudent="'+gStudentListJsonArray[i].isDCPStudent+'" style="display:none">'+gStudentListJsonArray[i].isDCPStudent+'</td>'
			
			//alert("==="+gStudentListJsonArray[i].majorOpenElectiveSubjectId)outBoundUniNamestudentOutBoundMapId;
			+'</tr>';

			


		}
		boiler += '</tbody>'
		+'</table>';


		$('#student-management-grid').html(boiler);
		if(counts >0)
        $('#fildofcolor').show();
        
		oTable = $('.tblManageStudentGrid').dataTable({
	        "sDom": "<'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span6'i><'span6'p>>",
	        "sPaginationType": "bootstrap",
	        "oLanguage": {
				"sLengthMenu": "_MENU_ records per page"
			},
			"iDisplayLength":-1,
	    });
	    $('.dataTables_length').hide();


     	bindFilterTobindDrop(catArr,'typeCategoryDrop');
        bindFilterTobindDrop(admissTypeArr,'admissionTypeDrop');
		$("#curryearid").html('('+gStudentListJsonArray[0].invoiceFromYear+'-'+gStudentListJsonArray[0].invoiceToYear+')');
		if( gStudentListJsonArray[0].invoiceFromYear!=""&& gStudentListJsonArray[0].invoiceToYear!=""){
			 $("#nextyearId").html('('+(eval(gStudentListJsonArray[0].invoiceFromYear)+(1))+'-'+(eval(gStudentListJsonArray[0].invoiceToYear)+(1))+')');
		}
	     
	     
	     $("input[value='Transfer']").attr('_fromYr',gStudentListJsonArray[0].invoiceFromYear);
	      $("input[value='Transfer']").attr('_toyear',gStudentListJsonArray[0].invoiceToYear);
         $("input[value='Promotion']").attr('_fromYr',eval(gStudentListJsonArray[0].invoiceFromYear)+(1));
          $("input[value='Promotion']").attr('_toyear',eval(gStudentListJsonArray[0].invoiceToYear)+(1));
	       $('#student-management-grid').find('.profilePhoto').bind('click',function(){
	    	   var trObj = $(this).parents('tr');
	    	   var studentId = $(trObj).find('.hdnStudentIdClnt').text();
	    	   showPhotoDialog('studentImg-'+studentId,studentId,'student');
	       });

	       $('#student-management-grid').find('.editStudent').bind('click',function(){
	    	   //alert('hi');
	    	   var trObj = $(this).parents('tr');
	    	   var rollNo = $(trObj).find('.rollNo').text();
	    	   
	    	   var studentUniqueNumber = '';
	    	   if($('#customerHelper').val()=="CHANAKYA")
	    		   studentUniqueNumber = $(trObj).find('.studentUniqueNumber').text();
	    	   
	    	   var hdnStudentIdClnt = $(trObj).find('.hdnStudentIdClnt').text();
	    	   var hdnStudentBatchIdClnt = $(trObj).find('.hdnStudentBatchIdClnt').text();
	    	   var name = $(trObj).find('.name').text();
	    	   var firstName = $(trObj).find('.firstName').text();
	    	   var middleName = $(trObj).find('.middleName').text();
	    	   var lastName = $(trObj).find('.lastName').text();
	    	   // alert(name);
	    	   
	    	   var gender = $(trObj).find('.gender').text();
	    	   var phoneNo = $(trObj).find('.phoneNo').text();
	    	   var subbatch = $(trObj).find('.subbatch').text();
	    	   var speli = $(trObj).find('.speli').text();
	    	   var deptPromotionId = $(trObj).find('.deptPromotionId').text();
	    	   var parentInstituteCourseId = $(trObj).find('.parentInstituteCourseId').text();
	    	   var admissionDate = $(trObj).find('.admissionDate').text();
	    	   var majorOpenElectiveSubjectId = $(trObj).find('.majorOpenElectiveSubjectId').text();
	    	   var minorOpenElectiveSubjectId = $(trObj).find('.minorOpenElectiveSubjectId').text();
	    	   //alert("===="+majorOpenElectiveSubjectId);
	    	   var jObject = {
	    			   rollNo:rollNo,
	    			   studentUniqueNumber : studentUniqueNumber,
	    			   firstName:firstName,
	    			   middleName:middleName,
	    			   lastName:lastName,
	    			   hdnStudentIdClnt:hdnStudentIdClnt,
	    			   hdnStudentBatchIdClnt:hdnStudentBatchIdClnt,
	    			   name:name,
	    			   gender:gender,
	    			   phoneNo:phoneNo,
	    			   subbatch:subbatch,
	    			   speli:speli,
	    			   deptPromotionId:deptPromotionId,
	    			   parentInstituteCourseId:parentInstituteCourseId,
	    			   admissionDate:admissionDate,
	    			   majorOpenElectiveSubjectId:majorOpenElectiveSubjectId,
	    			   minorOpenElectiveSubjectId:minorOpenElectiveSubjectId,
	    	   };
	    	   showStudentEditRecordDialog(jObject,trObj);
	       });

	       $('#student-management-grid').find('.studentRow').bind('dblclick',function(){
	    	   //alert('hi');
	    	   var customerIdentificationObj = $('#customerIdentificationObj').val();
	    	   var trObj = $(this);
	    	   var rollNo = $(trObj).find('.rollNo').text();
	    	   var hdnStudentIdClnt = $(trObj).find('.hdnStudentIdClnt').text();
	    	   var hdnStudentBatchIdClnt = $(trObj).find('.hdnStudentBatchIdClnt').text();
	    	   var name = $(trObj).find('.name').text();
	    	   var firstName = $(trObj).find('.firstName').text();
	    	   var middleName = $(trObj).find('.middleName').text();
	    	   var lastName = $(trObj).find('.lastName').text();
	    	  // alert(name);
	    	   var gender = $(trObj).find('.gender').text();
	    	   var phoneNo = $(trObj).find('.phoneNo').text();
	    	   var subbatch = $(trObj).find('.subbatch').text();
	    	   var speli = $(trObj).find('.speli').text();
	    	   var deptPromotionId = $(trObj).find('.deptPromotionId').text();
	    	   var parentInstituteCourseId = $(trObj).find('.parentInstituteCourseId').text();
	    	   var admissionDate = $(trObj).find('.admissionDate').text();
	    	   var majorOpenElectiveSubjectId = $(trObj).find('.majorOpenElectiveSubjectId').text();
	    	   var minorOpenElectiveSubjectId = $(trObj).find('.minorOpenElectiveSubjectId').text();
	    	   var jObject = {
	    			   rollNo:rollNo,
	    			   firstName:firstName,
	    			   middleName:middleName,
	    			   lastName:lastName,
	    			   hdnStudentIdClnt:hdnStudentIdClnt,
	    			   hdnStudentBatchIdClnt:hdnStudentBatchIdClnt,
	    			   name:name,
	    			   gender:gender,
	    			   phoneNo:phoneNo,
	    			   subbatch:subbatch,
	    			   speli:speli,
	    			   deptPromotionId:deptPromotionId,
	    			   parentInstituteCourseId:parentInstituteCourseId,
	    			   admissionDate:admissionDate,
	    			   majorOpenElectiveSubjectId:majorOpenElectiveSubjectId,
	    			   minorOpenElectiveSubjectId:minorOpenElectiveSubjectId,
	    	   };
	    	   showStudentEditRecordDialog(jObject,trObj);
	       });

	       /**
	        * <li class="studentoption option-allocateroll" title = "Allocate roll nos of all student of the selected division"><a href="javascript:void(0)" onclick = "openRoleAllocationDialog();">Allocate to all student</a></li>
		    <li class="studentoption option-resetroll" title = "Unassign roll nos of all student of the selected division"><a href="javascript:void(0)" onclick="resetRollNoOfStudentByDivision();">Un-Assign roll no</a></li>
		    <li class="divider"></li>
		    <li class="studentoption option-changestatus" title = "Toggle status of student to blocked"><a href="javascript:void(0)" onclick="">Change Status</a></li>
		    <li class="studentoption option-addstudent" title = "Add a new student in ERP"><a href="javascript:void(0)" onclick="">Add Student</a></li>
		    <li class="studentoption option-deletestudent" title = "Delete selected students from ERP"><a href="javascript:void(0)" onclick="">Delete student</a></li>
		    <li class="studentoption option-unblockstudent" title = "Unblock the blocked student"><a href="javascript:void(0)" onclick="">Unblock student</a></li>
		    <li class="divider"></li>
		    <li class="studentoption option-allocatedivision" title = "Allocate / Change Division of selected student"><a href="javascript:void(0)" onclick="">Allocate division</a></li>
		    <li class="studentoption option-changedept" title = "Change department of selected student"><a href="javascript:void(0)" onclick="">Change department</a></li>
		    <li class="studentoption option-promot" title = "Promot to the new department of selected student"><a href="javascript:void(0)" onclick="">Promot</a></li>
	        */


	       $('.studentoption').unbind();
	       $('.studentoption').bind('click',function(){
	    	   if($(this).hasClass('option-changestatus')){
	    		   if(checkSelectedStudent()){
	    			   showChangeStudentStatusForm();
	    			   populateStudentStatus();
	    			   //alert("calling");
	    		   } else {
	    			   jAlert('Please select at least one student.');
	    		   }
	    	   } else if($(this).hasClass('option-changestatus')){
	    		   if(checkSelectedStudent()){
	    			   showChangeStudentStatusForm();
	    			   populateStudentStatus();
	    		   } else {
	    			   jAlert('Please select at least one student.');
	    		   }
	    	   } else if($(this).hasClass('option-addstudent')){
	    		   if(validateAddStudentForm()){
	    			   checkForPromotionInDepartment(function(jObject){
	    				   if(jObject.hasPromotionInDepartment){
	    					   var boiler  = '<option value="0">--- Select ---</option>';
	    					   $('#cbInstiCourseId option').each(function(){
	    						   var val = $(this).val().split('-')[0];
	    						   var text = $(this).text();
	    						   boiler += '<option value="'+val+'">'+text+'</option>';
	    					   });
	    					   $('#cmbStudentParentDepartment').html(boiler);
							   convertComboToSearchable('#cmbStudentParentDepartment');
	    					   $('#trParentDepartmentRow').show();
	    				   } else {
	    					   $('#trParentDepartmentRow').hide();
	    				   }
	    				   openAddStudentDialog();
	    			   });
	    		   }
	    	   } else if($(this).hasClass('option-deletestudent')){
	    		   var message =
	    			   '<div class = "alert alert-info" style="padding:2px;">';
					if($('#customerIdentificationObj').val() == 'IMT_NAGPUR' || $('#customerIdentificationObj').val() == 'IMT_DUBAI' || $('#customerIdentificationObj').val() == 'IMT_GAZIABAD' || $('#customerIdentificationObj').val() == 'IMT_HYDERABAD'){
	    				   message += '<p style="font-weight:bold;"><i class="icon-hand-right"></i>&nbsp;&nbsp;<u>Please note the warning:</u></p>';
	    				   message +='The students which have been fetched from placement registration will NOT be deleted.<br><br>';
	    			   }
	    			   message +='<b>Are you sure to delete<b>?'+
	    			   '</div>';
	    		   jConfirm(message,'Confirmation',function(flag){
	    			   if(flag){
	    				   deleteStudent(getSelectedStudentBatchId());
	    			   }
	    		   });
	    	   } else if($(this).hasClass('option-unblockstudent')){
	    		   // var studentBatchIdArray = getSelectedStudentBatchId();
	    		   // alert(studentBatchIdArray.length);
	    		   // if(studentBatchIdArray.length > 0){
	    		   showBlockedStudentListDialog();

	    		   /*
		   				jConfirm('Are you sure?','Confirmation',function(flag){
		   					if(flag){
		   						unblockStudentYearDownStudent(getSelectedStudentBatchId(),getSemesterBatchId());
		   					}
		   				});*/
	    		   // } else {
	    		   //jAlert('Select record');
	    		   // }
	    	   } else if($(this).hasClass('option-allocatedivision')){
	    		   var studentBatchIdArray = getSelectedStudentBatchId();
	    		   if(studentBatchIdArray.length > 0){
	    			   
	    			   populateAcademicSessionByCourseStrengthId(undefined,'cbTargetAcademicSession',undefined,function(jArray){
	    				   if(jArray.length > 0){
	    					   $('#cbTargetAcademicSession').unbind();
	    					   $('#cbTargetAcademicSession').change(function(){
	    						   var instituteCourseStrengthId = $('#cbTargetAcademicSession option:selected').attr('id');
	    						   var divisionId =  $('#cbBatchId').val().split('-')[0];
	    						   getCurrentDivisionByInstituteCourseStrengthIdForTransferDivision(instituteCourseStrengthId,divisionId,function(runningDivisionjArray){
	    							   if(runningDivisionjArray.length > 0){
	    								   populateCurrentDivisionByInstituteCourseStrengthId(runningDivisionjArray,'cbTargetBatchId');
	    							   } else {
	    								   jAlert('No more division found for transfer in selected Class!!!');
	    							   }
	    						   });
	    					   });
	    					   var semesterName = jArray[0].userSemesterName;
	    					   var sessionName = jArray[0].academicYearBegining+"-"+jArray[0].academicYearEnd;
	    					   var divisionName = $('#cbBatchId option:selected').text();
	    					   var message = semesterName + ' &raquo; '+divisionName;
							   $('.divStudentListGridInfo').html(`<span style="color: #03b1a9;"><b>${message}</b></span>
							   <hr style="border-bottom: 1px solid #b6b6b675;margin-top: 3px;border-bottom: 1px solid var(--juno-green)">`)
	    					   var flag=0;
	    	    			   $('.exportStatus').each(function(){
	    	    				   var student = $(this).attr("stud");
	    	    				   var fresherStatus  = $(this).attr("fresher");
	    	    				  if( ($(this).html()=='Export') && ($('#'+student).is(":checked")) && fresherStatus=='fresher' ){
	    	    					  flag=1;
	    	    				  }
	    	    			   });
	    	    			   if(flag==0)
	    	    				   showTargetBatchDialog();
	    	    			   else
	    	    				   jAlert("Student Already Exported<br>first Remove it,then allocate Division","Message");
	    				   } else {
	    					   jAlert('No running academic session found!!!','Error');
	    				   }
	    			   });
	    			   if($('#gridAllocateDivCaptionHeader').attr('class') == 'fresher'){
	    				   $('.divStudentListGridInfo1').append('<div style="color:green">Note: You are just assigning the fresher student to selected division</div>');
	    			   } else {
	    				   $('.divStudentListGridInfo1').append('<div style="color:green">Note: This utility can be used for transfering student(s) from to one division to another</div>');
	    			   }
	    		   } else {

	    		   }
	    	   } else if($(this).hasClass('option-changedept')){
	    		   var studentBatchIdArray = getSelectedStudentBatchId();
	    		   //alert(studentBatchIdArray.length);
	    		   if(studentBatchIdArray.length > 0){
	    			  var flag=0;
	    			   $('.exportStatus').each(function(){
	    				   var student = $(this).attr("stud");
	    				  if( ($(this).html()=='Export') && ($('#'+student).is(":checked")) ){
	    					  flag=1;
	    					  return;
	    				  }
	    			   });
	    			   if(flag==0)
	    				   showStudentDepartmentTransferDialog();
	    			   else
	    				   jAlert("Export student can't transfer the Department<br>Please unselect the export student checkbox","Message");
	    		   } else {
	    			   jAlert('Please select student!!!',';error');
	    		   }
	    	   }else if($(this).hasClass('option-importStudent')){
	    		   var studentBatchIdArray = getSelectedStudentBatchId();
	    		   //alert(studentBatchIdArray.length);
	    		   if(studentBatchIdArray.length > 0){
	    			   showImportStudentDialog();
	    		   } else {
	    			   jAlert('Please select student!!!',';error');
	    		   }
	    	   } else if($(this).hasClass('option-promot')){
	    		   var studentBatchIdArray = getSelectedStudentBatchId();
	    		   if(studentBatchIdArray.length > 0){
	    			   showStudentDepartmentTransferDialog('parentDepartment');
	    		   } else {
	    			   jAlert('Please select student!!!',';error');
	    		   }
	    	   }
	       });



		/*for(var i = 0; i < len; i++) {
				name = gStudentListJsonArray[i][first] + ' ' + gStudentListJsonArray[i][second];
			var datarow = {
					id:cnt,
					studentIdSrvr:gStudentListJsonArray[i].studentId,
					rollNo:gStudentListJsonArray[i].rollNo.toString() != ""?gStudentListJsonArray[i].rollNo:"Not Assigned",
							hdnStudentIdClnt:gStudentListJsonArray[i].studentId,
							hdnStudentBatchIdClnt:gStudentListJsonArray[i].studentBatchId,
							hdnStudentBatchIdSrvr:gStudentListJsonArray[i].studentBatchId,
							name:name.trim(),
							email:gStudentListJsonArray[i].emailId,
							phoneNo:gStudentListJsonArray[i].alternetContactNumber,
							addressLine1:gStudentListJsonArray[i].studentAddressLine1,
							addressLine2:gStudentListJsonArray[i].studentAddressLine2,
							city:gStudentListJsonArray[i].studentCity,
							state:gStudentListJsonArray[i].studentState,
							country:gStudentListJsonArray[i].studentCountry,
							pincode:gStudentListJsonArray[i].studentPinCode,
							subbatch:gStudentListJsonArray[i].status,
							pcmMarks:gStudentListJsonArray[i].pcmMarks,
							hdnStatus:gStudentListJsonArray[i].status,
							parentDepartmentId:gStudentListJsonArray[i].parentDepartmentName,
							speli:gStudentListJsonArray[i].qualiSpecializationName,
							gender:gStudentListJsonArray[i].gender,
							deptPromotionId:gStudentListJsonArray[i].deptPromotionId,
							parentInstituteCourseId:gStudentListJsonArray[i].parentInstituteCourseId,
			}; */
			//jQuery("#student-management-grid").jqGrid('addRowData',i+1,datarow);
			//cnt++;
		//}


		var batchName = $('#cbAcademicBatch option:selected').text();
		var semesterName = $('#cbSemesterId option:selected').text();
		var sessionName = $('#cbAcademicSessionId option:selected').text();
		var divisionName = $('#cbBatchId option:selected').text();

		if(batchName.toLowerCase() != 'select'){
			message = batchName;
		}
		if(semesterName.toLowerCase() != 'select'){
			message += ' &raquo; '+semesterName;
		}
		/*if(sessionName.toLowerCase() != 'select'){
			message += ' &raquo; ['+sessionName+']';
		}*/
		if(divisionName.toLowerCase() != 'select'){
			message += ' &raquo; '+divisionName;
		}
		$('.divStudentListGridInfo').html(`<span style="color: #03b1a9;"><b>${message}</b></span>
		<hr style="border-bottom: 1px solid #b6b6b675;margin-top: 3px;border-bottom: 1px solid var(--juno-green)">`)


		/*****
		  * below code is for binding shift selection on the data table
		  */
	      var lastChecked = null;

	      //$(document).ready(function() {
	          var $chkboxes = $('.selectedStudent');
	          $chkboxes.click(function(e) {
	              if(e.shiftKey) {
	                  var start = $chkboxes.index(this);
	                  var end = $chkboxes.index(lastChecked);
	                  $chkboxes.slice(Math.min(start,end), Math.max(start,end)+ 1).attr('checked', lastChecked.checked);
	                  if(lastChecked.checked){
	                	  $chkboxes.slice(Math.min(start,end), Math.max(start,end)+ 1).parents('tr').addClass('selected');
	                  } else {
	                  	$chkboxes.slice(Math.min(start,end), Math.max(start,end)+ 1).parents('tr').removeClass('selected');
	                  }
	              }
	              setSelectedStudentBatchId();
	              if(!lastChecked) {
	                  lastChecked = this;
	                  return;
	              }
	              lastChecked = this;
	          });
	     // });

 
 }

 
 function btnGenerateStudentUniqueNo() {

	 var instituteCourseId = $('#cbInstiCourseId').val();
	 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	 var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	 if(semesterBatchId=="undefined"||semesterBatchId==undefined){
		 semesterBatchId = 0;
	 }

	 var studentIds =new Array();
	 $('.selectedStudent').each(function(){
		 if($(this).is(':checked'))
			 studentIds.push($(this).attr("value"));
	 });
	 if(studentIds.length > 0){
		 jConfirm('Are you sure? you want to generate Unique ID','',function(r){
			 if(r){
				 $.ajax({
					 url:'generateStudentUniqueNoForSelectedStudents.json',
					 dataType:'text',
					 type : 'POST',
					 data:{
						 studentIds :studentIds.toString(),
						 instituteCourseId : instituteCourseId,
						 instituteCourseStrengthId : instituteCourseStrengthId,
						 semesterBatchId : semesterBatchId
					 },
					 async:false,
					 beforeSend:function() {
						 startCommonAjaxSpinner();
					 },
					 complete: function() {
						 stopCommonAjaxSpinner();
					 },
					 success:function(jArray){
						
							 getCustomAlertMessage(jArray);
						
					 },
					 error:function(){
						 getCustomAlertMessage("alert_error","Error");
					 }
				 });

			 }


		 });
	 }

 }
	 
 function downloadChangeRollNoTemplate()
 {
	 var instituteCourseId = $('#cbInstiCourseId').val();
	 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	 var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	 if(semesterBatchId=="undefined"||semesterBatchId==undefined){
		 semesterBatchId = 0;
	 }
	 typeFlag = "RollNo";
	 //window.open('downloadChangeRollNoTemplate.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId);
	 window.open('downloadChangeRollNoTemplateNew.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId+'&typeFlag='+typeFlag); 
 }
 
 function downloadSetAdmissionDateTemplate(){
	 var instituteCourseId = $('#cbInstiCourseId').val();
	 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	 var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	 if(semesterBatchId=="undefined"||semesterBatchId==undefined){
		 semesterBatchId = 0;
	 }
	 //window.open('downloadSetAdmissionDateTemplate.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId);
	 window.open('downloadSetAdmissionDateTemplateNew.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId);
 }
 function downloadParentLoginCreationTemplate(){
	 var instituteCourseId = $('#cbInstiCourseId').val();
	 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	 var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	 if(semesterBatchId=="undefined"||semesterBatchId==undefined){
		 semesterBatchId = 0;
	 }
	 window.open('downloadChangeEmailIdTemplateforparentLoginUpload.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId);
 }
function uploadParentLoginCreation(){
 new AjaxUpload('uploadparentlogin', {
		 action : 'uploadChangeEmailIdforparentLoginUpload.json',
		 data : {},
		 name : 'fileDataparentlogin',
		 type :'POST',
		 size : AllowedFileSize.EXCELSHEET_UPLOAD,

		 onSubmit : function(file, extension) {
			 if (extension.toString().toLowerCase() == 'xls' || extension.toString().toLowerCase() == 'xlsx') {
				 startCommonAjaxSpinner();
				 var instituteCourseId = $('#cbInstiCourseId').val();
                 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
				 var semesterBatchId = $('#cbBatchId').val().split('-')[2];
				 if(semesterBatchId==undefined || semesterBatchId=="undefined"){
					 semesterBatchId = "0";
				 }
				 
				 this.setData({
					 'fileSize':AllowedFileSize.EXCELSHEET_UPLOAD,
					 'instituteCourseId':instituteCourseId,
                     'instituteCourseStrengthId':instituteCourseStrengthId,
					 'semesterBatchId':semesterBatchId
				 });

			 } else {
				 jAlert('Only Msexcel(.xls) file is permitted');
				 return false;
			 }
		 },
		 onComplete : function(file, response) {
			 stopCommonAjaxSpinner();
			 var jObject = eval('('+response+')');
			 if (jObject.responseFlag == "0") {
			   
			      jAlert(jObject.ErrorList[0]['ErrorName']);
				}
				else {
					 jAlert("Successfully Uploaded");
				}
				
				
			 /*for (var key in response)
			 {
				
				 if(response[responseFlag]=='0')
				 {
					 jAlert(response[ErrorName]);
				 }

			 }*/
				 //showStudentListByCourseSemeserAndDivision();
			 $("#uploadparentlogin").val('');

		 }
	 });
 }
 
 function downloadChangeEmailIdTemplate()
 {
	 var instituteCourseId = $('#cbInstiCourseId').val();
	var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	if(semesterBatchId == undefined || semesterBatchId == "undefined")
		semesterBatchId = 0;
	var typeFlag = "EmailId";
		//window.open('downloadChangeEmailIdTemplate.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId);
		window.open('downloadChangeRollNoTemplateNew.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId+'&typeFlag='+typeFlag); 
 }
 
  //uploadChangeAdmissionDate
 
function uploadAdmissionDate(){
	 
	 new AjaxUpload('uploadChangeAdmissionDate', {
		 action : 'uploadstudentAdmissionDateNew.json', // uploadstudentAdmissionDate.json
		 data : {},
		 name : 'fileData',
		 type :'POST',
		 size : AllowedFileSize.EXCELSHEET_UPLOAD,

		 onSubmit : function(file, extension) {
			 if (extension.toString().toLowerCase() == 'xls' || extension.toString().toLowerCase() == 'xlsx') {
				 startCommonAjaxSpinner();
				 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
				 var semesterBatchId = $('#cbBatchId').val().split('-')[2];
				 if(semesterBatchId==undefined || semesterBatchId=="undefined"){
					 semesterBatchId = "0";
				 }
				 
				 this.setData({
					 'fileSize':AllowedFileSize.EXCELSHEET_UPLOAD,
					 'instituteCourseStrengthId':instituteCourseStrengthId,
					 'semesterBatchId':semesterBatchId
				 });

			 } else {
				 jAlert('Only Msexcel(.xls) file is permitted');
				 return false;
			 }
		 },
		 onComplete : function(file, response) {
			 stopCommonAjaxSpinner();
			 showStudentListByCourseSemeserAndDivision();
			 jAlert(response);
		 }
	 });
 }
 
 function uploadAndSaveChangeRollno(){
	 var instituteCourseId = $('#cbInstiCourseId option:selected').val();
	 new AjaxUpload('uploadChangeRollno', {
		 action : 'uploadChangeRollNoTemplateNew.json', // uploadChangeRollNoTemplate.json
		 data : {},
		 name : "fileDataChageRollNo",
		 type :'POST',
		 size : AllowedFileSize.EXCELSHEET_UPLOAD,

		 onSubmit : function(file, extension) {
			 if (extension.toString().toLowerCase() == 'xls' || extension.toString().toLowerCase() == 'xlsx') {
				 startCommonAjaxSpinner();

				 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
				 var semesterBatchId = $('#cbBatchId').val().split('-')[2]!=undefined ? $('#cbBatchId').val().split('-')[2]:0;
				 
				 this.setData({
					 'fileSize':AllowedFileSize.EXCELSHEET_UPLOAD,
					 'instituteCourseStrengthId':instituteCourseStrengthId,
					 'semesterBatchId':semesterBatchId,
					 'instituteCourseId':instituteCourseId
				 });

			 } else {
				 jAlert('Only Msexcel(.xls) file is permitted');
				 return false;
			 }
		 },
		 onComplete : function(file, response) {
			 stopCommonAjaxSpinner();
			 showStudentListByCourseSemeserAndDivision();
			 jAlert(response);
		 }
	 });
 }
 
function uploadAndSaveChangeEmailId(){
	 var instituteCourseId = $('#cbInstiCourseId option:selected').val();
	 new AjaxUpload('uploadChangeEmailId', {
		 action : 'uploadChangeEmailIdTemplateNew.json', // uploadChangeEmailIdTemplate.json
		 data : {},
		 name : "fileDataChangeEmail",
		 type :'POST',
		 size : AllowedFileSize.EXCELSHEET_UPLOAD,

		 onSubmit : function(file, extension) {
			 if (extension.toString().toLowerCase() == 'xls' || extension.toString().toLowerCase() == 'xlsx') {
				 startCommonAjaxSpinner();

				 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
				 var semesterBatchId = $('#cbBatchId').val().split('-')[2]!=undefined ? $('#cbBatchId').val().split('-')[2]:0;
				 
				 this.setData({
					 'fileSize':AllowedFileSize.EXCELSHEET_UPLOAD,
					 'instituteCourseStrengthId':instituteCourseStrengthId,
					 'semesterBatchId':semesterBatchId,
					 'instituteCourseId':instituteCourseId
				 });

			 } else {
				 jAlert('Only Msexcel(.xls) file is permitted');
				 return false;
			 }
		 },
		 onComplete : function(file, response) {
			 stopCommonAjaxSpinner();
			 showStudentListByCourseSemeserAndDivision();
			 jAlert(response);
		 }
	 });
 }
 
 
 function showFresherStudentInStudentGridForTransferStudent(){
		lastFunctionCalled = "showFresherStudentInStudentGrid";
		showShiftsByInstituteStrengthForStudentTranser();
		initManageStudentGrid();
		$('#cbSemesterId option')[0].selected = true;
		$('#cbAcademicSessionId option')[0].selected = true;
		$('#cbBatchId option')[0].selected = true;
		$('#chkNewStudent').attr('checked',true);
		$('#hdnBatchCapacity').val('');
		$('#gridAllocateDivCaptionHeader').removeClass('non-fresher');
		$('#gridAllocateDivCaptionHeader').addClass('fresher');
		$('#btnAllocateDivisionRollNos').show();
		$('#trParentDepartment').hide();
		$('#uploadAsApplicantId').attr('checked',false);
	}


function showShiftsByInstituteStrengthForStudentTranser(){

	var instituteCourseStrengthId = $('#cbAcademicBatch').val().toString().split("-")[0];

	if(instituteCourseStrengthId != '0'){
		$.ajax({
			url : 'shiftsByInstituteStrength.json',
			data :{instituteCourseStrengthId : instituteCourseStrengthId},
			dataType : 'json',
			success : function(jArray) {

				var boiler = '<option value="0">No Shift</option>';
				for(var i=0; i<jArray.length;i++)
					boiler += '<option value="'+jArray[i]["shift"]+'">'+jArray[i]["shift"]+'</option>';

				$('#shiftType').html(boiler);
				$('#trShiftType').show();

				if(jArray.length>0)
					showFresherStudentByBatchTransfer('auto');
				else
					jAlert("Shifts are not defined to batches.<br>Please allocate shifts to batches");
			},
			error : function() {
				jAlert("Server error: Please refresh the page and try again!!!");
			}
		});
	}
}





function showFresherStudentByBatchTransfer(type) {
	lastFunctionCalled = "showFresherStudentByBatch";
	var batchId = $('#cbAcademicBatch').val().toString().split("-")[0];
	var shift = $('#shiftType').val();
	if(batchId != '0'){
		$.ajax({
			url : 'fresherStudentListByBatchSP.json',
			data : {batchId : batchId,shift : shift},
			dataType : 'json',
			beforeSend : function() {
				startCommonAjaxSpinner();
			},
			complete : function() {
				stopCommonAjaxSpinner();
			},
			success : function(jArray) {
				if(type=='auto' && jArray.length==0)
				{
					if($('#shiftType option')[1]!=undefined)
					{
						$('#shiftType option')[1].selected = true;
						showFresherStudentByBatchTransfer();
					}
				}
				else
				{
					gStudentListJsonArray = jArray;
					showStudentListInGridForStudentBranchTransferff();
				}
			},
			error : function() {
				jAlert("Server error: Please refresh the page and try again!!!");
			}
		});
	}
}

function setJoiningDateOfStudent()
{
	var semesterBatchId = $('#cbBatchId').val().split('-')[2];	
	if(semesterBatchId!=undefined && semesterBatchId!='')
	{
		$.ajax({
			url : 'setJoiningDateOfStudentsByBatch.json',
			data : {semesterBatchId : semesterBatchId},
			dataType : 'text',
			type:'POST',
			beforeSend : function() {
				startCommonAjaxSpinner();
			},
			complete : function() {
				stopCommonAjaxSpinner();
			},
			success : function(message) {
				
				jAlert(message);
				showStudentListByCourseSemeserAndDivision();
			},
			error : function() {
				jAlert("Server error: Please refresh the page and try again!!!");
			}
		});
	}
	else
	{
		jAlert("Please select section/batch...!!!");
	}
}
function setJoiningDateOfStudentForFresher(){
	var studentList = new Array();
	$('.selectedStudent:checked').each(function(){
		studentList.push($(this).val());
	});
	if(studentList.length>0){
	}else{
		jAlert("Please select at least one student.");
		return false;
	}
	var instituteCourseStrengthId = $('#cbAcademicBatch option:selected').val().split('-')[0];
	var semesterBatchId = $('#cbBatchId').val().split('-')[2];	
	if(instituteCourseStrengthId!=undefined && instituteCourseStrengthId!='')
	{
		$.ajax({
			url : 'setJoiningDateOfStudentsforFresher.json',
			data : {studentList : studentList.toString(),instituteCourseStrengthId:instituteCourseStrengthId},
			dataType : 'text',
			type:'POST',
			beforeSend : function() {
				startCommonAjaxSpinner();
			},
			complete : function() {
				stopCommonAjaxSpinner();
			},
			success : function(message) {
				jAlert(message);
				showStudentListByCourseSemeserAndDivision();
			},
			error : function() {
				jAlert("Server error: Please refresh the page and try again!!!");
			}
		});
	}
	else
	{
		jAlert("Please select batch...!!!");
	}
}


function downloadOrderNoTemplate()
{
	 var instituteCourseId = $('#cbInstiCourseId').val();
	 var instituteCourseStrengthId = $('#cbAcademicBatch option:selected').val().split('-')[0];
	 var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	 
	 //window.open('downloadOrderNoTemplate.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId);
	 window.open('downloadOrderNoTemplateNew.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId); 
}
function uploadOrderNo1(){
	 var instituteCourseStrengthId = $('#cbAcademicBatch option:selected').val().split('-')[0];
	 try{
		 var courseNameOnly  = $('#cbInstiCourseId option:selected').attr('coursenameonly');
		 var CourseType  = $('#cbInstiCourseId option:selected').attr('cousetype');
			 $('#allocateToEmpOppsd').show();
	 }catch(e){}
	 uploadOrderNo(instituteCourseStrengthId);
}
function uploadOrderNo(instituteCourseStrengthId){
	var instituteCourseId = $('#cbInstiCourseId option:selected').val();
	 var instituteCourseStrengthId = $('#cbAcademicBatch option:selected').val().split('-')[0];
	 var semesterBatchId = $('#cbBatchId').val().split('-')[2];

	new AjaxUpload('uploadorderNo', {
		action: 'uploadOrderNumberTemplateNew.json', //uploadOrderNumberTemplate.json
		data: {},
		name: "fileDataOrderNo",
		type: 'POST',
		size: AllowedFileSize.EXCELSHEET_UPLOAD,

		onSubmit: function(file, extension) {
			if (extension.toString().toLowerCase() == 'xls' || extension.toString().toLowerCase() == 'xlsx') {
				startCommonAjaxSpinner();

				this.setData({
					'fileSize': AllowedFileSize.EXCELSHEET_UPLOAD,
					'instituteCourseStrengthId': instituteCourseStrengthId,
					'instituteCourseId': instituteCourseId,
					'semesterBatchId':semesterBatchId

				});

			} else {
				jAlert('Only Msexcel(.xls) file is permitted');
				return false;
			}
		},
		onComplete: function(file, response) {

			stopCommonAjaxSpinner();
			showStudentListByCourseSemeserAndDivision();
			jAlert(response);
		}
	});
		
}

function getstudentSubjectMapping()
{
	var studentIdArray1 = new Array();
	$('.selectedStudent:checked').each(function(){
		//if(!($(this).hasClass('foreignExStudent')))
		studentIdArray1.push($(this).val());
	});

	if(studentIdArray1.length > 0){
	$.ajax({
		url:'getStudentSubjectAndBatchAllocationDetails.json',
		data : {studentIdArray1:studentIdArray1.toString()},
		dataType:'json',
		async:false,
		beforeSend: function() {
			startCommonAjaxSpinner();

		},
		complete: function() {
			stopCommonAjaxSpinner();
		},
		success:function(jArray){
			
			var html = '<option value="0">Select</option>';
			var html2 = '<option value="0">Select</option>';
			var len = jArray.length;
			$('#cmbSem').html("");
			$('#cmbDCPSem').html("");
			$('#cmbSem').html('<option value="0">Select</option>');
			$('#cmbDCPSem').html('<option value="0">Select</option>');
			
			for ( var i = 0; i < len; i++){
				html = '<option value="'+jArray[i]["batchSemesterCapacityId"]+'" id="opt1_'+jArray[i]["batchSemesterCapacityId"]+'">'+jArray[i]["batchName"]+ '</option>';
				html2 = '<option value="'+jArray[i]["batchSemesterCapacityId"]+'" id="opt2_'+jArray[i]["batchSemesterCapacityId"]+'">'+jArray[i]["batchName"]+ '</option>';
				
				$('#cmbSem').append(html);
				$('#cmbDCPSem').append(html2);
				$('#opt1_'+jArray[i]["batchSemesterCapacityId"]).data('subjectName', (jArray[i]["subjectName"].gemsDecode()));
				$('#opt1_'+jArray[i]["batchSemesterCapacityId"]).data('studentUniversityExamMarksAttemtIds', jArray[i]["studentUniversityExamMarksAttemtIds"]);
				$('#opt2_'+jArray[i]["batchSemesterCapacityId"]).data('subjectName', (jArray[i]["subjectName"].gemsDecode()));
				$('#opt2_'+jArray[i]["batchSemesterCapacityId"]).data('studentUniversityExamMarksAttemtIds', jArray[i]["studentUniversityExamMarksAttemtIds"]);
			}

			
		},
	});
	}
}

function getstudentAttendingSubjectList(status)
{
	
	var subjectName = "";
	var studentUniversityExamMarksAttemtIds = "";
	if(status == "foreignExchange"){
		if($('#cmbSem option:selected').val()=='0'){
			$('#subjectList').html('');
			return;
		}
		subjectName = $('#cmbSem option:selected').data('subjectName');
		studentUniversityExamMarksAttemtIds = $('#cmbSem option:selected').data('studentUniversityExamMarksAttemtIds');
	}else{
		if($('#cmbDCPSem option:selected').val()=='0'){
			$('#subjectListDCP').html('');
			return;
		}
		subjectName = $('#cmbDCPSem option:selected').data('subjectName');
		studentUniversityExamMarksAttemtIds = $('#cmbDCPSem option:selected').data('studentUniversityExamMarksAttemtIds');
	}
	
	var boiler =	'<table class="table table-bordered" id="tblStudentList">'+
					'<thead>'+
					'<tr>'+
					'<th>Sr. No.</th>'+
					'<th>Course Name</th>'+
					'<th></th>'+
					'</tr>'+
					'</thead>'+
					'<tbody>';
							
	
	var valNew=subjectName.split(',');
	
	for(var s=0;s<valNew.length;s++){
		var subName = valNew[s].split('~~');
		if(subName!=""){
			boiler +=	'<tr>'+
			'<td class="SrNoCls">'+eval(s+1)+'</td>'+
			'<td>'+subName[0]+'</td>';
			if(studentUniversityExamMarksAttemtIds == 0){
				boiler += '<td><i id="" class="icon-trash removeAc" title="Delete" onclick="deleteStudentSubjectAllocationOfForeignExchangeStudent('+subName[1]+',\''+status+'\')" style="cursor:pointer;"></i></td>';
				boiler += '<td class="subjectwiseStudentId" style="display:none">'+subName[1]+'</td>';
			}
			else{
				boiler += '<td><b>Can not delete subject. Modaration is done</b></td>';
			}
		}else
		{
			boiler +='<tr><td colspan="3" style="text-align:center;">Data not found !!!!!!</td></tr>';
		}
		boiler +='</tr>';
	}
	
	boiler +=
			'</tbody></table>';
	
	if(status == "foreignExchange"){
		$('#subjectList').html(boiler);
	}else{
		$('#subjectListDCP').html(boiler);
	}
	
	
}

function deleteStudentSubjectAllocationOfForeignExchangeStudent(subjectwiseStudentId)
{
	$.ajax({
		url:'deleteStudentSubjectAllocationOfForeignExchangeStudent.json',
		data : {subjectwiseStudentId:subjectwiseStudentId},
		dataType:'json',
		async:false,
		beforeSend: function() {
			startCommonAjaxSpinner();

		},
		complete: function() {
			stopCommonAjaxSpinner();
		},
		success:function(jArray){
			
			getCustomAlertMessage("alert_delete");
			
			hideselectedRows(subjectwiseStudentId)
			
		},
	});
}

function hideselectedRows(subjectwiseStudentId)
{
	$('.subjectwiseStudentId').each(function(){
		if($(this).text()==subjectwiseStudentId){
			
		 var tr= $(this).closest('tr');
		 $(tr).remove();
		 arrangeSno();
		}
		});	
}

function arrangeSno()

{       
       var i=0;
        $('#tblStudentList tr').each(function() {
            $(this).find(".SrNoCls").html(i); 
            i++;
         });
}

function getMarkAs1Plus1StudentList()
{
	$('#subjectList').html('');
	$('#txtSemesterName').val('');
	$('#tblStudentList').text('');
	//$('#cmbSemName').html('');
	var studentIdArray = new Array();

	$('.selectedStudent:checked').each(function(){
		studentIdArray.push($(this).val());
	});

	if(studentIdArray.length > 0){

		$.ajax({
			url:'outBoundUnivAll.json',
			dataType:'json',
			async:false,
			beforeSend: function() {
				startCommonAjaxSpinner();

			},
			complete: function() {
				stopCommonAjaxSpinner();
			},
			success:function(jArray){
				$('#markAs1Plus1StudentModel').modal('show').css({
					width: '700px',
					'margin-left': function () {
						return -($(this).width() / 2);
					}
				});
				var html = '<option value="0">Select</option>';
				var len = jArray.length;
				$('#cmbOutBoundYniName').html("");
				$('#cmbOutBoundYniName').html('<option value="0">Select</option>');
				for ( var i = 0; i < len; i++){
					html = '<option value="'+jArray[i]["outBoundUniversityId"]+'" id="opt_'+jArray[i]["outBoundUniversityId"]+'">'+jArray[i]["outBoundUniName"]+ '</option>';
					$('#cmbOutBoundYniName').append(html);
					$('#opt_'+jArray[i]["outBoundUniversityId"]).data('addr', jArray[i]["address"]);

				}

			},
		});
	}
	else{
		jAlert("Please first select student");
	}
	getStudentSemesterAttendanceList();
}


function getStudentSemesterAttendanceList(){

	var studentIdArray1 = new Array();
	var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	var count=0;
	$('.selectedStudent:checked').each(function(){
		if(count==0)
			studentIdArray1.push($(this).val());
		count++;
	});

	if(studentIdArray1.length > 0 ){ 
		$.ajax({
			url:'getStudentSubjectAndBatchAllocationDetailsForOnePlus.json',
			data : {studentId:studentIdArray1.toString(),instituteCourseStrengthId:instituteCourseStrengthId}, 
			dataType:'json',
			async:false,
			beforeSend: function() {
				startCommonAjaxSpinner();

			},
			complete: function() {
				stopCommonAjaxSpinner();
			},
			success:function(jArray){

				var html = '<option value="0">Select</option>';
				var len = jArray.length;
				$('#cmbSemName').html("");
				$('#cmbSemName').html('<option value="-1">Select</option>');

				for ( var i = 0; i < len; i++){
					html = '<option value="'+jArray[i]["batchSemesterCapacityId"]+'" id="opt1_'+jArray[i]["batchSemesterCapacityId"]+'">'+jArray[i]["batchName"]+ '</option>';
					$('#cmbSemName').append(html);
					$('#opt1_'+jArray[i]["batchSemesterCapacityId"]).data('subjectName', (jArray[i]["subjectName"].gemsDecode()));
					$('#opt1_'+jArray[i]["batchSemesterCapacityId"]).data('studentUniversityExamMarksAttemtIds', jArray[i]["studentUniversityExamMarksAttemtIds"]);

				}
			},
		});
		$('.subjectNameId').chosen({no_results_text:'Oops, nothing found!'});
		$('.subjectNameId'+'_chzn').css({'width':'200px'});
		$('.subjectNameId'+'_chzn').find('.chzn-results').css('height','680px');
		$('.subjectNameId'+'_chzn').find('.chzn-search').find('input[type="text"]').css('height','25px');
		$('#subjectNameId').trigger("liszt:updated");
	}
}

function getMarksAsOnePlusOneStudentDetails(status){

	var subjectName = "";
	var studentUniversityExamMarksAttemtIds = "";

	if($('#cmbSemName option:selected').val()=='0'){
		$('#subjectList1').html('');
		return;
	}

	var idArray =new Array();
	subjectId = $('#cmbSemName option:selected').val();
	idArray.push(subjectId);
	var idArray1 =new Array();
	subjectName = $('#cmbSemName option:selected').data('subjectName');
	//alert(subjectName);
	idArray.push(subjectName);
	studentUniversityExamMarksAttemtIds = $('#cmbSemName option:selected').data('studentUniversityExamMarksAttemtIds');

	var boiler ='<table class="table table-bordered" id="tblStudentList">'+
	'<thead>'+
	'<tr>'+
	'<th>Sr. No.</th>'+
	'<th>Course Name</th>'+
	'<th></th>'+
	'</tr>'+
	'</thead>'+
	'<tbody>';
	var valNew = '';
	
	if(subjectName !=undefined && subjectName.contains(',')){
		valNew = subjectName.split(',');
	}

	for(var s=0;s<valNew.length;s++){
		var subName = valNew[s].split('~~');
		boiler +=	'<tr>'+
		'<td class="SrNoCls">'+eval(s+1)+'</td>'+
		'<td>'+subName[0]+'</td>';
		if(studentUniversityExamMarksAttemtIds == 0){
			//boiler += '<td><i id="" class="icon-trash removeAc" title="Delete" onclick="deleteStudentSubjectAllocationOfForeignExchangeStudent('+subName[1]+',\''+status+'\')" style="cursor:pointer;"></i></td>';
			boiler += '<td class="subjectwiseStudentId" style="display:none">'+subName[1]+'</td>';
		}
		else{
			boiler += '<td><b>Can not delete subject. Modaration is done</b></td>';
		}
		boiler +=	'</tr>';
	}

	boiler +=
		'</tbody></table>';

	$('#subjectList1').html(boiler);

}


function exportMarksAs1Plus1StudentDetails(status){

	var outBoundUniversityId = $('#cmbOutBoundYniName').val();

	var semesterBatchArray = new Array();
	$('#cmbSemName option:selected').each(function(){
		semesterBatchArray.push($(this).val().split('_')[0]);
	});
	var semesterName =$('#txtSemesterName').val();
	//alert(semesterName);

	if((status == 'true' || status ) && outBoundUniversityId == 0){
		jAlert("Please select university name");
		return;
	}
	var studentIdArray = new Array();

	if(status == 'true' || status){
		$('.selectedStudent:checked').each(function(){
			studentIdArray.push($(this).val());
		});
	}
	else{
		$('.foreignExStudent:checked').each(function(){
			studentIdArray.push($(this).val());
		});
	}
	if(semesterBatchId == "0"){
		jAlert("Please select semester");
		return;
	}
	if (studentIdArray.length > 0) {

		$.ajax({
			url : 'exportStudentsMarkAsOnePlusOneDetails.json',
			dataType : 'text',
			data : {studentIdArray : studentIdArray.toString(), status : status, outBoundUniversityId:outBoundUniversityId, semesterBatchArray:semesterBatchArray.toString() ,semesterName:semesterName},
			type : 'POST',
			beforeSend : function() {
				startCommonAjaxSpinner();
			},
			complete : function() {
				stopCommonAjaxSpinner();
			},
			success : function(message) {
				getCustomAlertMessage("alert_create");
				$('#markAs1Plus1StudentModel').hide();
				getStudentSemesterAttendanceList();
			},
			error : function() {
				jAlert("Error!!!");
			}

		});

	} else {
		jAlert('First select the students!');
	}

}

function getTermDownStudentListByDepartmentId(instituteCourseId,callback) {
	$.ajax({
		url:'getYearDownTermDownStudentListByDepartmentId.json',
		dataType:'json',
		data:'instituteCourseId='+instituteCourseId,
		type:'GET',
		success:function(jArray){
			callback(jArray);
		},error:function(){
			jAlert('Server error: Please refresh the page and try again!!!');
		}
	});
}
function checkProgramIsForSchool(){
	var courseType = $('#cbInstiCourseId option:selected').attr('cousetype');
	if(courseType=="COURSE_TYPE_SCHOOL"){
		$('#divForDesSchoolButtons').show();
		$('#unfrozenProfile').show();
		$('#stuntEvalMapping').show();
	}else{
		$('#divForDesSchoolButtons').hide();
		$('#unfrozenProfile').hide();
		$('#stuntEvalMapping').hide();
	}
}
function convertToStudentFunction(){
	var studentIdlist = new Array();
	$(".selectedStudent:checked").each(function() {
		var studentId = $(this).val();
		studentIdlist.push(studentId);
	});
	if(studentIdlist==''){
		jAlert("Please Select Student!!!");
	}else{
		$.ajax({
			url : 'convertApplicentToStudent.json',
			dataType : 'text',
			data : {studentIdlist : studentIdlist.toString()},
			type : 'POST',
			beforeSend : function() {
				startCommonAjaxSpinner();
			},
			complete : function() {
				stopCommonAjaxSpinner();
			},
			success : function(message) {
				jAlert(message);
			},
			error : function() {
				jAlert("Something went wrong, Please try after some time","Error");
			}

		});
	}
}
function allocateBranch(){
	var studentList = getSelectedStudentBatchId();
	if(studentList.length>0){
		$('#allocateBatchModal').modal('show');
		var boiler = '';
		boiler = '<table class="table table-bordered">'+
		'<tr><th>Branch List</th><td><select id="branchNameList"><option value="">Select</option></select></td></tr>'+
		'</table>';
		$('#allocateBatchModalDataDiv').html(boiler);

		if(programListByRoleForAnnouncement.length>0){
			var boiler1='<option value="0">Select</option>';
			for(var i=0;i<programListByRoleForAnnouncement.length;i++){
				boiler1+='<option value = "'+programListByRoleForAnnouncement[i]["instituteCourseId"]+'" courseId = "'+programListByRoleForAnnouncement[i]["courseId"]+'" couseType = "'+programListByRoleForAnnouncement[i]["couseType"]+'" subCourseType="'+programListByRoleForAnnouncement[i]["subCourseType"]+'" isGenerateRandomNumber="'+programListByRoleForAnnouncement[i]["isGenerateRandomNumber"]+'" courseNameOnly="'+programListByRoleForAnnouncement[i]["courseNameOnly"]+'">'+programListByRoleForAnnouncement[i]["courseName"]+'</option>';
			}
			$('#branchNameList').html(boiler1);
			convertComboToSearchable('#branchNameList');
		}
	}else{
		jAlert("Please Select Student !!!");
		return;
	}
}
function changeBranch(){
	var studentList = getSelectedStudentBatchId();
	if(studentList.length>0){

		var branchId = $('#branchNameList').val();
		if(branchId == 0){
			jAlert("Please Select Branch !!!");
			return;
		}

		jConfirm('Are you sure to change branch?','Confirmation',function(flag){
			if(flag){
				$.ajax({
					url : 'saveParentInstituteCourseIdForChangeBranch.json',
					dataType : 'text',
					data : {parentInstituteCourseId:branchId,studentInsCourseSemBatchDetail:studentList},
					type : 'POST',
					beforeSend : function() {
						startCommonAjaxSpinner();
					},
					complete : function() {
						stopCommonAjaxSpinner();
					},
					success : function(message) {
						jAlert(message);
						showStudentListByCourseSemeserAndDivision();
					},
					error : function() {
						jAlert("Something went wrong, Please try after some time","Error");
					}
				});
			}
		});

	}else{
		jAlert("Please Select Student !!!");
		return;
	}
}

function gettermandsubForcom(){
	
	var studentIdEmpArr = new Array();
	var studId="";
	$('.selectedStudent:checked').each(function(){
		studentIdEmpArr.push($(this).val());
		studId = $(this).val();
	});

	if(studentIdEmpArr.length>0 && studentIdEmpArr.length == 1){
		$('#divStudentCompartment').modal('show').css({
			width: '900px',
			//height: '300px',
			'margin-left': function () {
				return -($(this).width() / 2);
			}
		});
		
		
		
		var name = $('#studentRow-'+studId).find('.name').text();
		var header = name+" - Evaluation Parameter Mapping";
		$('#divStudentCompartmentHeader').html(header);
		var doupBoiler='<table class="table table-bordered table-condensed"><tr><th>Term</th>'+
		'<td ><input type="radio" name="subjectCompareTerm" onclick="getStudentCompartment(\''+studentIdEmpArr.toString()+'\');" value="0" checked="checked" ></input> <b>I</b>'+  
		'   <input type="radio"  name="subjectCompareTerm" onclick="getStudentCompartment(\''+studentIdEmpArr.toString()+'\')" value="1" ></input><b> II </b></td></tr><tr><th>Course</th><td ><select id="studSubjectCompartid" ><option value="0">Select</option>'+
		'</select></td></tr></table>';

		$('#dropdownforSubcompart').html(doupBoiler);
		
		getStudentCompartment(studentIdEmpArr.toString());
	}else{
		jAlert("Please select only one student.");
	}
}
function getStudentCompartment(studentd){
	$('#studentCompartmentDivId').html('');
	var semesterBatchId = $('#cbBatchId').val().split("-")[2];
	var subjectArrays= new Array();
	var schemaArrays= new Array();
	var universeTypeArrays= new Array();
	var studSubBatchArray = new Array();
	var disabledevalIds = new Array();
	$('#studentCompartmentDivId').html('');
	$('#editStudentRecordDialog').modal({
		backdrop : 'static',
		keyboard : false,
		show : false
	}).css({
		width : '800px',
		'margin-left' : function() {
			return -($(this).width() / 2);
		}
	});
	
	var tremtype = $( "input[name='subjectCompareTerm']:checked" ).val();
	$.ajax({
		url : 'getStudentCurrentSubjectAndParameterList.json',
		dataType : 'json',
		data : {
			semesterBatchId:semesterBatchId,
			tremtype:tremtype,
			studentd:studentd
			},
		type : 'POST',
		
		beforeSend : function() {
			startCommonAjaxSpinner();
		},
		complete : function() {
			stopCommonAjaxSpinner();
		},
		success : function(jArray) {
			
			$('#studentCompartmentDivId').html('');
			$('#studentCompartmentDivId').html('');
			
			//console.log(jArray+"jjjj" + jArray["universeTypeArray"]+"gg"+jArray.subjecta)
			subjectArrays = jArray["subjecta"];
			disabledevalIds		=jArray["jarrayEvaluationDe"];
			studSubBatchArray=jArray["subjectwiseBatchObject"];
			universeTypeArrays= jArray["universeTypeArray"];
			schemaArrays=jArray["scheemarry"];
			var boiler1='<option value="0">Select</option><option value="All">All</option>';
			for(var i=0;i<subjectArrays.length;i++){
				boiler1+='<option value = "'+subjectArrays[i]["subjectId"]+'">'+subjectArrays[i]["subjectName"]+'</option>';
			}
			$('#studSubjectCompartid').html(boiler1);
			//sconvertComboToSearchable('#studSubjectCompartid');
		},
		error : function() {
			jAlert("Something went wrong, Please try after some time","Error");
		}
	});
	
	
	var footerboiler='';
	footerboiler+='<input type="button" class="btn btn-inverse btn-mini  " value="Save"		id="" onclick="saveStudentCompartment(\''+studentd+'\')">'+
	' <input type="button" class="btn  btn-mini"		data-dismiss="modal" value="Close" />';
	$('#divStudentCompartmentFooter').html(footerboiler);
	
	$('#studSubjectCompartid').trigger('change');
	$('#studSubjectCompartid').change(function(){
		var subId = $('#studSubjectCompartid  option:selected').val();
		var subName = $('#studSubjectCompartid  option:selected').text();
		var boilerTbl="";
		$('#studentCompartmentDivId').html('');
		if(subId == "All"){
			boilerTbl+="<div><b color:red>Click on 'No' button in order to remove student evalution parameter</b></div>";
			
			for(var i=0;i<subjectArrays.length;i++){
				for(var j=0;j<universeTypeArrays.length;j++){
					if(subjectArrays[i]["subjectId"] == universeTypeArrays[j]["subjectId"]){
						boilerTbl+='<div class="alert alert-info " ><b>'+subjectArrays[i]["subjectName"]+'( '+universeTypeArrays[j]["evalutionUsniverseName"]+' )</b></div><br>';
						boilerTbl += '<table class="table table-bordered table-condensed">'+
						'<tr><th>Sr.no</th><th>Parameter Name</th><th></th><th>Added By </th></tr>';
						var count=1;
						for(var k=0;k<schemaArrays.length;k++){
							if(schemaArrays[k]["evaluationSchemaId"] == universeTypeArrays[j]["evaluationSchemaId"]){
								var subStudAndEvalid = studSubBatchArray[schemaArrays[k]["evalSchemaId"]]!=undefined?studSubBatchArray[schemaArrays[k]["evalSchemaId"]]:"NOT_NOT";
								
								var studentsubId = subStudAndEvalid.split('_')[0];
								var evalSchemaNaId = subStudAndEvalid.split('_')[1];
								var employeeNameSdate = subStudAndEvalid.split('_')[2];
								var facultyStatus= schemaArrays[k].facultyStatus;
								boilerTbl+='<tr class="studEvaluationcls" idforevalschema="'+schemaArrays[k]["evalSchemaId"]+'" subjectIda="'+universeTypeArrays[j]["subjectId"]+'"><td style="text-align:right;">'+count+'</td>'+
								'<td>'+schemaArrays[k]["evalSchemaName"]+'</td>';
								if($.trim(facultyStatus) == ''){
									boilerTbl+='<td><input type="radio" name="subjectapperingstud'+schemaArrays[k]["evalSchemaId"]+'" id="yes_'+schemaArrays[k]["evalSchemaId"]+'"   value="yes_'+schemaArrays[k]["evalSchemaId"]+'_'+schemaArrays[k]["markingsysyId"]+'_'+studentsubId+'_'+evalSchemaNaId+'" checked="checked" ></input> <b>Yes  </b>  '+  
								'  <input type="radio" name="subjectapperingstud'+schemaArrays[k]["evalSchemaId"]+'"  id="no_'+schemaArrays[k]["evalSchemaId"]+'"  value="no_'+schemaArrays[k]["evalSchemaId"]+'_'+schemaArrays[k]["markingsysyId"]+'_'+studentsubId+'_'+evalSchemaNaId+'" ></input><b> No </b>'+
								'</td>';
								}else{
									boilerTbl+='<td>'+facultyStatus+'</td>';
								}
								boilerTbl+='<td>'+employeeNameSdate+'</td>';
								boilerTbl+='</tr>';
								count++;
							}
						}
						boilerTbl+='</table>';
					}
				}
			}
			$('#studentCompartmentDivId').html(boilerTbl);
		}else{
			var boilerTbl="";
			$('#studentCompartmentDivId').html('');
			boilerTbl+="<div><b color:red>Click on 'No' button in order to remove student evalution parameter</b></div>";
			for(var j=0;j<universeTypeArrays.length;j++){
				if(subId == universeTypeArrays[j]["subjectId"]){
					
					boilerTbl+='<div class="alert alert-info " ><b>'+subName+'( '+universeTypeArrays[j]["evalutionUsniverseName"]+' )</b></div><br>';
					boilerTbl += '<table class="table table-bordered table-condensed">'+
					'<tr><th>Sr.no</th><th>Parameter Name</th><th></th><th>Added By </th></tr>';
					var count=1;
					for(var k=0;k<schemaArrays.length;k++){
						if(schemaArrays[k]["evaluationSchemaId"] == universeTypeArrays[j]["evaluationSchemaId"]){
							var subStudAndEvalid = studSubBatchArray[schemaArrays[k]["evalSchemaId"]]!=undefined?studSubBatchArray[schemaArrays[k]["evalSchemaId"]]:"NOT_NOT";
							
							var studentsubId = subStudAndEvalid.split('_')[0];
							var evalSchemaNaId = subStudAndEvalid.split('_')[1];
							var employeeNameSdate = subStudAndEvalid.split('_')[2];
							var facultyStatus= schemaArrays[k].facultyStatus;
							
							boilerTbl+='<tr class="studEvaluationcls" idforevalschema="'+schemaArrays[k]["evalSchemaId"]+'" subjectIda="'+universeTypeArrays[j]["subjectId"]+'"><td style="text-align:right;">'+count+'</td>'+
							'<td>'+schemaArrays[k]["evalSchemaName"]+'</td>';
							if($.trim(facultyStatus) == ''){
								boilerTbl+='<td><input type="radio" name="subjectapperingstud'+schemaArrays[k]["evalSchemaId"]+'" id="yes_'+schemaArrays[k]["evalSchemaId"]+'"  value="yes_'+schemaArrays[k]["evalSchemaId"]+'_'+schemaArrays[k]["markingsysyId"]+'_'+studentsubId+'_'+evalSchemaNaId+'" checked="checked" ></input> <b>Yes  </b>  '+  
							'  <input type="radio" name="subjectapperingstud'+schemaArrays[k]["evalSchemaId"]+'" id="no_'+schemaArrays[k]["evalSchemaId"]+'"   value="no_'+schemaArrays[k]["evalSchemaId"]+'_'+schemaArrays[k]["markingsysyId"]+'_'+studentsubId+'_'+evalSchemaNaId+'" ></input><b> No </b>'+
							'</td>';
							}else{
								boilerTbl+='<td>'+facultyStatus+'</td>';
							}
							boilerTbl+='<td>'+employeeNameSdate+'</td>';
							boilerTbl+='</tr>';
							count++;
						}
					}
					boilerTbl+='</table>';
				}
			}
		
			$('#studentCompartmentDivId').html(boilerTbl);
		}
	
		if(disabledevalIds.length>0){
			for(var m=0;m<disabledevalIds.length;m++){
				console.log($("#no_"+disabledevalIds[m]['evaluationSchemaId']+"").val()+"ddd"+"#no_"+disabledevalIds[m]['evaluationSchemaId']+"")
				$("#no_"+disabledevalIds[m]['evaluationSchemaId']+"").attr("checked", true);
					$("#no_"+disabledevalIds[m]['evaluationSchemaId']+"").attr("disabled", true);

					$("#yes_"+disabledevalIds[m]['evaluationSchemaId']+"").attr("disabled", true);
			}
		}
	});
	
	if(disabledevalIds.length>0){
		for(var m=0;m<disabledevalIds.length;m++){
			console.log($("#no_"+disabledevalIds[m]['evaluationSchemaId']+"").val()+"ddd"+"#no_"+disabledevalIds[m]['evaluationSchemaId']+"")
			$("#no_"+disabledevalIds[m]['evaluationSchemaId']+"").attr("checked", true);
				$("#no_"+disabledevalIds[m]['evaluationSchemaId']+"").attr("disabled", true);

				$("#yes_"+disabledevalIds[m]['evaluationSchemaId']+"").attr("disabled", true);
		}
	}
}

function saveStudentCompartment(studentId){
	var semesterBatchId = $('#cbBatchId').val().split("-")[2];
	var saveStudComIds  = new Array();
	$('.studEvaluationcls').each(function(){
		var evalSchemaId = $(this).attr('idforevalschema');
		var subjectid =$(this).attr('subjectIda');
		
		var paramIds = $( "input[name='subjectapperingstud"+evalSchemaId+"']:checked" ).val();
		var parameOne = paramIds.split('_')[0];
		var parameTwo = paramIds.split('_')[1];
		var parameThree = paramIds.split('_')[2];
		var evalSchemaNaId= paramIds.split('_')[4];
		var subjectwiseStudId =  paramIds.split('_')[3];
		if(parameOne == 'no' && evalSchemaNaId == 'NA'){
			saveStudComIds.push(parameOne+"~~"+parameTwo+"~~"+parameThree+"~~"+subjectwiseStudId+"~~"+evalSchemaNaId);
		}
	});

	if(saveStudComIds.length>0){

		jConfirm('Once you submit the student Evalution Parameter Mapping can not edit.<br>Do you want to continue?','Confirmation',function(flag){
			if(flag){
				$.ajax({
					url : 'saveStudentCompartmentEvaluationNa.json',
					dataType : 'json',
					data : {studentId:studentId,
						saveStudComIds:saveStudComIds.toString(),
						semesterBatchId:semesterBatchId},
					type : 'POST',
					beforeSend : function() {
						startCommonAjaxSpinner();
					},
					complete : function() {
						stopCommonAjaxSpinner();
					},
					success : function(message) {
						$('#divStudentCompartment').modal('hide');
						jAlert("successfully save");
						
					},
					error : function() {
						jAlert("Something went wrong, Please try after some time","Error");
					}
				});
			}
		});

	}else{
		$('#divStudentCompartment').modal('hide');
	}
}
var ngSpecilizationSelectBoiler="";
function fetchSpecializationNew() {
	var instituteCourseId = $('#cbInstiCourseId').val().split("-")[0];
	if(instituteCourseId==0){
		jAlert("Please Select Programme!!!");
		return;
	}
	$.ajax({
		url:'fetchSpecializationByInstituteCourseId.json?instituteCourseId='+instituteCourseId,
		dataType:'json',
		async:false,
		success:function(jArray){
			ngSpecilizationSelectBoiler = '<option value="0">Select</option>';
			if(jArray.length>0){
				for(var i=0;i<jArray.length;i++){
					ngSpecilizationSelectBoiler += '<option value="'+jArray[i]["qualificationSpecializationId"]+'">'+jArray[i]["qualificationSpecializationName"]+'</option>';
				}
			}
		},
	});
}

function updateStudentAsMinBillDate(instituteCourseStrengthId,shift){
	if($('#customerHelper').val()=='REVA_UNIVERSITY'){
		$.ajax({
			url:'updateStudentMinBillDateAsAdmissionDate.json?instituteCourseStrengthId='+instituteCourseStrengthId+'&shift='+shift,
			//type:'POST',
			dataType:'text',
			async:false,
			beforeSend: function() {
				startCommonAjaxSpinner();												
			},
			complete: function() {
				stopCommonAjaxSpinner(); 
			}, 
			success:function(jArray)
			{
				console.log("update min Bill Date as Admission Date");
			},
			error:function()
			{
				alert("Error in Save Product Type");
			}
		});
	}
}
function downloadChangeEmailIdTemplateUsingApplicationNo()
{
	 var instituteCourseId = $('#cbInstiCourseId').val();
	var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	if(semesterBatchId == undefined || semesterBatchId == "undefined")
		semesterBatchId = 0;
		window.open('downloadChangeEmailIdTemplateUsingApplicationNo.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId); 
}


function uploadAndSaveChangeEmailIdUsingApplicationNo()
{   
	 var instituteCourseId = $('#cbInstiCourseId').val();
     var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	 var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	 if(semesterBatchId=="undefined"||semesterBatchId==undefined){
		 semesterBatchId = 0;
	 }
	 new AjaxUpload('uploadChangeEmailIdUsingApplicationNo', {
			action : 'uploadChangeEmailIdTemplateUsingApplicationNo.json',
			data : {},
			name : "fileDataChangeEmailUsingApplicationNo",
			type :'POST',
			size : AllowedFileSize.EXCELSHEET_UPLOAD,
			
			onSubmit : function(file, extension) {
						if (extension.toString().toLowerCase() == 'xls' || extension.toString().toLowerCase() == 'xlsx') {
							startCommonAjaxSpinner();

								this.setData({
										'fileSize':AllowedFileSize.EXCELSHEET_UPLOAD,
										'instituteCourseId':instituteCourseId,
										'instituteCourseStrengthId':instituteCourseStrengthId,
										'semesterBatchId':semesterBatchId

											});

				} else {
					jAlert('Only Msexcel(.xls) file is permitted');
					return false;
				}
			},
			onComplete : function(file, response) {
				stopCommonAjaxSpinner();

				 var jObject = eval('('+response+')');
				 if (jObject.responseFlag == "0") {
				   
				      jAlert(jObject.ErrorList[0]['ErrorName']);
					}
					else {
						 jAlert("Successfully Uploaded");
				    showStudentListByCourseSemeserAndDivision();						 
					}			
				 $("#uploadChangeEmailIdUsingApplicationNo").val('');


			}
		  
	});
}
function initFiledailyMonitoring(){
	var instituteStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	var studentIds = new Array();
	$('.selectedStudent').each(function(){
		if($(this).is(':checked'))
			studentIds.push($(this).val());
	});
	if(studentIds.length > 0){
		new AjaxUpload('uploadDailyMonitoringFile',{
			action :'setAdmissionCancelledUploaded.json?studentId='+studentIds+'&instituteStrengthId='+instituteStrengthId,
			name : 'fileData',
			size:AllowedFileSize.DOCUMENT_UPLOAD,
			onSubmit : function(file, extension) {
				startLoading();
				this.setData({
					'fileSize':AllowedFileSize.DOCUMENT_UPLOAD
				});
			},
			onComplete : function(file, response) {
				stopLoading();
				getSynopsisDocument();
			}
		});
	}else{
		jAlert('Please select only one student at a time');
	}
}

function getSynopsisDocument(){
	getUploadedSynopsisDocument(function(jObject){
		showSynopsisDocument(jObject);
	});
}

function getUploadedSynopsisDocument(callback){
	var instituteStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	var studentIds = new Array();
	$('.selectedStudent').each(function(){
		if($(this).is(':checked'))
			studentIds.push($(this).val());
	});
	$.ajax({
		url:'getAdmissionCancelledUploaded.json?studentId='+studentIds+'&instituteStrengthId='+instituteStrengthId,
		dataType:'json',
		success:function(jObject){
			callback(jObject);
		}
	});
}
function showSynopsisDocument(jArray){
	var attachementBoiler = "";
	for(var i = 0 ; i < jArray.length; i++){
		var attachmentFileName = jArray[i]["name"].toString(); 
		var documentId = jArray[i]["documentId"];
		var fileType = jArray[i]["extension"];
		iconPath = gFileTypeIconMapping[fileType];
	
		if(attachmentFileName!="" || documentId!="" || fileType!=""){
			attachementBoiler += '<div align="center"><img src="'+iconPath+'" />&nbsp;&nbsp;&nbsp;&nbsp;<a href = "downloadWithPath.json?id='+documentId+'&n='+attachmentFileName+'&t='+fileType+'">'+attachmentFileName+'</a>&nbsp;&nbsp;&nbsp;';
			attachementBoiler += '<img class="trHideShow" style = "cursor:pointer" title = "remove" src = "img/remove-icon.png" onclick = "RemoveDocumentFromCloud(\''+documentId+'\')" />';				
			attachementBoiler += '</div>';
		}else{
			attachementBoiler = 'No docs attached';
		}
	}
	$('#dailyMonitoringFileDiv').html(attachementBoiler);
}

function RemoveDocumentFromCloud(documentId){
	$.ajax({
		url:'removeAdmissionCancelledUploaded.json?documentId='+documentId,
		dataType:'json',
		type:'POST',
		success:function(){
			getSynopsisDocument();
		}	
	});
}
 function downloadUtrNoTemplate()
 {
	 var instituteCourseId = $('#cbInstiCourseId').val();
	var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	if(semesterBatchId == undefined || semesterBatchId == "undefined")
		semesterBatchId = 0;
		window.open('downloadUtrNoTemplate.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId); 
 }
 function uploadAndSaveUTRNo()
 {
	var instituteCourseId = $('#cbInstiCourseId').val();
	 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	 var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	 if(semesterBatchId=="undefined"||semesterBatchId==undefined){
		 semesterBatchId = 0;
	 }
	 new AjaxUpload('uploadUtrNo', {
			action : 'uploadUtrNoTemplateNew.json', // uploadUtrNoTemplate.json
			data : {},
			name : "fileDataUpdateUtrNo",
			type :'POST',
			size : AllowedFileSize.EXCELSHEET_UPLOAD,
			
			onSubmit : function(file, extension) {
						if (extension.toString().toLowerCase() == 'xls' || extension.toString().toLowerCase() == 'xlsx') {
							startCommonAjaxSpinner();

								this.setData({
										'fileSize':AllowedFileSize.EXCELSHEET_UPLOAD,
										'instituteCourseId':instituteCourseId,
										'instituteCourseStrengthId':instituteCourseStrengthId,
										'semesterBatchId':semesterBatchId

											});

				} else {
					jAlert('Only Msexcel(.xls) file is permitted');
					return false;
				}
			},
			onComplete : function(file, response) {
				stopCommonAjaxSpinner();
				jAlert(response);
				 /*var jObject = eval('('+response+')');
				 if (jObject.responseFlag == "0") {
				   
				      jAlert(jObject.ErrorList[0]['ErrorName']);
					}
					else {
						 jAlert("Successfully Uploaded");
					}	*/		
				 $("#uploadUtrNo").val('');
				
			}
		  
	});
 }

function selectedStudentStatusChange(){	
          var selectStud=[];
          $('.selectedStudent:checked').each(function(){
           selectStud.push($(this).attr('id'))
           }); 
       
         var studData=`<table class = "table table-bordered table-condensed"><thead><th>Sr No.</th><th>Student Name</th><th>Email Id</th></thead></tbody>`;
         var i=1;
            gStudentListJsonArray.forEach( function(Obj){
            const{studentId,firstName,lastName,alternetEmailID}=Obj;
            var studId = studentId.toString();          
		   if(selectStud.includes(studId)){
			studData+=`<tr><td style="text-align: right;">${i}</td><td>${firstName} ${lastName}</td><td>${alternetEmailID}</td></tr>`;
			i++;
            }
        });	
        studData+=`</tbody></table>`       
        $('#selectedStudentData').html(studData);	
}


function downloadZip(){

	var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	var programName =$('#cbInstiCourseId option:selected').text();
	var acdamicbatch = $('#cbAcademicBatch option:selected').text();
	var  sectionName = $('#cbBatchId option:selected').text();
	var studentApplicant=new Array();
	var admissionregisterdFlag =true; 
	var applicantid;
	$('.selectedStudent:visible').each(function(){
		if($(this).is(":checked")){
			applicantid= $(this).val();
			var name="NA";
			studentApplicant.push(applicantid);
		}
	});
	
	juno.windowOpenWithPostData({
		url:'restApi/downloadZipOfApplicantForm.zip',
		data:{
			instituteCourseStrengthId: instituteCourseStrengthId,
			studentApplicant:studentApplicant,
			programName:programName,
			acdamicbatch:acdamicbatch,
			sectionName:sectionName
		}
	});
	
	
	//window.location.replace('applicantStudentPrint.json?ID=&studentId='+studentApplicant.toString()+'&instituteStrenthId='+instituteCourseStrengthId+'&programName='+programName+'&acdamicbatch='+acdamicbatch+'&sectionName='+ sectionName);

}


function downloadAbcIDTemplate()
 {
	 var instituteCourseId = $('#cbInstiCourseId').val();
	 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	 var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	 if(semesterBatchId=="undefined"||semesterBatchId==undefined){
		 semesterBatchId = 0;
	 }
	 typeFlag = "AbcID";
	 window.open('downloadAbcIDTemplate.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId+'&typeFlag='+typeFlag); 
 }
 function uploadAndSaveAbcID(){
	 var instituteCourseId = $('#cbInstiCourseId option:selected').val();
	 new AjaxUpload('uploadAbcID', {
		 action : 'uploadChangeAbcIDTemplateNew.json', // uploadChangeRollNoTemplate.json
		 data : {},
		 name : "fileDataChageAbcID",
		 type :'POST',
		 size : AllowedFileSize.EXCELSHEET_UPLOAD,

		 onSubmit : function(file, extension) {
			 if (extension.toString().toLowerCase() == 'xls' || extension.toString().toLowerCase() == 'xlsx') {
				 startCommonAjaxSpinner();

				 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
				 var semesterBatchId = $('#cbBatchId').val().split('-')[2]!=undefined ? $('#cbBatchId').val().split('-')[2]:0;
				 
				 this.setData({
					 'fileSize':AllowedFileSize.EXCELSHEET_UPLOAD,
					 'instituteCourseStrengthId':instituteCourseStrengthId,
					 'semesterBatchId':semesterBatchId,
					 'instituteCourseId':instituteCourseId
				 });

			 } else {
				 jAlert('Only Msexcel(.xls) file is permitted');
				 return false;
			 }
		 },
		 onComplete : function(file, response) {
			 stopCommonAjaxSpinner();
			 showStudentListByCourseSemeserAndDivision();
			 jAlert(response);
		 }
	 });
 }

function resetCombo(){
	$('#student-management-grid').html('');
}


  function sendEmailtoSelectedStudentsInAPIForGCU(){
//	var instituteCourseStrengthId = $('#admissionYear option:selected').val();
	var instituteCourseStrengthId = $('#cbAcademicBatch').val().toString().split("-")[0];

	var studentIdsArray = new Array();
	$('.selectedStudent').each(function(){
		if($(this).attr("checked")){ 
			if(!studentIdsArray.includes($(this).val())){
				studentIdsArray.push($(this).val());
			}
		}
	});
	
	if(studentIdsArray.length<1){
		jAlert('Please select at least one applicant...!!!');
		return;
	}
	
	$.ajax({
		url:'sendEmailtoStudentInAPIForGCU.json',
		data:{
//			institutesAbbr:institutesAbbr,
			studentIdsArray:studentIdsArray.toString(),
			instituteCourseStrengthId:instituteCourseStrengthId
		},
		dataType:'text',
		type:'GET',
		async:true,
		beforeSend: function()
		{
			startCommonAjaxSpinner();
		},
		complete: function()
		{
			stopCommonAjaxSpinner();
		},
		success:function(text)
		{
			jAlert("Successfully Sent Mail");
		},
		error:function(){
			jAlert("Error...!");
		}
	});
}
function resetStudentParentPassword(studentId,studentName){
		var parentResetList = [];
        $('.resetCheckbox:checked').each(function(){
            parentResetList.push($(this).val())
        });
        var parentType = '';
   	    if(parentResetList.length > 1)   
     		parentType = 'Both'; 
     	else
     		parentType = parentResetList;
        jConfirm('Are you sure to reset password of: '+studentName+'('+parentResetList+')','Confirmation',function(flag){
		if(flag){
			$.ajax({
				url:'resetStudentParentPassword.json?studentId='+studentId+'&parentType='+parentType,
				type:'POST',
				beforeSend: function()
				{
					startCommonAjaxSpinner();
				},
				complete: function()
				{
					stopCommonAjaxSpinner();
				},
				success:function(msg){
					if(msg == "Success")
						jAlert('Password has been reset successfully!!!');
				},error:function(){
					jAlert('Server error: Please refresh the page and try again!!!');
				}
			});	
		}
	});
}
function dosaconfigBIT(){
	var CheckDosa=$('#dosaConfig').is(":checked"); 
	if(CheckDosa){
		$('#dosaconfigBIT').show(); 
	}else{
		$('#dosaconfigBIT').hide();
	}
}
function downloadHeightWeightTemplate(){
	 var instituteCourseId = $('#cbInstiCourseId').val();
	 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	 var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	 if(semesterBatchId=="undefined"||semesterBatchId==undefined){
		 semesterBatchId = 0;
	 }
	 typeFlag = "AbcID";
	 window.open('downloadHeightWeightTemplate.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId+'&typeFlag='+typeFlag); 
 }
 function uploadAndSaveHeightWeight(){
	 var instituteCourseId = $('#cbInstiCourseId option:selected').val();
	 new AjaxUpload('uploadHeightWeight', {
		 action : 'uploadAndSaveHeightWeight.json', 
		 data : {},
		 name : "fileDataChageHeightWeight",
		 type :'POST',
		 size : AllowedFileSize.EXCELSHEET_UPLOAD,

		 onSubmit : function(file, extension) {
			 if (extension.toString().toLowerCase() == 'xls' || extension.toString().toLowerCase() == 'xlsx') {
				 startCommonAjaxSpinner();

				 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
				 var semesterBatchId = $('#cbBatchId').val().split('-')[2]!=undefined ? $('#cbBatchId').val().split('-')[2]:0;
				 
				 this.setData({
					 'fileSize':AllowedFileSize.EXCELSHEET_UPLOAD,
					 'instituteCourseStrengthId':instituteCourseStrengthId,
					 'semesterBatchId':semesterBatchId,
					 'instituteCourseId':instituteCourseId
				 });

			 } else {
				 jAlert('Only Msexcel(.xls) file is permitted');
				 return false;
			 }
		 },
		 onComplete : function(file, response) {
			 stopCommonAjaxSpinner();
			 showStudentListByCourseSemeserAndDivision();
			 jAlert(response);
		 }
	 });
 }

function downloadAayushIDTemplate(){
	 var instituteCourseId = $('#cbInstiCourseId').val();
	 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	 var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	 if(semesterBatchId=="undefined"||semesterBatchId==undefined){
		 semesterBatchId = 0;
	 }
	 typeFlag = "AayushID";
	 window.open('downloadAayushIDTemplate.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId+'&typeFlag='+typeFlag); 
 } 
function uploadAndSaveAayushID(){
	 var instituteCourseId = $('#cbInstiCourseId option:selected').val();
	 new AjaxUpload('uploadAayushID', {
		 action : 'uploadChangeAayushIDTemplateNew.json', // uploadChangeRollNoTemplate.json
		 data : {},
		 name : "fileDataChageAayushID",
		 type :'POST',
		 size : AllowedFileSize.EXCELSHEET_UPLOAD,

		 onSubmit : function(file, extension) {
			 if (extension.toString().toLowerCase() == 'xls' || extension.toString().toLowerCase() == 'xlsx') {
				 startCommonAjaxSpinner();

				 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
				 var semesterBatchId = $('#cbBatchId').val().split('-')[2]!=undefined ? $('#cbBatchId').val().split('-')[2]:0;
				 
				 this.setData({
					 'fileSize':AllowedFileSize.EXCELSHEET_UPLOAD,
					 'instituteCourseStrengthId':instituteCourseStrengthId,
					 'semesterBatchId':semesterBatchId,
					 'instituteCourseId':instituteCourseId
				 });

			 } else {
				 jAlert('Only Msexcel(.xls) file is permitted');
				 return false;
			 }
		 },
		 onComplete : function(file, response) {
			 stopCommonAjaxSpinner();
			 showStudentListByCourseSemeserAndDivision();
			 jAlert(response);
		 }
	 });
}
 
function getSortDataWithFilterBYType() {
    var catvalue = $('#typeCategoryDrop').val();
    var admtypevalue = $('#admissionTypeDrop').val();

    $('#pro1 tbody tr').hide(); 

    if (catvalue == 'All' && admtypevalue == 'All') {
        $('#pro1 tbody tr').show(); 
    } else {
        $('#pro1 tbody tr').each(function() {
            var row = $(this);
            var category = row.attr('category');
            var admissionType = row.attr('admissiontype');
            
            if ((catvalue == 'All' || category == catvalue) && (admtypevalue == 'All' || admissionType == admtypevalue)) {
                row.show(); 
            }
        });
    }
}
function bindFilterTobindDrop(jArray,id){
	var boiler='<option value="All">All</option>';
	for(var i= 0; i<jArray.length; i++)
				boiler += '<option value="'+jArray[i]+'">'
				+jArray[i]+'</option>';
			$('#'+id).html(boiler);
}

function selectAllCatgoryWise(){
	if($('#selectAllCat').attr('checked')=="checked"){
		$('.selectedStudent:visible').each(function() {
		    $(this).attr('checked', true);		    
		    $(this).closest('tr').addClass('selected');
		});
	}else{
		$('.selectedStudent').each(function() {
		    $(this).attr('checked', false);		    
		    $(this).closest('tr').removeClass('selected');
		});
	}	
	setSelectedStudentBatchId();
}

function toAllocateSectionAccordingToPreviousTerm(){
	jConfirm('Are you sure to allocate section according to previous term','Confirmation',function(flag){
		if(flag){
			var instituteCourseStrengthId = $('#cbAcademicBatch').val().toString().split("-")[0];
			
			var studentIds = new Array();
			$('.selectedStudent:checked').each(function(){
				studentIds.push($(this).attr('id'));
			});
			
			if(studentIds.length==0){
				jAlert("Please select student!!!");
				return;
			}
			
			$.ajax({
				url:'allocationToOrginalBatchFromPastBatch.json',
				data:{
					instituteCourseStrengthId:instituteCourseStrengthId,
					studentIds:studentIds.toString()
				},
				type:'POST',
				beforeSend: function(){
					startCommonAjaxSpinner();
				},
				complete: function(){
					stopCommonAjaxSpinner();
				},
				success:function(msg){
					if(msg == "Success"){
						jAlert('Successfully Allocated.');
					}
				},
				error:function(){
					jAlert('Server error: Please refresh the page and try again!!!');
				}
			});	
		}
	});
}

function downloadAntiRaggingReferenceIDTemplate()
 {
	 var instituteCourseId = $('#cbInstiCourseId').val();
	 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	 var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	 if(semesterBatchId=="undefined"||semesterBatchId==undefined){
		 semesterBatchId = 0;
	 }
	 typeFlag = "AntiRaggingReferenceID";
	 window.open('downloadAntiRaggingReferenceIDTemplate.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId+'&typeFlag='+typeFlag); 
 }
 function uploadAndSaveAntiRaggingReferenceID(){
	 var instituteCourseId = $('#cbInstiCourseId option:selected').val();
	 new AjaxUpload('uploadAntiRaggingReferenceID', {
		 action : 'uploadChangeAntiRaggingReferenceIDTemplateNew.json', 
		 data : {},
		 name : "fileDataChageAntiRaggingReferenceID",
		 type :'POST',
		 size : AllowedFileSize.EXCELSHEET_UPLOAD,

		 onSubmit : function(file, extension) {
			 if (extension.toString().toLowerCase() == 'xls' || extension.toString().toLowerCase() == 'xlsx') {
				 startCommonAjaxSpinner();

				 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
				 var semesterBatchId = $('#cbBatchId').val().split('-')[2]!=undefined ? $('#cbBatchId').val().split('-')[2]:0;
				 
				 this.setData({
					 'fileSize':AllowedFileSize.EXCELSHEET_UPLOAD,
					 'instituteCourseStrengthId':instituteCourseStrengthId,
					 'semesterBatchId':semesterBatchId,
					 'instituteCourseId':instituteCourseId
				 });

			 } else {
				 jAlert('Only Msexcel(.xls) file is permitted');
				 return false;
			 }
		 },
		 onComplete : function(file, response) {
			 stopCommonAjaxSpinner();
			 showStudentListByCourseSemeserAndDivision();
			 jAlert(response);
		 }
	 });
 }
        d
 x      20250331133932-8lG
 \8   https://erp.cmrit.ac.in/scripts/student/manageStudent.js      V" /**
 * @function(s) 1.
 */

/**
 * @globals
 * 
 */
var gStudentsIds = new Array();
/** it contains comma separated ids of the selected students */
var gStudentBatchIds = new Array();
var gStudentStatusArray = '';
var gStudentListJsonArray = '';
var gNonFresherOptions = '';

var lastFunctionCalled = '';


$('document').ready(function() {
	var fileSize = (AllowedFileSize.DOCUMENT_UPLOAD)/(1024*1024);

	$('#fileSizeAllowed').html(fileSize);

	$('#btnStudentTableRefresh').click(function(){
		eval(lastFunctionCalled);
		gStudentsIds = new Array();
		gStudentBatchIds = new Array();
	});

	$('#studenRollNoAllocationDialog').modal({
		backdrop : 'static',
		keyboard : false,
		show : false
	}).css({
		width : '500px',
		'margin-left' : function() {
			return -($(this).width() / 2);
		}
	});

	$('#allocateDivisionWithRollNos').modal({
		backdrop : 'static',
		keyboard : false,
		show : false
	}).css({
		width : '500px',
		'margin-left' : function() {
			return -($(this).width() / 2);
		}
	});


	$('#studenArrangementOptionsDialog').modal({
		backdrop : 'static',
		keyboard : false,
		show : false
	}).css({
		width : '500px',
		'margin-left' : function() {
			return -($(this).width() / 2);
		}
	});


	$('#dialogAddStudent').modal({
		backdrop : 'static',
		keyboard : false,
		show : false
	}).css({
		width : '800px',
		'margin-left' : function() {
			return -($(this).width() / 2);
		}
	});

	$('#dialogEditStudent').modal({
		backdrop : 'static',
		keyboard : false,
		show : false
	}).css({
		width : '500px',
		'margin-left' : function() {
			return -($(this).width() / 2);
		}
	});

	$('#divStudentPromotionDialog').modal({
		backdrop : 'static',
		keyboard : false,
		show : false
	}).css({
		width : '1000px',
		'margin-left' : function() {
			return -($(this).width() / 2);
		}
	});

/*	$('#changeStudentStatusDialog').css({
		width : '600px',
		'margin-left' : function() {
			return -($(this).width() / 2);
		}
	});
	*/
	$("#transferWEF").datepicker({
		dateFormat: "M dd,yy",
	});
	
	$("#deptTransferWEF").datepicker({
		dateFormat: "M dd,yy",
	});
	
	$("#importWEF").datepicker({
		dateFormat: "M dd,yy",
	});

	$('.studentSelectOptionTable').find('select').each(function(){
		$(this).change(function(){
			clearStudentGrid();
			if($(this).attr('id') == 'cbSemesterId'){
				$('#cbAcademicSessionId option')[0].selected = true;
				$('#cbBatchId option')[0].selected = true;
				$('#hdnBatchCapacity').val('0');
			} 
		});
	});

	var role = $('#hdnUserRole').val();

	if(role == 'examAdmin'){
		getStreamListFromManageStudentLevel1('cmbUniversityId');
		getQualificationListFromManageStudentLevel1('cmbQualification');
	}
	
	$('#editStudentRecordDialog').modal({
		backdrop : 'static',
		keyboard : false,
		show : false
	}).css({
		width : '800px',
		'margin-left' : function() {
			return -($(this).width() / 2);
		}
	});
	
	$('.chkPrint').click(function(){
		if($('.chkPrint:checked').length == 14){
		$('.allchk').attr('checked',true);
		}else{
		$('.allchk').attr('checked',false);
		}
	});
	
	$( "#txtAdmissionCancelDate" ).datepicker({
		dateFormat:"M d,yy",
		minViewMode: 0,
		autoclose: true,
		todayHighlight: true
	});
	
	var customerIdentificationObj = $('#customerIdentificationObj').val();
	if(customerIdentificationObj == 'IMT_NAGPUR' || customerIdentificationObj == 'IMT_GAZIABAD' || customerIdentificationObj == 'IMT_HYDERABAD' ){
		$('#radioOverAllRollNoAssignment').attr('checked', true);
		rollNoAllocationType();
		$('.filterOptionsForRollNo').hide();	
	}
	
	$('#uploadorderNo').click(function(){
		uploadOrderNo();
		
	});
	
	
});

/**
 * @since 30 Apr 2012
 * @author vimal
 * @purpose to populate batch from institute course strength table
 */
function populateBatch() {
	var id = $('#cbInstiCourseId').val();
	instiCourseId = id.split('-')[0];
	if (!isNaN(instiCourseId) && instiCourseId != 0) {

		$.ajax({
			url : 'getBatchSessionList.json?instiCourseId=' + instiCourseId,
			async : false,
			dataType : 'json',
			success : function(jArray) {
				var len = jArray.length;
				var boiler = '<option value = "0">Select</option>';
				for ( var i = 0; i < len; i++) {
					boiler += '<option value = '
						+ jArray[i]['instituteCourseStrengthId'] + '>'
						+ jArray[i]['fromAcademicYear'] + '-'
						+ jArray[i]['toAcademicYear'] + '</option>';
				}
				$('#cbInstiCourseStrengthId').html(boiler);
			},
			error : function() {

			}
		});
	}
}

function downloadEmployeeFormat() {
	window.open("studentUploadFormat.json");
}

function getBatchSemesterId() {
	var batchId = $('#cbBatchId').val();
	batchSemesterId = batchId.split('-')[2];
	return batchSemesterId;
}

/**
 * 
 * @param type
 * @deprecated
 */
function studentUploadGrid(type) {}

function showStudentListBySemester(semId, batchId) {
	var academicSession = $('#cbAcademicSessionId').val();
	////alert("semId: " + semId + ' batchId: ' + batchId + ' academicSession='+ academicSession);
	if (semId != '0' && batchId != '0' && academicSession != '') {
		$.ajax({
			url : 'studentListBySemester.json',
			data : {
				semNo : semId,
				batchId : batchId,
				academicSession : academicSession
			},
			dataType : 'json',
			beforeSend : function() {
				startCommonAjaxSpinner();

			},
			complete : function() {
				stopCommonAjaxSpinner();
			},
			success : function(jArray) {
				gStudentListJsonArray = jArray;
				showStudentListInGrid();
				try {
					showStudentListInSourcePromotionGrid(jArray);
				} catch (e) {

				}
			},
			error : function() {
				// //////////alert("In student data grid error");
			}
		});
	}
}

/**
 * 
 * @param sortingParam:
 *            Sorting parameter, e.g: firstName, lastName etc
 * @param namingOrder:
 *            naming order of the student. e.g: if firstName on first place:
 *            value should be 1 if middle Name on first place: value should be 2
 *            and if last name on first place: value should be 3
 */
 
var currentUrlCalledMap = new Map();

function showStudentListByCourseSemeserAndDivision(sortingParam,namingOrderValue,semesterBatchId, callback) {
	
	$('.hideshow').show(); 
	lastFunctionCalled = "showStudentListByCourseSemeserAndDivision('"+sortingParam+"',"+namingOrderValue+","+semesterBatchId+","+callback+")";
	gStudentsIds = new Array();
	gStudentBatchIds = new Array();
	var url = '';
	if (semesterBatchId == undefined) {
		semesterBatchId = getSemesterBatchId();
	}
	if (semesterBatchId == undefined) {
		var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
		if(instituteCourseStrengthId.toLowerCase() != 'select'){
			var shiftType = $('#shiftType').val();

			if ($('#chkNewStudent').is(':checked')) {
				url = 'fresherStudentListByBatchSP.json?batchId='+ instituteCourseStrengthId+'&shift='+shiftType;
				if (sortingParam != undefined)
					url = 'fresherStudentListByBatchSP.json?batchId='+ instituteCourseStrengthId + '&sortingParam='+ sortingParam+'&shift='+shiftType;
			}
		}
	} else if (semesterBatchId != undefined) {
		url = 'studentListSP.json?semesterBatchId=' + semesterBatchId;
		if (sortingParam != undefined && sortingParam !="undefined")
			url = 'studentList.json?semesterBatchId=' + semesterBatchId+ '&sortingParam=' + sortingParam;
	}

	try {
		
		if(!currentUrlCalledMap.has(url)){
			$.ajax({
				url : url,
				dataType : 'json',
				async : false,
				beforeSend : function() {
					startCommonAjaxSpinner();
				},
				complete : function() {
					stopCommonAjaxSpinner();
				},
				success : function(jArray) {

					currentUrlCalledMap.set(url, jArray);
										
					gStudentListJsonArray = jArray;

					showStudentListInGrid(namingOrderValue);
					try {
						showStudentListInDialog(namingOrderValue);
						callback(jArray);
					} catch (e) {}
				},
				error : function() {
					jAlert("Server error: Please refresh the page and try again!!!");
				}
			});
		}else{
			gStudentListJsonArray = currentUrlCalledMap.get(url);
			showStudentListInGrid(namingOrderValue);
			try {
				showStudentListInDialog(namingOrderValue);
				callback(gStudentListJsonArray);
			} catch (e) {}
		}
	} catch (e) {
		gStudentListJsonArray = currentUrlCalledMap.get(url);
		showStudentListInGrid(namingOrderValue);
		try {
			showStudentListInDialog(namingOrderValue);
			callback(gStudentListJsonArray);
		} catch (e) {}
	}
}
function downloadBonafideCertifiction(){
	var studentIds = new Array();
	var instituteStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	$('.selectedStudent:checked').each(function(){
		studentIds.push($(this).attr('id'));
	});
	
	if(studentIds.length!=0){
		window.location.replace("internationalStudentBonafidePdf.json?studentIds="+studentIds+'&instituteStrengthId='+instituteStrengthId);
	}else{
		jAlert('Select at least a student.')
	}
	
} 
function showStudentListByBatch() {
	lastFunctionCalled = "showStudentListByBatch";
	initManageStudentGrid();
	var batchId = $('#cbAcademicBatch').val();
	batchId = batchId.split("-")[0];
	$('#chkNewStudent').attr('disabled','disabled');
	$('#chkNewStudent').attr('checked',true);
	$('#uploadAsApplicantId').attr('checked',false);
	// ////////////alert("Before Server Call: Batch Id: "+batchId);
	$.ajax({
		url : 'studentListByCourseAndBatch.json',
		data : {
			batchId : batchId
		},
		dataType : 'json',
		beforeSend : function() {
			startCommonAjaxSpinner();
		},
		complete : function() {
			stopCommonAjaxSpinner();
		},
		success : function(jArray) {
			gStudentListJsonArray = jArray;
			showStudentListInGrid();
		},
		error : function() {
			// //////////alert("In student data grid error");
		}
	});
}
function showFresherStudentInStudentGrid(){
	var instiCourseId = getSelectedInstituteCourseId();
	var batchId =$('#cbAcademicBatch').val();
	batchId = parseInt(batchId.split("-")[0]);
	var semListBoilerplate = "";
	if(!isNaN(instiCourseId) && !isNaN(batchId) && instiCourseId != 0 && batchId != 0){
		
	lastFunctionCalled = "showFresherStudentInStudentGrid";
	showShiftsByInstituteStrength();
	initManageStudentGrid();
	$('#cbSemesterId option')[0].selected = true;
	$('#cbAcademicSessionId option')[0].selected = true;
	$('#cbBatchId option')[0].selected = true;
	$('#chkNewStudent').attr('checked',true);
	$('#hdnBatchCapacity').val('');
	$('#gridAllocateDivCaptionHeader').removeClass('non-fresher');
	$('#gridAllocateDivCaptionHeader').addClass('fresher');
	$('#btnAllocateDivisionRollNos').show();
	$('#trParentDepartment').hide();
	$('#uploadAsApplicantId').attr('checked',false);
	$('#smsForFresher').show();
	$('#emailForFresher').show();
}else{
	jAlert("Please select programme and Academic Batch.");
	$('#divManageStudentTab21Mar').hide();
}
}

function showShiftsByInstituteStrength(){

	var instituteCourseStrengthId = $('#cbAcademicBatch').val().toString().split("-")[0];

	if(instituteCourseStrengthId != '0'){
		$.ajax({
			url : 'shiftsByInstituteStrength.json',
			data :{instituteCourseStrengthId : instituteCourseStrengthId},
			dataType : 'json',
			success : function(jArray) {

				var boiler = '<option value="0">No Shift</option>';
				for(var i=0; i<jArray.length;i++)
					boiler += '<option value="'+jArray[i]["shift"]+'">'+jArray[i]["shift"]+'</option>';

				$('#shiftType').html(boiler);
				$('#trShiftType').show();

				if(jArray.length>0)
					showFresherStudentByBatch('auto');
				else
					jAlert("Shifts are not defined to batches.<br>Please allocate shifts to batches");
			},
			error : function() {
				jAlert("Server error: Please refresh the page and try again!!!");
			}
		});
	}
}
//var isFresher =false;
function showFresherStudentByBatch(type) {
	
	lastFunctionCalled = 'showFresherStudentByBatch("'+type+'")';
	var batchId = $('#cbAcademicBatch').val().toString().split("-")[0];
	var shift = $('#shiftType').val();
	if($('#customerHelper').val()=='REVA_UNIVERSITY'){
	updateStudentAsMinBillDate(batchId,shift);
	}
	setTimeout(function(){
		if(batchId != '0'){
			$.ajax({
				url : 'fresherStudentListByBatchSP.json',
				data : {batchId : batchId,shift : shift},
				dataType : 'json',
				beforeSend : function() {
					startCommonAjaxSpinner();
				},
				complete : function() {
					stopCommonAjaxSpinner();
				},
				success : function(jArray) {
					if(type=='auto' && jArray.length==0)
					{
						if($('#shiftType option')[1]!=undefined)
						{
							$('#shiftType option')[1].selected = true;
							showFresherStudentByBatch();
						}
					}
					else
					{
						gStudentListJsonArray = jArray;
						showStudentListInGrid();
						//isFresher =true;
						
					}
				},
				error : function() {
					jAlert("Server error: Please refresh the page and try again!!!");
				}
			});
		}
	},2000);

	
}

function generateStudentEmail() {

	var courseId = getSelectedInstituteCourseId();
	var SemId = $('#cbSemesterId').val();
	var batchId = $('#cbBatchId').val();
	var acadmicyearid = $('#cbAcademicSessionId').val();
	var planid = $('#cbStudentAllocationPlanList').val();

	$.ajax({

		url : 'generateStudentEmail.json',
		data : {
			courseId : courseId,
			SemId : SemId,
			batchId : batchId,
			acadmicyearid : acadmicyearid,
			planid : planid
		},
		beforeSend : function() {
			startCommonAjaxSpinner();
		},
		complete : function() {
			stopCommonAjaxSpinner();
		},
		success : function() {

		},
		error : function() {
			// //////////alert("In student data grid error");
		}
	});
}

//student block and release
function blockStudent(studentId) {
	$.ajax({
		url : 'editAddStudentDetails.htm?studentId=' + studentId,
		beforeSend : function() {
			startCommonAjaxSpinner();

		},
		complete : function() {
			stopCommonAjaxSpinner();
		},
		success : function() {
			// ////////////alert("Successfully block Student Account");
			studentUploadGrid('upload');
		},
		error : function() {
			// //////////alert("in block Student error!!");
		}
	});
}

function releaseStudent(studentId) {
	$.ajax({
		url : 'releaseStudentDetails.htm?studentId=' + studentId,
		beforeSend : function() {
			startCommonAjaxSpinner();

		},
		complete : function() {
			stopCommonAjaxSpinner();
		},
		success : function() {

			// //////////alert("Successfully Release Student Account");
			studentUploadGrid('upload');
		},
		error : function() {
			// //////////alert("in Release Student error!!");
		}
	});

}

function showPursuingStudentListInGrid() {
	var len = gStudentListJsonArray.length;
	var cnt = 1;
	for ( var i = 0; i < len; i++) {
		if (gStudentListJsonArray[i]['members'].status.value.toLowerCase() == 'pursuing') {
			var datarow = {
					id : cnt,
					studentIdSrvr : gStudentListJsonArray[i]['members'].studentId.value,
					rollNo : gStudentListJsonArray[i]['members'].rollNo.value,
					hdnStudentIdClnt : gStudentListJsonArray[i]['members'].studentId.value,
					hdnStudentBatchIdClnt : gStudentListJsonArray[i]['members'].studentBatchId.value,
					hdnStudentBatchIdSrvr : gStudentListJsonArray[i]['members'].studentBatchId.value,
					name : gStudentListJsonArray[i]['members'].firstName.value
					+ ' '
					+ gStudentListJsonArray[i]['members'].lastName.value,
					email : gStudentListJsonArray[i]['members'].alternetEmailID.value,
					phoneNo : gStudentListJsonArray[i]['members'].alternetContactNumber.value,

					status : gStudentListJsonArray[i]['members'].status.value,
			};
			jQuery("#student-management-grid").jqGrid('addRowData', i + 1,datarow);
		}
		cnt++;
	}
}

function initStudentGrid() {
	jQuery("#student-management-grid").jqGrid('reloadGrid');
}

function getSelectedStudentId() {
	/**
	 * below code has been commeted because id has been taken in global array on row selection
	 */
	/*var ids = getSelectedStudentGridRowId();
	var studentIdArray = new Array();
	for ( var i = 0; i < ids.length; i++) {
		var rowObj = jQuery("#student-management-grid").jqGrid('getRowData',ids[i]);
		studentIdArray.push(rowObj.hdnStudentIdClnt);
	}
//	alert('studentIdArray'+studentIdArray);
	gStudentsIds = '' + studentIdArray.join(',');*/
	
	$('.selectedStudent').each(function(){
		if($(this).is(":checked"))
		{
			gStudentsIds.push($(this).attr("value"));
		}
	});
	
	return gStudentsIds.toString();
}

function getSelectedStudentId2(){
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam','selrow');
	var rowObj = jQuery("#student-management-grid").jqGrid('getRowData', ids);
	if(rowObj.hdnStudentIdClnt!=undefined)
		return rowObj.hdnStudentIdClnt;
	else
	{
		var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam','selrow');
		var rowObj = jQuery("#student-admitted-grid").jqGrid('getRowData', ids);
		return rowObj.hdnStudentIdClnt;
	}
}

function getSelectedStudentBatchId() {
	/**
	 * below code has been commeted because id has been taken in global array on row selection
	 */
	/*var ids = getSelectedStudentGridRowId();
	var studentBatchIdArray = new Array();
	for ( var i = 0; i < ids.length; i++) {
		var rowObj = jQuery("#student-management-grid").jqGrid('getRowData',ids[i]);
		// //////////alert("rowObj.hdnStudentBatchIdClnt:
		// "+rowObj.hdnStudentBatchIdClnt);
		studentBatchIdArray.push(rowObj.hdnStudentBatchIdClnt);
	}
	gStudentBatchIds = '' + studentBatchIdArray.join(',');*/
	// ////////////alert("gStudentBatchIds: "+gStudentBatchIds);
	return gStudentBatchIds.toString();
}

function getSelectedStudentBatchId2() {
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam','selrow');
	var rowObj = jQuery("#student-management-grid").jqGrid('getRowData', ids);
	return rowObj.hdnStudentBatchIdClnt;
}


function setSelectedStudentBatchId(gridId) {
	var idsArr = new Array();
	if(gridId == undefined){
		gridId = 'student-management-grid';
		oTable.fnFilter('');
	}
	$('#'+gridId).find('tr.selected:visible').each(function(){
		idsArr.push($(this).find('.hdnStudentBatchIdClnt').text());
	});
	//return idsArr;
	/*var ids = getSelectedStudentGridRowId();
	var studentBatchIdArray = new Array();
	for ( var i = 0; i < ids.length; i++) {
		var rowObj = jQuery("#student-management-grid").jqGrid('getRowData',ids[i]);
		studentBatchIdArray.push(rowObj.hdnStudentBatchIdClnt);
	}*/
	gStudentBatchIds = '' + idsArr.join(',');
}

function getStudentStatus() {
	return $('#cbStudentStatusId').val();
	
	
	
}

/**
 * 
 * @returns {Array}
 */
function getSelectedStudentGridRowId(gridId) {
	var idsArr = new Array();
	//student-management-grid
	$('#student-management-grid').find('tr.selected').each(function(){ 
		idsArr.push($(this).find('.hdnStudentIdClnt').text());
	});
	
	return idsArr;
}

function populateStudentStatus() {
	$('#showStudentExamInfoModal').html('');
	var courseType = $('#cbInstiCourseId option:selected').attr('cousetype');
	gStudentStatusArray = new Array();
	var boiler = '';
	var url=window.location.pathname.toString();
	boiler = '<option value = "0">Select</"option>';
	$.ajax({
		url : 'getStudentStatusList.json?courseType='+courseType+'&url=' + url,     // url is called mapped at
		// controller
		dataType : 'json',
		async : false,
		success : function(jArray) {
			gStudentStatusArray.push('-1' + ':' + 'Select');
			$.each(jArray, function(i, v) {
				gStudentStatusArray.push(v["StudentStatus"] + ':'+ v["StudentStatus"]);
				if(v["StudentStatus"] != "PURSUING"){
					boiler += '<option value = "' + v["StudentStatus"] + '">';
					if(v["StudentStatus"]=='BREAK' && $('#customerHelper').val()=='DYPATIL'){
						boiler += 'GAP';
					}else{
						boiler += v["StudentStatus"].replace('_',' ');
					}
					boiler += '</"option>';
				}
			});
			gStudentStatusArray = gStudentStatusArray.join(";");
			$('#cbStudentStatusId').html(boiler);
			selectedStudentStatusChange();
			//alert($('#cbStudentStatusId >option [value="PURSUING"]').val());
			// ////////////alert(gStudentStatusArray);
		},
		error : function() {
		}
	});
}

function showChangeStudentStatusForm() {
	$('#dosaConfigSpan').hide();
	$('#dosaConfig').prop('checked', false);	
	$('#dosaconfigBIT').hide();
	$('#txtDosaConfigBIT').val('');
	$('#trTermError').hide();
	$('#trComment').hide();
	$('#txtCmtBlk').val('');
	$('#cmbSemDel2').css('border-color','');
	$('#changeStudentStatusDialog').modal('show').css({
		width: '600px',
		'margin-left': function () {
			return -($(this).width() / 2);
		}
	});
	if($(location).attr('pathname').split('_')[1] == 'manageStudent.htm') {
	var header = 'Student status(Pursuing)';
	$('#changeStudentStatusDialogHeader').html(header);
	}
	$('#txtAdmissionCancelDate').val('');
	$('#txtReason').val('');
	$('#trReason').hide();
	$('#trApprovedSatus').hide();
	$('#trTermSatus').hide();
	$('#subjectNameListUnalloc').hide();
	 $('#lblyearDown').hide();
	 $('#lblTermDown').hide();
	 $('#lblyearDown').hide();
	 $('#lblTermDown').hide();
	
	
}



function changeStudentStatus() {
	var studentBatchIds = getSelectedStudentBatchId();
	var studentId = getSelectedStudentId();
	var status = getStudentStatus();
	var statusText = $('#cbStudentStatusId option:selected').text();
	var comment = $('#txtCmtBlk').val();
	var doSaReason = $('#txtDosaConfigBIT').val();
	var checkDosaBit=$('#dosaConfig').is(":checked"); 
	if(status=="0" || status== 0){
		jAlert("Please Select Status.");
		return;
	}
	if($('#customerHelper').val()=="BITS_MESRA" && $('#cbStudentStatusId').val()=='BLOCKED' && (checkDosaBit==true||checkDosaBit=="true")){
			if(doSaReason.trim()==""){
				jAlert('Please Enter Reason.');
				return;
			}
	}
	
	var admissionCancelDate=$('#txtAdmissionCancelDate').val();
	var reason = $('#txtReason').val();
	var employeeId = $('#cbApprovedStatus option:selected').val();
	var yearDownStatus;
	
	
	 if(status == 'YEARDOWN'){
	
		yearDownStatus=  $('input[name = "yearDownStatus"]:checked').val();
	}
	if(admissionCancelDate=='' && status!='ALUMNI'){
		jAlert('Please select Date');
		return;
	}
	if(status == 'ADMISSION_CANCELLED'){
	
		$('#RevertCheckStudStatusAdmsnCancel').modal('show');
		//alert("sdf");
		$('#revertCheckStudStatusAdmsnCancelId').click(function(){
			var studentIds = new Array();
			$('.selectedStudent').each(function(){
				if($(this).is(':checked'))
					studentIds.push($(this).val());
			});
			if(studentIds.length > 0){
				jConfirm('Are you sure?','Confirmation',function(flag){
					if(flag){
						/*cancelAdmission(studentId,'',function(){
						$('#changeStudentStatusDialog').dialog('close');
						jAlert('Admission Cancelled Successfully');
						var ids = getSelectedStudentGridRowId();
						$("#student-management-grid").jqGrid('setCell',ids,'status', status);
					});*/
						//alert("studentId "+studentIds);


						cancelAdmission(studentIds,admissionCancelDate);
					}
				});
			} else {
				jAlert('Please select only one student at a time');
			}
		});
	}else if(status == 'LEFT' || status == 'BREAK'){
	//	$('#trReason').show();
		//$('#trApprovedSatus').show();
		
		if(reason==''){
			jAlert('Please specify reason');
			return;
		}
		/*if($('#cmbSemDel2').val()=='0'&& $('#cmbSemDel2 option:selected').attr('lenSize')!='0'){
			jAlert('Please specify Term');
			return;
		}*/
		
		var studentIds = new Array();
		$('.selectedStudent').each(function(){
			if($(this).is(':checked'))
				studentIds.push($(this).val());
		});

		var batchSemesterCapacityIdTerm = $('#cmbSemDel2').val();
		/*var batchSemesterCapacityIdss = new Array();
		$('.subjectBatchIdForUnallocate').each(function(){
			if($(this).is(':checked'))
				batchSemesterCapacityIdss.push($(this).val());
		});*/
		
		if(studentIds.length == 1){
			$.ajax({
				url : 'getStudentSubjectChoiceList.json',
				// controller
				data : {
					studentIds : studentIds.toString(),
					admissionCancelDate : admissionCancelDate
					/*batchSemesterCapacityIdsList:batchSemesterCapacityIdss,
					termbatchSemesterCapacityId:batchSemesterCapacityIdTerm*/
				},
				dataType : 'json',
				type : 'POST',
				async : false,
				success : function(jArray) {
					var subjectName = "" ;
					if(jArray[0] != undefined && jArray[0] != "undefined"){
						if(jArray[0].subjectName != null && jArray[0].subjectName != undefined && jArray[0].subjectName != "undefined"){
							subjectName = (jArray[0].subjectName.gemsDecode());
						}
					}
					var subNameArr = new Array();
					$('.subjectBatchIdForUnallocate').each(function(){
						if($(this).attr('checked')=="checked")
						subNameArr.push($(this).attr('subjectNameDel'));
					});
					jConfirm('Are you sure?\nThis will remove all the Course allocation, student attendance \n and feedback given by the student(s) of following subjects  :  '+subNameArr+' \n .','Confirmation',function(r){
						if(r){
							LeftOrBreakAdmission(studentIds,admissionCancelDate,status,reason,employeeId,batchSemesterCapacityIdTerm);
						}
					});
				}
			})
			
		} else {
			jAlert('Please select only one student at a time');
		}

	}else {
		if(status=="ALUMNI" && $('#customerHelper').val()=="GC_UNIVERSITY"){
			var invalid= false;
			
			$('.selectedStudent:checked').each(function(){
			  var studId = $(this).val();
			  var feesRemainingAmt = $('#studentRow-'+studId+' .pendingFeesAmount').html();
  			   if(feesRemainingAmt!="0.0" && feesRemainingAmt!=null && feesRemainingAmt!=undefined && feesRemainingAmt!="" && feesRemainingAmt!="0"
  				&& eval(feesRemainingAmt)>0){
  				invalid=true;
  			   }
			});
			
			if(invalid){
				jAlert("Please clear the fee due amount.")
				return;
			}
		}
		$.ajax({
			url : 'changeStudentStatus.json', // url is called mapped at
			// controller
			data : {
				studentBatchIds : studentBatchIds,
				status : status,
				statusText:statusText,
				yearDownStatus : yearDownStatus,
				comment : comment,
				doSaReason:doSaReason,
				checkDosaBit:checkDosaBit
			},
			dataType : 'json',
			type : 'POST',
			async : false,
			success : function(jArray) {
				gStudentsIds = new Array();
				gStudentBatchIds = new Array();
				if (jArray[0].responseFlag == '1') {
					showSuccessMessage(jArray[0].responseFlag, 5000);
					var ids = getSelectedStudentGridRowId();
					// ////////////alert("Ids: "+ids);
					for ( var i = 0; i < ids.length; i++) {
						$("#student-management-grid").jqGrid('setCell', ids[i],'status', jArray[i + 1].status);
					}

				}
				$('#changeStudentStatusDialog').modal('hide');
				$('#changeStudentStatusDialog').dialog('close');
				
				var boiler='';
				if(status=="BLOCKED"){
					jAlert("Student Blocked Successfully.");
				}else if(status=="YEARDOWN"){
					if($('#yearDownStatusFlag').val()=='true'|| $('#yearDownStatusFlag').val()==true){
						if(yearDownStatus == 'YEARDOWN'){
							jAlert("Student Year Dropped.");
						}else if(yearDownStatus == 'TERMDOWN'){
							jAlert("Student Term Dropped.");
						}
					}else{
					jAlert("Student Year Dropped.");
					}
				}else if(status=="ALUMNI" && jArray[0].responseFlag == '1'){
						boiler+="<div style='border:thin'><p class='alert alert-danger'  style='font-size:14px'>Students Converted to Alumni</p></div>"+
								"<table id='BlankId' class='table table-bordered table-condensed'><tr><th>Sr.No.</th><th>Roll No.</th>"+
								"<th>Remark</th></tr>";
						var Srno=1;
						for(var i = 1;i <jArray.length; i++){
							if(jArray[i].status=="ALUMNI"){
								boiler += '<tr><td>'+Srno+'</td> <td>'+jArray[i].RollNo+'</td><td>success</td> </tr>';	
								Srno++;									
							}					
						}
						boiler+="</table><div style='border:thin'><p class='alert alert-danger'  style='font-size:14px'>Students Not Converted to Alumni</p></div>"+
								"<table id='BlankId' class='table table-bordered table-condensed'><tr><th>Sr.No.</th><th>Roll No.</th>"+
								"<th>Remark</th></tr>";
						Srno=1;
						for(var i = 1;i <jArray.length; i++){
							if(jArray[i].status!="ALUMNI"){
								boiler += '<tr><td>'+Srno+'</td> <td>'+jArray[i].RollNo+'</td><td>Un-successful</td> </tr>';
								Srno++;		
							}					
						}
					jAlert(boiler);
				}else if(status=="ALUMNI" && jArray[0].responseFlag == '0'){
					boiler+="<div style='border:thin'><p class='alert alert-danger'  style='font-size:14px'>Unable to Convert Student to Alumni</p></div>";
					jAlert(boiler);
				}else if(status=="RUSTICATED"){
					jAlert("Student rusticated successfully.")
				}
			},
			error : function() {
			}
		});
	}
	// ////////////alert("studentBatchIds: "+studentBatchIds+");
}

function cancelAdmission(studentIds,admissionCancelDate)
{
	var CancelReason = $('#txtReason2').val();
	var putforAdmCancelCoe= "No";
	if($('#txtCheckForFinanceYes2').is(':checked')){
		putforAdmCancelCoe= "Yes";
	}
	var studentSubjectCancelflag = $( "input[name='studentSubjectCancelId']:checked" ).val();
	
	$.ajax({
		url: 'cancelAdmissionManageStudent.json?studentIds='+studentIds+'&admissionCancelDate='+admissionCancelDate+'&CancelReason='+CancelReason+'&putforAdmCancelCoe='+putforAdmCancelCoe+'&studentSubjectCancelflag='+studentSubjectCancelflag,
		dataType:'text',
		async:false,
		beforeSend: function() {
			startCommonAjaxSpinner();
		},
		complete: function() {
			stopCommonAjaxSpinner();
		},
		success:function(){
			//showStudentInTargetBatch();
			checkForActiveSemester();
			jAlert("Admission Cancelled Successfully.","Message");
			$('#changeStudentStatusDialog').modal('hide');
		},
		error:function(){
		}
	});
}

function clearStudentGrid() {
	$("#student-management-grid").GridUnload();
}

function getSelectedStudentCategory() {
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam',
	'selrow');
	var rowObj = jQuery("#student-management-grid").jqGrid('getRowData', ids);
	if(rowObj.categoryId!=undefined)
	{
		var categoryId = rowObj.categoryId;
		return categoryId;
	}
	else
	{
		var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam',
		'selrow');
		var rowObj = jQuery("#student-admitted-grid").jqGrid('getRowData', ids);
		var categoryId = rowObj.categoryId;
		return categoryId;
	}
}

function getAdmittedSelectedStudentCategory() {
	var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam',
	'selrow');
	var rowObj = jQuery("#student-admitted-grid").jqGrid('getRowData', ids);
	var categoryId = rowObj.categoryId;
	return categoryId;
}

/**
 * @since 30th May 2012
 * @returns {String}
 */
function getStudentAddress() {
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam', 'sel');
	var rowObj = jQuery("#student-management-grid").jqGrid('getRowData', ids);
	var address = '';
	address += (rowObj.addressLine1 != undefined ? rowObj.addressLine1 : '')
	+ '<br/>';
	address += (rowObj.addressLine2 != undefined ? rowObj.addressLine2 : '')
	+ '<br/>';
	address += rowObj.city != undefined ? rowObj.city + ', ' : '';
	address += rowObj.state != undefined ? rowObj.state + ', ' : '';
	address += rowObj.country != undefined ? rowObj.country + ', ' : '';
	address += rowObj.pincode != undefined ? rowObj.pincode + ', ' : '';
	// ////////////alert("address: "+address);
	return address;
}

function getStudentName() {
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam',
	'selrow');
	var rowObj = jQuery("#student-management-grid").jqGrid('getRowData', ids);

	if(rowObj.name!=undefined)
		return rowObj.name;
	else
	{
		var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam',
		'selrow');
		var rowObj = jQuery("#student-admitted-grid").jqGrid('getRowData', ids);
		return rowObj.name;
	}
}

function getStudentAdmissionDate() {
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam',
	'selrow');
	var rowObj = jQuery("#student-management-grid").jqGrid('getRowData', ids);

	if(rowObj.admissionDate!=undefined)
		return rowObj.admissionDate;
	else
	{
		var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam',
		'selrow');
		var rowObj = jQuery("#student-admitted-grid").jqGrid('getRowData', ids);
		return rowObj.admissionDate;
	}
}

function getStudentCategory()
{
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam','selrow');
	var rowObj = jQuery("#student-management-grid").jqGrid('getRowData', ids);

	if(rowObj.categoryName!=undefined)
		return rowObj.categoryName;
	else
	{
		var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam','selrow');
		var rowObj = jQuery("#student-admitted-grid").jqGrid('getRowData', ids);
		return rowObj.categoryName;
	}
}

function setStudentGender(gender){
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam',
	'selrow');
	$("#student-management-grid").jqGrid('setCell',ids,'gender',gender);

	if(ids == undefined){
		gStudentInvoiceRelatedObject.gender = gender;
	}
}

function setStudentAdmissionTypeId(admissionTypeId){
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam','selrow');

	if(ids != undefined){
		$("#student-management-grid").jqGrid('setCell',ids,'admissionTypeId',admissionTypeId);	
	} else {
		if(gStudentInvoiceRelatedObject != undefined){
			gStudentInvoiceRelatedObject.studentAdmissionTypeId = admissionTypeId;
		}
	}

}

function setStudentAdmissionType(admissionType){
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam','selrow');
	$("#student-management-grid").jqGrid('setCell',ids,'admissionType',admissionType);

	var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam','selrow');
	$("#student-admitted-grid").jqGrid('setCell',ids,'admissionType',admissionType);

	if(ids == undefined){
		if(gStudentInvoiceRelatedObject != undefined){
			gStudentInvoiceRelatedObject.studentAdmissionTypeName = admissionType;
		}
	}
}

function setStudentCategoryId(categoryId) {
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam','selrow');
	$("#student-management-grid").jqGrid('setCell',ids,'categoryId',categoryId);

	var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam','selrow');
	$("#student-admitted-grid").jqGrid('setCell',ids,'categoryId',categoryId);
}

function setStudentCategoryName(categoryName) {
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam','selrow');
	$("#student-management-grid").jqGrid('setCell',ids,'admissionCategoryName',categoryName);

	var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam','selrow');
	$("#student-admitted-grid").jqGrid('setCell',ids,'admissionCategoryName',categoryName);

	if(ids == undefined){
		if(gStudentInvoiceRelatedObject != undefined){
			gStudentInvoiceRelatedObject.studentAdmissionCategory = categoryName;
		}
	}
}



function getStudentGender() {
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam',
	'selrow');
	var rowObj = jQuery("#student-management-grid").jqGrid('getRowData', ids);

	if(rowObj.gender!=undefined)
		return rowObj.gender;
	else {
		var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam',
		'selrow');
		var rowObj = jQuery("#student-admitted-grid").jqGrid('getRowData', ids);
		return rowObj.gender;
	}
}

function getStudentAdmissionType(){
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam','selrow');
	var rowObj = jQuery("#student-management-grid").jqGrid('getRowData', ids);
	return rowObj.admissionType;
}

function getStudentAdmissionCategoryName(){
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam','selrow');
	var rowObj = jQuery("#student-management-grid").jqGrid('getRowData', ids);

	if(rowObj.admissionCategoryName!=undefined)
		return rowObj.admissionCategoryName;
	else
	{
		var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam','selrow');
		var rowObj = jQuery("#student-admitted-grid").jqGrid('getRowData', ids);
		return rowObj.admissionCategoryName;
	}

}

function getStudentAdmissionType(){
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam','selrow');
	var rowObj = jQuery("#student-management-grid").jqGrid('getRowData', ids);

	if(rowObj.admissionType!=undefined)
		return rowObj.admissionType;
	else
	{
		var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam','selrow');
		var rowObj = jQuery("#student-admitted-grid").jqGrid('getRowData', ids);
		return rowObj.admissionType;
	}

}

function getAdmittedStudentAdmissionType(){
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam','selrow');
	var rowObj = jQuery("#student-management-grid").jqGrid('getRowData', ids);
	return rowObj.admissionType;
}


function getStudentAdmissionTypeId(){
	var ids = jQuery("#student-management-grid").jqGrid('getGridParam','selrow');
	var rowObj = jQuery("#student-management-grid").jqGrid('getRowData', ids);

	if(rowObj.admissionTypeId!=undefined)
		return rowObj.admissionTypeId;
	else {
		var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam','selrow');
		var rowObj = jQuery("#student-admitted-grid").jqGrid('getRowData', ids);
		return rowObj.admissionTypeId;
	}
}

function getAdmittedStudentTypeId(){
	var ids = jQuery("#student-admitted-grid").jqGrid('getGridParam','selrow');
	var rowObj = jQuery("#student-admitted-grid").jqGrid('getRowData', ids);
	return rowObj.admissionTypeId;
}


function clearStudentGrid() {
//	jQuery("#student-management-grid").jqGrid('clearGridData');
}

/**
 * @
 * @since 16 june 2012
 * @return {boolean} true:if any row selected found else false
 */
function checkSelectedStudent() {
	
	var selectedStudentArray = $('#student-management-grid').find('.selected');
	if(selectedStudentArray.length > 0 ){
		return true;
	} else {
		return false;
	}
	/*var ids = jQuery("#student-management-grid").jqGrid('getGridParam','selrow');
	if (ids == null) {
		return false;
	} else {
		return true;
	}*/
}

/**
 * @since 21 June 2012
 * @purpose this function returns the list of
 *          studentInstituteSemesterbatchCapacity list by subjectWiseBatchId
 *          return from the grid
 */
/*function getStudentListBySubjectAllocation(subjectWiseBatchId) {
	// //////////alert("subjectWiseBatchId: "+subjectWiseBatchId);

	try {
		//alert("subjectWiseBatchId: "+subjectWiseBatchId);
		gStudentBatchIds = new Array();//To initialize the selected student array
		$.ajax({
				url:'studentListBySubjectAllcation.json?subjectWiseBatchId='+ subjectWiseBatchId,
				dataType:'json',
				async:true,
				beforeSend: function() {
					startCommonAjaxSpinner();
				},
				complete: function() {
					stopCommonAjaxSpinner();
				},
				success:function(jArray) {
					gStudentListJsonArray = jArray;
					//alert('gStudentListJsonArray: '+gStudentListJsonArray.length);
					if (jArray.length == 0) {
						//$('#studentSubjectAllocationDialog').modal('show');
						//jAlert('No student(s) found in the select subject. Choose another subject/batch to allocate');
					}

					//showStudentListInGrid();
					var gridType = $('#student-management-toobar').data('GridType');
					alert('gridType: '+gridType);
					showStudentListInSubjectAllocationGrid(gridType,jArray);

				},
				error : function() {
					// //////////alert("In student data grid error");
				}
		});
	} catch (e) {

	}
}*/


function showStudentListInGrid(intNamingOrderValue) {
	
	$('#divStudentInvoiceGeneration').hide();
	$('#student-management-grid').show();
	/** Default */
	var fromCGPA = $('#cbAcademicBatch option:selected').attr('fromcgpa');
	var toCGPA = $('#cbAcademicBatch option:selected').attr('tocgpa');
	if(intNamingOrderValue == undefined)
		intNamingOrderValue = 1;
	clearStudentGrid();
	var len = gStudentListJsonArray.length;
	var cnt = 1;
	var first  = "firstName";
	var second = "lastName";
console.log('gStudentListJsonArray',gStudentListJsonArray);
	if(intNamingOrderValue>2)
	{
		first  = "lastName";
		second = "firstName";
	}
	var customerIdentificationObj = $('#customerIdentificationObj').val();
	var customerWiseDispalyOption = customerIdentificationObj == 'IMT_NAGPUR' ? 'display:none;' : '';
	var mainDepartmentHeading = customerIdentificationObj == 'IMT_NAGPUR' ? 'Main Stream' : 'Main Department';
	
	var boiler = '';
	/** Designing Header of student table*/
	boiler += '<table class="table table-bordered table-condensed tblManageStudentGrid" id="pro">'
		+'<thead>'
			+'<tr id="studentRow">'
				+'<th>Sr.No.</th>' //Serial No
				+'<th></th>' //Profile Pic
				+'<th style="display:none"></th>' //Student Id
				+'<th style="display:none"></th>' //Student Batch Id
				+'<th>'+juno.labelByCustomer('l.Customerwise.RollNo.Label')+'</th>' //Roll No
				+'<th style="display:none"></th>' //Roll No
				+'<th style="display:none"></th>' //Roll No
				+'<th style="display:none"></th>' //Roll No
				+'<th width="20%" style="">Name</th>' // Student Name
				+'<th style="">Email Id</th>' // Email
				+'<th style="">Gender</th>' // Gender
				+'<th style="">Phone No.</th>' // Mobile No
				+'<th style="'+customerWiseDispalyOption+'">Batch</th>' // Sub-Batch
				+'<th style="'+customerWiseDispalyOption+'">PCM marks</th>' // Physic Chem Maths Marks
				+'<th style="'+customerWiseDispalyOption+'">Specialization</th>' // Specialization (for MBA students)
				+'<th style="">'+mainDepartmentHeading+'</th>' //Main Root Department
				+'<th style="display:none"></th>' // Deparment promotion Id
				+'<th style="display:none"></th>' // Parent Institute Course ID
				+'<th style="">Section Joining Date</th>' // Joining date
				+'<th style="'+customerWiseDispalyOption+'">Export Status</th>'
				+'<th>Edit</th>' // Parent Institute Course ID
			/*	+'<th style="display:none"></th>'
				+'<th style="display:none"></th>'*/
			+'</tr>'
		+'</thead>'
		+'<tbody>';
var count = 1;
	for(var i = 0 ; i < len ; i++){
		var name ="";
		var displayName="";
		if(intNamingOrderValue>2)
			name = gStudentListJsonArray[i].lastName + ' ' + gStudentListJsonArray[i].firstName+' '+gStudentListJsonArray[i].middleName;
		else
			name = gStudentListJsonArray[i].firstName + ' ' + gStudentListJsonArray[i].middleName+' '+gStudentListJsonArray[i].lastName;

		var rollNo = gStudentListJsonArray[i].rollNo.toString() != ""?gStudentListJsonArray[i].rollNo:"Not Assigned";
		var mobileNo="";
		if(gStudentListJsonArray[i].mobileNumber != undefined)
		{
			mobileNo=gStudentListJsonArray[i].mobileNumber;
		}	

		var CGPA = gStudentListJsonArray[i].cgpa;
		console.log('CGPA >= fromCGPA  && CGPA <= toCGPA',CGPA >= fromCGPA  && CGPA <= toCGPA);
		if(CGPA >= fromCGPA  && CGPA <= toCGPA){
		boiler +='<tr id="studentRow-'+gStudentListJsonArray[i].studentId+'" style="" class="studentRow">';
		boiler +='<td class="gems_integer">'+(count)+'</td>' //Serial No
		+'<td class="profilePhoto"><img class="pointer" height="35px" id="studentImg-'+gStudentListJsonArray[i].studentId+'" width="35px" src="getStudentProfileImageById.json?id='+gStudentListJsonArray[i].studentId+'"></td>' //Profile Pic
		+'<td class="hdnStudentIdClnt" style="display:none">'+gStudentListJsonArray[i].studentId+'</td>' //Student Id
		+'<td class="hdnStudentBatchIdClnt" style="display:none">'+gStudentListJsonArray[i].studentBatchId+'</td>' //Student Batch Id
		+'<td class="rollNo" >'+rollNo+'</td>' // Roll No
		+'<td class="firstName" style="display:none">'+gStudentListJsonArray[i].firstName+'</td>' // Roll No
		+'<td class="middleName" style="display:none">'+gStudentListJsonArray[i].middleName+'</td>' // Roll No
		+'<td class="lastName" style="display:none">'+gStudentListJsonArray[i].lastName+'</td>'; // Roll No
		if(gStudentListJsonArray[i].displayName!=""){
			displayName=decodeURIComponent(gStudentListJsonArray[i].displayName.replace(/\+/g," "));
			boiler+='<td class="name" width="20%" style="font-size:11.5px">'+displayName+'</td>';
		}
		else
		{
			boiler+='<td class="name" width="20%" style="font-size:11.5px">'+name+'</td>'; // Student Name
		}

		//'<td class="name" width="20%" style="font-size:11.5px">'+name+'</td>' // Student Name
		boiler +='<td class="email" style="">'+gStudentListJsonArray[i].emailId+'</td>' // Email
		+'<td class="gender" style="">'+gStudentListJsonArray[i].gender+'</td>' // Gender
		+'<td class="phoneNo" style="">'+mobileNo+'</td>' // Mobile No
		+'<td class="subbatch" style="'+customerWiseDispalyOption+'">'+gStudentListJsonArray[i].status+'</td>' // Sub-Batch
		+'<td class="pcmMarks" style="text-align:right;'+customerWiseDispalyOption+'">'+gStudentListJsonArray[i].pcmMarks+'</td>' // Physic Chem Maths Marks
		+'<td class="speli" style="'+customerWiseDispalyOption+'">'+gStudentListJsonArray[i].qualiSpecializationName+'</td>' // Specialization (for MBA students)
		+'<td class="parentDepartmentId" style="">'+gStudentListJsonArray[i].parentDepartmentName+'</td>' //Main Root Department
		+'<td class="deptPromotionId" style="display:none">'+gStudentListJsonArray[i].deptPromotionId+'</td>' // Department Promotion ID
		+'<td class="parentInstituteCourseId" style="display:none">'+gStudentListJsonArray[i].parentInstituteCourseId+'</td>' // Parent Institute Course ID
		+'<td class="admissionDate" style="">'+gStudentListJsonArray[i].admissionDate+'</td>' // Parent Institute Course ID
		+'<td style="display:none" class="exportStatus" stud="'+gStudentListJsonArray[i].studentId+'" fresher="'+gStudentListJsonArray[i].fresher+'">'+gStudentListJsonArray[i].exportStatus+'</td>'
		+'<td><a href="javascript:void(0)" class="editStudent" studentid='+gStudentListJsonArray[i].studentId+' title="Edit Record"><i class="icon-edit"></i></a></td>' // Edit student Button
		+'<td class="majorOpenElectiveSubjectId" style="display:none">'+gStudentListJsonArray[i].majorOpenElectiveSubjectId+'</td>'
		+'<td class="minorOpenElectiveSubjectId" style="display:none">'+gStudentListJsonArray[i].minorOpenElectiveSubjectId+'</td>'
		+'</tr>';
		count++;
	}
		
	}
	boiler += '</tbody>'
	+'</table>';


	$('#student-management-grid').html(boiler);

	var oTable = $('.tblManageStudentGrid').dataTable({
        "sDom": "<'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span6'i><'span6'p>>",
        "sPaginationType": "bootstrap",
        "oLanguage": {
			"sLengthMenu": "_MENU_ records per page"
		},
		"iDisplayLength":-1,
    });
	$('.dataTables_length').hide();



       $('#student-management-grid').find('.profilePhoto').bind('click',function(){
    	   var trObj = $(this).parents('tr');
    	   var studentId = $(trObj).find('.hdnStudentIdClnt').text();
    	   showPhotoDialog('studentImg-'+studentId,studentId,'student');
       });

       $('#student-management-grid').find('.editStudent').bind('click',function(){
    	  
    	   var studentId= $(this).attr("studentid");
    	   
    			$('#divStdRegisteredWith').reset();
    			$('#divStdBioMetricDetail').reset();
    			//$('#divStdBioMetricDetailDate').reset();
    			$('#divStdBioMetricDetailDate').reset();
    			$('#remedialExamModal').modal('show');
    			getSemesterListforSelectedYear(studentId);
    			//studentBiomatricsDetails(studentId);
    		
    			$('#studentBiomertricListModal').find('li').removeClass('active');
    			$('#studentBiomertricListModal').find('li').first().addClass('active');

    			$('#studentBiomertricListModal').find('.tab-content').find('div.tab-pane').removeClass('active');
    			$('#studentBiomertricListModal').find('.tab-content').find('div.tab-pane').first().addClass('active');

    			$('#divStdBioMetricDetailDate').hide();
    			
       });

	var batchName = $('#cbAcademicBatch option:selected').text();
	var semesterName = $('#cbSemesterId option:selected').text();
	var sessionName = $('#cbAcademicSessionId option:selected').text();
	var divisionName = $('#cbBatchId option:selected').text();

	if(batchName.toLowerCase() != 'select'){
		message = batchName;
	}
	if(semesterName.toLowerCase() != 'select'){
		message += ' &raquo; '+semesterName;
	}
	/*if(sessionName.toLowerCase() != 'select'){
		message += ' &raquo; ['+sessionName+']';
	}*/
	if(divisionName.toLowerCase() != 'select'){
		message += ' &raquo; '+divisionName;
	}
	//$('.divStudentListGridInfo').html('<strong>'+message+'</strong>');

	$('.divStudentListGridInfo').html(`<span style="color: #03b1a9;"><b>${message}</b></span>
	<hr style="border-bottom: 1px solid #b6b6b675;margin-top: 3px;border-bottom: 1px solid var(--juno-green)">`)
	/*****
	  * below code is for binding shift selection on the data table
	  */
      var lastChecked = null;

      $(document).ready(function() {
          var $chkboxes = $('.selectedStudent');
          $chkboxes.click(function(e) {
              if(e.shiftKey) {
                  var start = $chkboxes.index(this);
                  var end = $chkboxes.index(lastChecked);
                  $chkboxes.slice(Math.min(start,end), Math.max(start,end)+ 1).attr('checked', lastChecked.checked);
                  if(lastChecked.checked){
                  	$chkboxes.slice(Math.min(start,end), Math.max(start,end)+ 1).parents('tr.studentRow').addClass('selected');
                  } else {
                  	$chkboxes.slice(Math.min(start,end), Math.max(start,end)+ 1).parents('tr.studentRow').removeClass('selected');
                  }
              }
              setSelectedStudentBatchId();
              if(!lastChecked) {
                  lastChecked = this;
                  return;
              }
              lastChecked = this;
          });
      });
}

function openStudentListDialog() {
	$('#studentListDialog').dialog('open');
}
function closeStudentListDialog() {
	$('#studentListDialog').dialog('close');
}

/**
 * @since 26th June 2012
 * @author Vimal
 * @purpose
 */
function showStudentArrangeOption() {
	$('#studenArrangementOptionsDialog').modal('show');
}

/**
 * @since 26th June 2012
 * @param chkId
 *            current checkbox id on which mouse has been clicked. Except this
 *            all check boxes have to unchecked
 */
function unSelectAllArrangeParameter(chkId) {
	$('input[name = "chkStudentArrangeOption"]').each(function() {
		if ($(this).attr('id') != chkId) {
			$(this).attr('checked', false);
		}
	});
}

/**
 * @since 27th June 2012
 * @param chkId current checkbox id on which mouse has been clicked. Except this all check boxes have to unchecked
 */
function unSelectAllNamingOrderParameter(chkId) {
	$('input[name = "chkStudentNamingOrder"]').each(function() {
		if ($(this).attr('id') != chkId) {
			$(this).attr('checked', false);
		}
	});
}
function sUnSelectAllNamingOrderParameter(chkId) {
	$('input[name = "suchkStudentNamingOrder"]').each(function() {
		if ($(this).attr('id') != chkId) {
			$(this).attr('checked', false);
		}
	});
}

function getFormattedStudentList() {

	var namingOrderValue = $('input[name = "chkStudentNamingOrder"]:checked').val();
	var sortingParam = new Array(); 
	$('#selectedOrderByList option').val();

	$("#selectedOrderByList option").each(function(){
		sortingParam.push($(this).val());
	});

	showStudentListByCourseSemeserAndDivision(sortingParam.toString(), namingOrderValue);
	$('#studenArrangementOptionsDialog').modal('hide');
}

function getspecializationFormattedStudentList() {
	var checkedStudentList = new Array();
	$('.selectedStudent:checked').each(function(){
		checkedStudentList.push($(this).val());
	});
	
	var namingOrderValue = $('input[name = "suchkStudentNamingOrder"]:checked').val();
	var sortingParam = new Array(); 
	$('#specializationSelectedOrderByList option').val();

	$("#specializationSelectedOrderByList option").each(function(){
		sortingParam.push($(this).val());
	});

	showStudentListByCourseSemeserAndDivision(sortingParam.toString(), namingOrderValue);
	$('#studenArrangementOptionsDialog').modal('hide');
	
	for(var i=0; i<checkedStudentList.length; i++){
		$('#'+checkedStudentList[i]).attr('checked',true);
		alert(checkedStudentList[i]);
	}
}

/**
 * @since 29th June 2012
 * @param arragedStudentList list of the sorted student
 * @param divisionId division in which student are belongs to
 */
function allocateDefaultRollToDivision() {
	var arrangedStudentList = new Array();
	$('.selectedStudent:checked').each(function(){
		arrangedStudentList.push($(this).closest('tr').find('.hdnStudentBatchIdClnt').html());
	});
	var semesterBatchId = getSemesterBatchId();
	var initialRollNoMale = new Array(); 
	var prefixMale = new Array();
	var suffixMale = new Array();
	var initialRollNoFemale = new Array();
	var prefixFemale = new Array();
	var suffixFemale = new Array();
	var initialRollNoOther = new Array();
	var suffixOther = new Array();
	var prefixOther = new Array();

	var type = $('input[name = "rollNoAllocation"]:checked').val();
	var batchNameArray = "";
	var specializationTypeId = $('#specializationTypeId option:selected').val();

	if(type=='overall'){
		initialRollNoMale.push($('#txtRoleInitial').val());
		prefixMale.push($('#txtRolePrefix').val());
		suffixMale.push($('#txtRoleSuffix').val());

		initialRollNoFemale.push(0);
	}else if(type=="subBatchwise"){
		batchNameArray = gBatchNameArray.toString();
		for(var i=0; i<gBatchNameArray.length; i++){
			initialRollNoFemale.push($('#txtRoleInitialFemale'+gBatchNameArray[i]).val());
			prefixFemale.push($('#txtRolePrefixFemale'+gBatchNameArray[i]).val());
			suffixFemale.push($('#txtRoleSuffixFemale'+gBatchNameArray[i]).val());
			initialRollNoMale.push($('#txtRoleInitialMale'+gBatchNameArray[i]).val());
			suffixMale.push($('#txtRoleSuffixMale'+gBatchNameArray[i]).val());
			prefixMale.push($('#txtRolePrefixMale'+gBatchNameArray[i]).val());
		}
	}else if(type=="specialization"){
		initialRollNoMale.push($('#txtRoleInitialMaleSpecial').val());
		suffixMale.push($('#txtRoleSuffixMaleSpecial').val());
		prefixMale.push($('#txtRolePrefixMaleSpecial').val());
		initialRollNoFemale.push($('#txtRoleInitialFemaleSpecial').val());
		suffixFemale.push($('#txtRoleSuffixFemaleSpecial').val());
		prefixFemale.push($('#txtRolePrefixFemaleSpecial').val());
		initialRollNoOther.push($('#txtRoleInitialOtherSpecial').val());
		suffixOther.push($('#txtRoleSuffixOtherSpecial').val());
		prefixOther.push($('#txtRolePrefixOtherSpecial').val());
	}else{
		initialRollNoMale.push($('#txtRoleInitialMale').val());
		suffixMale.push($('#txtRoleSuffixMale').val());
		prefixMale.push($('#txtRolePrefixMale').val());
		initialRollNoFemale.push($('#txtRoleInitialFemale').val());
		suffixFemale.push($('#txtRoleSuffixFemale').val());
		prefixFemale.push($('#txtRolePrefixFemale').val());
	}

	if (!isNaN(semesterBatchId) && semesterBatchId != undefined && initialRollNoMale.length>0 && initialRollNoFemale.length>0) {
		try {
			$.ajax({
				url : 'allocateRollToDivision.json?arragedStudentList=' + arrangedStudentList.toString() + '&initialRollNoMale='+ initialRollNoMale.toString()+
				'&semesterBatchId='+semesterBatchId+'&prefixMale='+prefixMale.toString()+'&suffixMale='+suffixMale.toString()+'&initialRollNoFemale='+ initialRollNoFemale.toString()+
				'&initialRollNoOther='+initialRollNoOther.toString()+'&suffixOther='+suffixOther.toString()+'&prefixOther='+prefixOther.toString()+'&specializationTypeId='+specializationTypeId+
				'&prefixFemale='+prefixFemale.toString()+'&suffixFemale='+suffixFemale.toString()+'&type='+type+'&batchNameArray='+batchNameArray+'&separator=',
				async : false,
				beforeSend : function() {
					startCommonAjaxSpinner();
					$('#studenRollNoAllocationDialog').find('.preview').addClass('loading');
					$('#studenRollNoAllocationDialog').find('.btn-allocateRollNo').attr('disabled','disabled');
				},
				complete : function() {
					stopCommonAjaxSpinner();
					$('#studenRollNoAllocationDialog').find('.preview').removeClass('loading');
					$('#studenRollNoAllocationDialog').find('.btn-allocateRollNo').removeAttr('disabled');
				},
				dataType : 'json',
				type : 'POST',
				success : function(jArray) {					
					if(jArray[0].inCatchFlag==true){
						jAlert(jArray[0].responseText);
						closeRoleAllocationDialog();
						return;
					}else{
						jAlert(jArray[0].responseText
								+ "Successfully allocated! Total affected student: "
								+ (jArray.length - 1), "Success Message");
						closeRoleAllocationDialog();
					}
					if (jArray[0].responseFlag.toString() == '1')
						setRollNoToStudentInGrid(jArray);
				},
				error : function() {}
			});
		} catch (e) {}
	}
}

function allocateRollNoToStudent() {
	
	if ($('#chkNewStudent').is(':checked')){
		allocateDefaultRollNoToFresher();
	}else{
		allocateDefaultRollToDivision();
	}
	
	eval(lastFunctionCalled);
	gStudentsIds = new Array();
	gStudentBatchIds = new Array();
}

var gBatchNameArray = new Array();
function rollNoAllocationType(){
	$('#arrangeStudent').html("");
	$('#arrangeStudent').hide();
	var type = $('input[name = "rollNoAllocation"]:checked').val();
	$('.rollNoAllocation').hide();
	$('#'+type).show();
	
	if(type=="subBatchwise"){
		var semesterBatchId = $('#cbBatchId').val().split("-")[2];
		$.ajax({
			url : 'getAllSubBatchesByBatchSemesterCapacity.json?semesterBatchId='+ semesterBatchId,
			beforeSend : function() {
				startCommonAjaxSpinner();
			},
			complete : function() {
				stopCommonAjaxSpinner();
			},
			dataType : 'json',
			success : function(jArray) {
				gBatchNameArray = new Array();
				if(jArray.length>0){
					var boiler = '';
					for(var i=0; i<jArray.length; i++){
						gBatchNameArray.push(jArray[i].batchName);
						boiler+= '<tr><th colspan="3">For '+jArray[i].batchName+' Male</th></tr>'+
						'<tr><th>Prefix</th><th>Starting Roll No</th><th>Suffix</th></tr>'+
						'<tr>'+
						'<td><input style="width:60px" type="text" id = "txtRolePrefixMale'+jArray[i].batchName+'"></td>'+
						'<td><input style="width:60px" type="text" id = "txtRoleInitialMale'+jArray[i].batchName+'"></td>'+
						'<td><input style="width:60px" type="text" id = "txtRoleSuffixMale'+jArray[i].batchName+'"></td></tr>'+
						'<tr><th colspan="3">For '+jArray[i].batchName+' Female</th></tr>'+
						'<tr><th>Prefix</th><th>Starting Roll No</th><th>Suffix</th></tr>'+
						'<tr>'+
						'<td><input style="width:60px" type="text" id = "txtRolePrefixFemale'+jArray[i].batchName+'"></td>'+
						'<td><input style="width:60px" type="text" id = "txtRoleInitialFemale'+jArray[i].batchName+'"></td>'+
						'<td><input style="width:60px" type="text" id = "txtRoleSuffixFemale'+jArray[i].batchName+'"></td></tr>';
					}
					$('#subBatchwiseTbody').html(boiler);
				}else
					$('#subBatchwiseTbody').html('<tr><td>No sub-batches found</td></tr>');
			},
			error : function() {}
		});
	}else if(type=="specialization"){
		fetchSpecializationNew();
		var boiler = '';
		boiler += '<div><table class="table table-bordered table-condensed">'+
		'<tr><th>Specialization</th><td colspan="2"><select id="specializationTypeId">'+ngSpecilizationSelectBoiler+'</select></td></tr>'+

		'<tr><th colspan="3">For Male</th></tr>'+
		'<tr><th>Prefix</th><th>Starting '+juno.labelByCustomer('l.Customerwise.RollNo.Label')+'</th><th>Suffix</th></tr>'+
		'<tr>'+
		'<td><input style="width:60px" id="txtRolePrefixMaleSpecial" type="text"></td>'+
		'<td><input style="width:60px" id="txtRoleInitialMaleSpecial" type="text"></td>'+
		'<td><input style="width:60px" id="txtRoleSuffixMaleSpecial" type="text"></td>'+
		'</tr>'+
		'<tr><th colspan="3">For Female</th></tr>'+
		'<tr><th>Prefix</th><th>Starting '+juno.labelByCustomer('l.Customerwise.RollNo.Label')+'</th><th>Suffix</th></tr>'+
		'<tr>'+
		'<td><input style="width:60px" id="txtRolePrefixFemaleSpecial" type="text"></td>'+
		'<td><input style="width:60px" id="txtRoleInitialFemaleSpecial" type="text"></td>'+
		'<td><input style="width:60px" id="txtRoleSuffixFemaleSpecial" type="text"></td>'+
		'</tr>'+
		'<tr><th colspan="3">Other</th></tr>'+
		'<tr><th>Prefix</th><th>Starting '+juno.labelByCustomer('l.Customerwise.RollNo.Label')+'</th><th>Suffix</th></tr>'+
		'<tr>'+
		'<td><input style="width:60px" id="txtRolePrefixOtherSpecial" type="text"></td>'+
		'<td><input style="width:60px" id="txtRoleInitialOtherSpecial" type="text"></td>'+
		'<td><input style="width:60px" id="txtRoleSuffixOtherSpecial" type="text"></td>'+
		'</tr>'+

		'</table></div></br><div class="modal-header"><h3>Arrange student</h3></div>';

		boiler+='<table class = "smalltable">'+
		'<tbody><tr><th colspan="2" style = "text-align: left">Arrange by:</th></tr>'+

		'<tr><td><select id="specializationOrderByList" class="skipChoosen" ondblclick="specializationSelectFactor()" size="6">'+
		'<option value="FIRST_NAME">First Name</option>'+
		'<option value="LAST_NAME">Last Name</option>'+
		'<option value="GENDER">Gender</option>'+
		'<option value="ROLL_NO">'+juno.labelByCustomer('l.Customerwise.RollNo.Label')+'</option>'+
		'</select></td>'+
		'<td><select id="specializationSelectedOrderByList" ondblclick="specializationRemoveFactor()" size="6"></select></td></tr>'+

		'<tr><th colspan="2" style = "text-align: left">Which one would you like to be first in student name?</th></tr>'+

		'<tr><td><input id = "specializationChkStudentNamingOrderFirstName" type = "checkbox" name = "suchkStudentNamingOrder" value = "1" onclick = "sUnSelectAllNamingOrderParameter(\'specializationChkStudentNamingOrderFirstName\')"></td><td>First name</td></tr>'+
		'<tr><td><input id = "specializationChkStudentNamingOrderLastname" type = "checkbox" name = "suchkStudentNamingOrder" value = "3" onclick = "sUnSelectAllNamingOrderParameter(\'specializationChkStudentNamingOrderLastname\')"></td><td>Last name</td></tr>'+

		'<tr><td colspan="2"><input type="button" class="btn btn-inverse btn-mini" value="Ok" onclick="getspecializationFormattedStudentList()" style="float:right"></td></tr>'+

		'</tbody></table>';

		$('#arrangeStudent').html(boiler);
		$('#arrangeStudent').show();
	}
}

function allocateCustomRollNoToStudent(arrangedStudentList,initialRollNo,semesterBatchId){
	if ($('#chkNewStudent').is(':checked')) {
		allocateCustomRollNoToFresher(arrangedStudentList, initialRollNo);
	} else {
		allocateCustomRollToDivision(arrangedStudentList, semesterBatchId,initialRollNo);
	}
}


function allocateCustomRollToDivision(arrangedStudentList, semesterBatchId,initialRollNo){
	if (arrangedStudentList.length > 0 && !isNaN(divisionId)
			&& divisionId != undefined && !isNaN(parseInt(initialRollNo))) {
		// ////alert("divisionId: "+divisionId+",, divisionId: "+divisionId+",
		// initialRollNo: "+initialRollNo);
		try {
			$.ajax({
				url : 'allocateCustomRollToDivision.json.htm?arragedStudentList='+ arrangedStudentList + '&semesterBatchId='+ divisionId + 
				'&initialRollNo=' + initialRollNo,
				beforeSend : function() {
					startCommonAjaxSpinner();
				},
				complete : function() {
					stopCommonAjaxSpinner();
				},
				dataType : 'json',
				type : 'POST',
				success : function(jArray) {
					jAlert(jArray[0].responseText
							+ "successfully! Total affected student: "
							+ (jArray.length - 1), "Success Message");
					closeRoleAllocationDialog();
					if (jArray[0].responseFlag.toString() == '1')
						setRollNoToStudentInGrid(jArray);
				},
				error : function() {

				}
			});
		} catch (e) {
			// ////alert(e);
		}
	}
}

function allocateCustomRollNoToFresher(arrangedStudentList, initialRollNo){
	if (arrangedStudentList.length > 0 && !isNaN(parseInt(initialRollNo))) {
		try {
			$.ajax({
				url : 'allocateCustomRollToFresherStudent.json?arragedStudentList='
					+ arrangedStudentList + '&initialRollNo='
					+ initialRollNo,
					beforeSend : function() {
						startCommonAjaxSpinner();

					},
					complete : function() {
						stopCommonAjaxSpinner();
					},
					dataType : 'json',
					type : 'POST',
					success : function(jArray) {
						jAlert(jArray[0].responseText
								+ "successfully! Total affected student: "
								+ (jArray.length - 1), "Success Message");
						closeRoleAllocationDialog();
						if (jArray[0].responseFlag.toString() == '1')
							setRollNoToStudentInGrid(jArray);
					},
					error : function() {

					}

			});
		} catch (e) {
			// ////alert(e);
		}
	}
}

function allocateDefaultRollNoToFresher() {

	//var arrangedStudentList = getAllStudentBatchId();
	var arrangedStudentList = new Array();
	$('.selectedStudent:checked').each(function(){
		//if(!($(this).hasClass('foreignExStudent')))
	//arrangedStudentList.push($(this).val());
		arrangedStudentList.push($(this).closest('tr').find('.hdnStudentBatchIdClnt').html());
	});
	var initialRollNoMale= $('#txtRoleInitialMale').val();
	var prefixMale= $('#txtRolePrefixMale').val();
	var suffixMale = $('#txtRoleSuffixMale').val();
	var initialRollNoFemale = $('#txtRoleInitialFemale').val();
	var prefixFemale = $('#txtRolePrefixFemale').val();
	var suffixFemale = $('#txtRoleSuffixFemale').val();

	var type = $('input[name = "rollNoAllocation"]:checked').val();
	if(type=='overall')
	{
		initialRollNoMale= $('#txtRoleInitial').val();
		prefixMale= $('#txtRolePrefix').val();
		suffixMale = $('#txtRoleSuffix').val();

		initialRollNoFemale = 0;
	}
	
	if (arrangedStudentList.length > 0 && !isNaN(parseInt(initialRollNoMale)) && !isNaN(parseInt(initialRollNoFemale))) {
		try {
			$.ajax({
				url : 'allocateRollToFresherStudent.json?arragedStudentList=' + arrangedStudentList + '&initialRollNoMale='+ initialRollNoMale+
				'&prefixMale='+prefixMale+'&suffixMale='+suffixMale+'&initialRollNoFemale='+ initialRollNoFemale+
				'&prefixFemale='+prefixFemale+'&suffixFemale='+suffixFemale+'&type='+type+'&separator=',
				beforeSend : function() {
					startCommonAjaxSpinner();

				},
				complete : function() {
					stopCommonAjaxSpinner();
				},
				dataType : 'json',
				type : 'POST',
				success : function(jArray) {
					jAlert(jArray[0].responseText
							+ "successfully! Total affected student: "
							+ (jArray.length - 1), "Success Message");
					closeRoleAllocationDialog();
					if (jArray[0].responseFlag.toString() == '1')
						setRollNoToStudentInGrid(jArray);
				},
				error : function() {

				}

			});
		} catch (e) {
			// ////alert(e);
		}
	}
}

/**
 * @since 29th June 2012
 * @param jArray
 *            jsonList which contains key and value pairs of studentId and
 *            rollNo
 */
function setRollNoToStudentInGrid(jArray) {
	var row   Count = $('#student-management-grid').jqGrid('getGridParam',
	'reccount');
	// ////alert("RowCount: "+rowCount);
	for ( var rowId = 1; rowId <= rowCount; rowId++) {
		rowObj = $('#student-management-grid').jqGrid('getRowData', rowId);
		if (rowObj.hdnStudentIdClnt.toString() == jArray[rowId].studentId
				.toString()) {
			$('#student-management-grid').jqGrid('setCell', rowId, 'rollNo',
					jArray[rowId].rollNo);
		}
	}
}

/**
 * @since 9th Jul 2012
 * @param fname
 *            first Name
 * @param mname
 *            middle Name
 * @param lname
 *            last name
 * @param email
 *            E-mail Id
 * @param roll
 *            roll No
 * @param mobNo
 *            mobile no of the student
 * @param semesterBatchId
 *            batchSemesterCapacity of the student. This will be valid if the
 *            student is not fresher
 */
function isValidEmailAddress(emailAddress) {
    var pattern = /^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i;
    return pattern.test(emailAddress);
};
function addStudentToDivision(fname, mname, lname, email, roll, mobNo, appliNo,
		semesterBatchId) {
	
	var applicationNo ="";
	if(appliNo != undefined){
		applicationNo =appliNo;
	}
	
	if($('#chkForeignerName').is(":checked")){
		var firstName =fname;
		var middleName =mname;
		var lastName =lname;
	}
	
	if(isValidEmailAddress(email)){
		
	}else{
		jAlert("Please enter valid email address !");
		return;
	}
	var parentDepartment = '';
	if (validateAddStudentDialog()) {
		try {
			if (isFresher()) {
				semesterBatchId = '';
			}
			var instiCourseInfo = $('#cbInstiCourseId').val();
			var instiCourseStrengthId = $('#cbAcademicBatch').val();
			instiCourseStrengthId = instiCourseStrengthId.split("-")[0];

			var passportNo = "";
			var AdmissionYear = "";
			var universityRegNo = "";
			if($("#chkNRI").is(":checked")){
				passportNo = $('#passportNo').val();
				AdmissionYear = $('#yearofAdmissionNRI').val();
				universityRegNo = $('#universityRegNo').val();
			}

			var gender = $('input[name = "Gender"]:checked').val();

			var isFresher1 = isFresher();

			if(!$('#trParentDepartmentRow').is(':hidden')){
				var parentDepartmentId = $('#cmbStudentParentDepartment').val();  
				parentDepartment = '&parentDepartmentId='+parentDepartmentId;
			}
			
			if($('#chkForeignerName').is(":checked")){
				var data = 'strStudentId=&instiCourseInfo=' + instiCourseInfo
				+ '&instiCourseStrengthId=' + instiCourseStrengthId
				+ '&semesterBatchId=' + semesterBatchId + '&firstName='
				+ firstName + '&middleName=' + middleName + '&lastName=' + lastName
				+ '&emailId=' + email + '&mobileNo=' + mobNo + '&rollNo='
				+ roll + '&isFresher=' + isFresher1+parentDepartment+'&AdmissionYear='+AdmissionYear+'&passportNo='+passportNo+'&gender='+gender+'&universityRegNo='+universityRegNo+'&applicationNo='+applicationNo;
			}else{
			var data = 'strStudentId=&instiCourseInfo=' + instiCourseInfo
			+ '&instiCourseStrengthId=' + instiCourseStrengthId
			+ '&semesterBatchId=' + semesterBatchId + '&firstName='
			+ fname + '&middleName=' + mname + '&lastName=' + lname
			+ '&emailId=' + email + '&mobileNo=' + mobNo + '&rollNo='
			+ roll + '&isFresher=' + isFresher1+parentDepartment+'&AdmissionYear='+AdmissionYear+'&passportNo='+passportNo+'&gender='+gender+'&universityRegNo='+universityRegNo+'&applicationNo='+applicationNo;
			}
			
			$.ajax({
				url : 'addEditStudent.json',
				data : data,
				dataType : 'json',
				type : 'POST',
				beforeSend : function() {
					$('#dialogAddStudent').find('#addStudentD').attr('disabled','disabled');
					startLoading();
				},
				complete : function() {
					$('#dialogAddStudent').find('#addStudentD').removeAttr('disabled');
					stopLoading();
				},
				success : function(jArray) {
					if (jArray[0].errorCode == '0') {
						if($('#addEditStudentNew').val()=='true' || $('#addEditStudentNew').val()==true || $('#isDevelopmentEnvironment').val()=='true' || $('#isDevelopmentEnvironment').val()==true){
							
						}else{
							var jObj = jArray[1];
							addStudentRecordGrid(jObj);
						}
						$('#btnStudentTableRefresh').trigger('click');
						showSuccessMessage('Response: Added successfully! ', 10000);

					} else {
						if(jArray[0].responseText != undefined && jArray[0].responseText != '')
							jAlert(jArray[0].responseText);
						else
							jAlert("Contact to Developer Team ! \n  Error Code.:#"+jArray[0].errorCode);
						//showErrorMessage(jArray[0].responseText,10000);
					}
				}, error:function(){
					jAlert('Server error: Please refresh the page and try again!!!');
				}
			});
		} catch (e) {
			// //alert(e);
		}
	} else {
		// showInformation("Some Error",12000);
	}
}

function addStudentRecordGrid(data) {
	//jQuery("#student-management-grid").addRowData(0, data, "first");
	
	var name = data.firstName + ' ' + data.middleName+' '+data.lastName;
	var rollNo = data.rollNo.toString() != ""?data.rollNo:"Not Assigned";
	var foreignExStyle = data.isForeignExchangeStudent == 'true' || data.isForeignExchangeStudent ? "style=\"background-color:#FCB9B9;\"" : "";
	var foreignExClass = data.isForeignExchangeStudent == 'true' || data.isForeignExchangeStudent ? "foreignExStudent" : "";
	var boiler = '<tr id="studentRow-'+data.studentId+'" class="studentRow" '+(foreignExStyle)+'>'
		+'<td>-</th>' //Serial No
		+'<th><input type="checkbox" class="selectedStudent '+foreignExClass+'" value="'+data.studentId+'" onclick="selectStudentBatchGrid(\'studentRow-'+data.studentId+'\')"></th>' //Check Box
		+'<td class="profilePhoto"><img class="pointer" height="35px" id="studentImg-'+data.studentId+'" width="35px" src="getStudentProfileImageById.json?id='+data.studentId+'"></th>' //Profile Pic
		+'<td class="hdnStudentIdClnt" style="display:none">'+data.studentId+'</td>' //Student Id
		+'<td class="hdnStudentBatchIdClnt" style="display:none">'+data.studentBatchId+'</td>' //Student Batch Id
		+'<td class="rollNo" >'+rollNo+'</td>' // Roll No
		+'<td class="firstName" style="display:none">'+data.firstName+'</td>' // Roll No
		+'<td class="middleName" style="display:none">'+data.middleName+'</td>' // Roll No
		+'<td class="lastName" style="display:none">'+data.lastName+'</td>' // Roll No
		+'<td class="name" width="20%" style="font-size:11.5px">'+name+'</td>' // Student Name
		+'<td class="email" style="">'+data.emailId+'</td>' // Email
		+'<td class="gender" style="">'+data.gender+'</td>' // Gender
		+'<td class="phoneNo" style="">'+data.alternetContactNumber+'</td>' // Mobile No
		+'<td class="subbatch" style="">'+data.status+'</td>' // Sub-Batch
		+'<td class="pcmMarks" style="text-align:right">'+data.pcmMarks+'</td>' // Physic Chem Maths Marks
		+'<td class="speli" style="">'+data.qualiSpecializationName+'</td>' // Specialization (for MBA students)
		+'<td class="parentDepartmentId" style="display:none">'+data.parentDepartmentName+'</td>' //Main Root Department
		+'<td class="deptPromotionId" style="display:none">'+data.deptPromotionId+'</td>' // Department Promotion ID
		+'<td class="parentInstituteCourseId" style="display:none">'+data.parentInstituteCourseId+'</td>'
	//	+'<td class="exportStatus">'+data.exportStatus+'</td>' // Parent Institute Course ID
		//+'<td class="editUserName"><a href="javascript:void(0)" title="Chanage User Name"><i class="icon-edit"></i>&nbsp;User Name</a></td>' // Edit User name
		+'<td><a href="javascript:void(0)" class="editStudent" title="Edit Record"><i class="icon-edit"></i></a></td>' // Edit student Button
		+'</tr>';
	
	$('.tblManageStudentGrid').find('tbody').prepend(boiler);
	
	gStudentsIds = new Array();
	gStudentBatchIds = new Array();
}


function studentInformationFormsForFsisPdf()
{  
	var instStrengthId = $('#cbAcademicBatch option:selected').val().split('-')[0];

    var studentIds = new Array();
	
	$('.selectedStudent:checked').each(function()
	{
		studentIds.push($(this).attr("value"));
	});
	
	window.open("studentInformationFormsForFsisPdf.json?studentIds="+studentIds+'&instStrengthId='+instStrengthId);
	
}

function validateAddStudentForm() {
	var customerIdentificationObj = $('#customerIdentificationObj').val();
	if(customerIdentificationObj != 'IMT_NAGPUR' && customerIdentificationObj != 'IMT_DUBAI' && customerIdentificationObj != 'IMT_GAZIABAD' && customerIdentificationObj != 'IMT_HYDERABAD' ){
	if(!$('#trParentDepartment').is(':hidden')){
		if($('#cmbParentDepartmentUpload').val() == '0'){
			jAlert('Please select parent department!!!');
			return false;
		}
	}
	}

	if (getSelectedInstituteCourseId() == '0') {
		jAlert('Please select course!');
		return false;
	} else if ($('#cbAcademicBatch').val().split("-")[0] == '0') {
		jAlert('Please select academic batch name!');
		return false;
	} else if (!isFresher()) {
		if ($('#cbSemesterId').val() == '0') {
			jAlert('Please select semester!');
			return false;
		} else if ($('#cbAcademicSessionId').val() == '0') {
			jAlert('Please select session!');
			return false;
		} else if ($('#cbBatchId').val() == '0') {
			jAlert('Please select division!');
			return false;
		}
	}
	return true;
}

function validateAddStudentDialog() {

	if(!$('#trParentDepartmentRow').is(':hidden')){
		if ($('#cmbStudentParentDepartment').val() == '0') {
			jAlert('Please select parent department!');
			return false;
		}	
	}

	if ($('#firstName').val().trim() == '') {
		jAlert('Please enter first name!');
		return false;
	}  else if ($('#emailId').val().trim() == '') {
		jAlert('Please enter email id!');
		return false;
	} else {
		return true;
	}
}

/**
 * @since 9th Jul 2012
 * @returns {Boolean}
 * @functionality this function has been used to check whether the student is
 *                fresher or not
 */
function isFresher() {
	if ($('#chkNewStudent').is(':checked') || $('#uploadAsApplicantId').is(':checked')) {
		return true;
	} else {
		return false;
	}
}

function allocateDivisionToStudent(studentInstiArray, semesterBatchId) {

	var sizeOfNewList = studentInstiArray.split(',').length;
	var studentHideDivToChechCall = $('#studentHideDivToChechCall').val();
	
	if(studentHideDivToChechCall=="true"){
		var studentHideDivToValidation = $('#studentHideDivToValidation').val();
		var capacity = studentHideDivToValidation.split('_')[0];
		var countOfStudent = studentHideDivToValidation.split('_')[1];
		var totalCount = eval(sizeOfNewList)+eval(countOfStudent);
		/*if(totalCount > capacity){
			jAlert("Student Current Count ("+totalCount+") Is Greater Than Capacity Of Batch ("+capacity+") !!!");
			return;
		}*/
	}
	
	if (studentInstiArray == undefined) {
		/**
		 * studenInstituteIds has to be taken and should be assigned in the
		 * studentInstiArray
		 */
	}
	var allocationType = '';
	if($('#gridAllocateDivCaptionHeader').hasClass('fresher')){
		allocationType = 'fresher';
	} else {
		allocationType = 'non-fresher';
	}
	/*studentInstiArray = new Array();
	$('input.selectedStudent:checked').each(function(){
		studentInstiArray.push($(this).val());
	});*/
	
	if(allocationType != '' && allocationType != undefined){
		if (studentInstiArray.length > 0) {
			if (semesterBatchId != undefined && semesterBatchId != '0' && semesterBatchId != '') {
				
				var WEFDate = $('#transferWEF').val();
				if (WEFDate != '') {
				try {
					
					var roleType= $('#roleNameFromHeaderlinktype').val();
				    var schemaLink = 'allocateDivisionToStudent.json';
				    if(roleType == "academicadmin"){
				        schemaLink = 'asd_allocateDivisionToStudent.json';
				    }else if(roleType == "headadmin"){
						schemaLink = 'ihe_allocateDivisionToStudent.json';
					}
					
					$.ajax({
						url : schemaLink+'?studentInstiArray='+ studentInstiArray+ '&semesterBatchId='+ semesterBatchId+
						'&allocationType='+allocationType+'&WEFDate='+WEFDate,
						dataType : 'json',
						type : 'POST',
						beforeSend:function(){
							$('#btnStudentDivisionAllocation').attr('disabled','disabled');
							$('#divStudentDivisionAllocationDialog').find('.preview').addClass('loading');
						},complete:function(){
							$('#btnStudentDivisionAllocation').removeAttr('disabled');
							$('#divStudentDivisionAllocationDialog').find('.preview').removeClass('loading');
						},
						success : function(jArray) {
							try{
								if (jArray[0].members.responseFlag.value = "1") {
									if ($('#chkNewStudent').is(':checked')) 
										showFresherStudentByBatch();
									else
										gStudentListJsonArray = jArray[1];
									
									showStudentListByCourseSemeserAndDivision();
									
									var message = jArray[0].members.responseParam.value+ " student(s) are successfully allocated to division.";
									if(jArray[0].members.studentList.value.length>0)
										message += '<br>Following students are not transfered as their attendance is already filled for dates after'+WEFDate+'<br>'+jArray[0].members.studentList.value;
										
									showSuccessMessage(jArray[0].members.responseParam.value+ " student(s) are successfully allocated to division: ",5000);
									
									
								}
								
							}catch(e){}
							jAlert(jArray[0].members.responseText.value);
							$('#divStudentDivisionAllocationDialog').modal('hide');
						},
						error : function() {

						}

					});

				} catch (e) {
					alert(e);
				}
			} else 
				jAlert('Please select the WEF Date','Warning');
			} else 
				jAlert('Please select the batch','Warning');
		} else {
			jAlert('First select the students!');
		}
	} else {
		//jAlert('No allocation type found!!! Please specify the allocation type','Error');
	}
}

/**
 * @since 12 Jul 2012
 * @f
 */
function doSomethingOnDivAllocationClick() {
	var batch = $('#cbAcademicBatch option:selected').text();
	$('#spnFresherOption').html('For fresher(' + batch + ') batch');
	$('#spnExistingOption').html('For existing(' + batch + ') batch');
}

/**
 * 
 */
function doSomethingOnPromotionClick() {
	var batch = $('#cbAcademicBatch option:selected').text();
	$('#spnDefaultPromotionRadioLabel').html(
			'Default promotion for ' + batch + ' batch');
	$('#btnGetStudentForPromotion').val('Get student for ' + batch + ' batch');
}
/**
 * @since 12 Jul 2012
 * @param instiCourseId
 * @param academicBatchId
 */
function getFresherStudentCredential(instiCourseId, academicBatchId) {
	getCurrentAcademicBatchDetailForFresher(instiCourseId, academicBatchId);
}

function getCurrentAcademicBatchDetailForFresher(instiCourseId, academicBatchId) {
	try {
		var flag = false;
		$('#cbSemesterId option').each(function() {
			if ($(this).val() == '1') {
				$('#txtSemesterId').data('semesterId', $(this).val());
				$('#txtSemesterId').val($(this).text());
				flag = true;
			}
		});
		if (flag) {
			$
			.ajax({
				url : 'getCurrentAcademicBatchForFresher.json?instiCourseId='
					+ instiCourseId
					+ '&academicBatchId='
					+ academicBatchId,
					dataType : 'json',
					type : 'GET',
					success : function(jArray) {
						var sessionList = jArray[0];
						var divisionList = jArray[1];
						var studentList = jArray[2];
						var divisionListBoilerplate = '';
						if (sessionList.length > 0) {
							var yrBegining = sessionList[0]['academicYearBegining'];
							var yrEndining = sessionList[0]['academicYearEnd'];
							$('#txtCurrAcademicSession').val(
									yrBegining + '-' + yrEndining);
						}
						$('#txtCurrAcademicSession').data(
								'currentAcademicSessionId',
								sessionList[0]['semesterBatchId']);
						for ( var i = 0; i < divisionList.length; i++) {
							if (divisionList[i]['batchName'] != undefined)
								divisionListBoilerplate += '<option value = '
									+ divisionList[i]['semesterBatchId']
							+ '>'
							+ divisionList[i]['batchName']
							+ '</option>';
							else
								divisionListBoilerplate += '<option value = '
									+ divisionList[i]['semesterBatchId']
							+ '>'
							+ divisionList[i]['batchModel']['batchName']
							+ '</option>';
						}
						$('#cbTargetBatchId').html(divisionListBoilerplate);
						gStudentListJsonArray = studentList;
						showStudentListInGrid();
					},
					error : function() {

					}
			});
		} else {
			jAlert('Division has not been configured for Semester-1. Kindly create divisions for Term 1 first.');
		}
	} catch (e) {

	}
}

function verifyStudentPromotion(batchId) {
	try {
		$.ajax({
			url : 'checkSemesterForActiveInactive.json?strengthId=' + batchId,
			dataType : 'json',
			type : 'GET',
			success : function(jArray) {
			}
		});
	} catch (e) {
	}
}
/**
 * @since 20th Jul 2012
 * @functionality logic for hide and show promoteStudentButton
 */
function showPromoteStudentOption() {
	showStudentListByBatch();
	var rowCount = $('#student-management-grid').jqGrid('getGridParam',
	'reccount');
	if (rowCount > 0) {
		$('#trPromoteStudent').show();
	} else {
		$('#trPromoteStudent').hide();
		jAlert('No student found for this batch');
	}
}

/**
 * 
 * @param studentlist
 *            array of the selected student
 * @param batchId
 *            target batchId
 */
function promotStudent(studentlist, batchId) {
	//alert("StudentId: " + studentlist + " batchId: " + batchId);
	if(studentlist.length > 0){
		$.ajax({
			url : 'studentPromotion.json',
			data : {
				studentList : studentlist,
				batchId : batchId
			},
			dataType : 'json',
			type : 'POST',
			beforeSend : function() {
				$('#divStudentPromotionDialogBody').find('.btnPromoteStudent').hide();
				$('#divStudentPromotionDialogBody').find('.loaderimg').show();

			},
			complete : function() {
				$('#divStudentPromotionDialogBody').find('.btnPromoteStudent').show();
				$('#divStudentPromotionDialogBody').find('.loaderimg').hide();
			},
			success : function(jArray) {
				if(jArray.length == 2){
					jAlert(jArray[0].members.responseText.value,'success');
					showStudentListInTargetPromotionGrid(jArray[1]);
					showStudentInSourceBatch();
				} else {
					jAlert("",'error');
				}
			}
		});
	} else {
		jAlert('Please select student to promot!!!','warning');
	}
}

/**
 * 
 * @param studentListArray
 *            selected student list
 */
function allocateDefaultSubjectToStudentList(studentListArray) {
	var batchCapacityId = getSemesterBatchId();
	if (batchCapacityId == '0') {
		jAlert('Select division!');
	} else if (studentListArray.length <= 0) {
		jAlert('Select student(s)!');
	} else {
		try {
			$.ajax({
				url : 'studentSubjectAllocation.json',
				data : {
					studentListArray : studentListArray,
					batchCapacityId : batchCapacityId
				},
				type : 'POST',
				dataType : 'json',
				beforeSend : function() {
					startCommonAjaxSpinner();
				},
				complete : function() {
					stopCommonAjaxSpinner();
				},
				success : function(jArray) {
					jAlert(jArray[0].members.responseText.value);
				},
				error : function() {

				}
			});
		} catch (e) {

		}
	}
}

function getBlockedStudent(instituteCourseId, academicBatchId, semesterID) {
	try {
		if (instituteCourseId != '0' && academicBatchId != '0'
			&& semesterID != '0') {
			$.ajax({
				url : 'getBlockedStudent.json?instituteCourseId='
					+ instituteCourseId + '&academicBatchId='
					+ academicBatchId + '&semesterId=' + semesterID,
					dataType : 'json',
					success : function(jArray) {
						gStudentListJsonArray = jArray;
						showStudentListInGrid();
					},
					error : function() {

					}
			});
		}
	} catch (e) {

	}
}

function paintStudentManagementGrid() {
	var boiler = '<table id="student-management-grid"></table>'
		+ '<div id="student-management-toolbar"></div>';
	$('#divStudentManagementGrid').html(boiler);
}






function removeStudentManagementGrid() {
	$('#divStudentManagementGrid').html('');
}

/**
 * @since
 */
function showStudentPromotionDialog() {
	var batchId = $('#cbAcademicBatch').val().split('-')[0];//Academic Batch
	var semId = parseInt($('#cbAcademicBatch').val().split('-')[1]);
	getBlockedDivisionListByStrengthAndSemesterId(batchId,semId - 1,function(previousDivisionArray){
		getCurrentDivisionByInstituteCourseStrengthId(batchId,function(runningDivisionjArray){
			if(previousDivisionArray.length > 0){

				if(runningDivisionjArray.length > 0){
					//var blockedDivArray = new Array();
					var prevSemName = previousDivisionArray[0].semesterName;
					var currSemName = runningDivisionjArray[0].semesterName;
					/*for(var i = 0 ; i < previousDivisionArray.length;i++){
						blockedDivArray.push(previousDivisionArray[i].semesterBatchId);
					}*/
					//checkStudentExistensInPreviousDivision(blockedDivArray,function(flag){
					var boiler = 

						'<table class = "table table-bordered table-condensed" style="margin-top:-10px;width:100%" >'
						+ '<tbody>'
						//+ '<tr>'
						//+ '<th colspan = "2" id = "tdPromotionHeader"></th>'
						//+ '</tr>'
						+ '<tr>'
						+ '<th width="20%">Source batch/division&nbsp;('+prevSemName+')</th>'
						+ '<td width="30%"><select class="" title = "Select Division/Batch to promote" id = "cbPromotionBatch" onchange = "showStudentInSourceBatch()"><option value = "0">Select</option></select></td>'
						+ '<th width="20%">Target batch/division&nbsp;('+currSemName+')</th>'
						+ '<td width="30%"><select class="" title = "Select Division/Batch to promote" id = "cbBatchId" onchange = "showStudentInTargetBatch()"><option value = "0">Select</option></select></td>'
						+ '</tr>'
						+ '</tbody>'
						+ '</table>'
						+ '<table class="table table-bordered table-condensed" style="margin-top:0px;height:320px">'
						+ '</tbody>'
						+ '<tr>'
						+ '<td width = "45%">'
						+ '	<table id="student-promotion-management-grid-source"></table>'
						+ '<div id="student-promotion-management-toolbar-source"></div>'
						+ '</td>'
						+ '<td width = "10%" style = "text-align:center">'
						+ '<input type = "button" class = "btn btn-inverse btn-mini btnPromoteStudent" value = "Promot" />'
						+ '<img  src="img/ajax-loader-moving.gif" class="loaderimg" style="display:none">'
						+ '</td>' + '<td width = "45%">'
						+ '<table id="student-promotion-management-grid-target"></table>'
						+ '<div id="student-promotion-management-toolbar-target"></div>'
						+ '</td>' + '</tr>' + '</tbody>' + '</table>';
					$('#divStudentPromotionDialogBody').html(boiler);
					initManageStudentPromotionSourceGrid();
					initManageStudentPromotionTargetGrid();
					$('#divStudentPromotionDialog').modal('show');
					$('#divStudentManagementGrid').hide();
					showDivisionInPromotionGrid(previousDivisionArray);
					showDivisionInTargetComboxInGrid(runningDivisionjArray);
					//showStudentListInTargetPromotionGrid();
					$('.btnPromoteStudent').click(function(){
						if($('#cbPromotionBatch').val() != '0'){
							jConfirm('Are you sure to promote?','Confirmation',function(flag){
								if(flag){
									promotStudent(getSelectedStudentToPromot('student-promotion-management-grid-source'),$('#cbBatchId').val().split('-')[2]);
								}
							});
						} else {
							jAlert('Please select division');
						}

					});
				} else {
					jAlert('Current Class has no running division! Please check the current Class division.','error');	
				}
			} else {
				jAlert('Previous Class has no blocked division! Please check the previous Class division.','error');
			}
		});
	});


}

function setStudentPromotionGridTargetTitle(text) {
	jQuery('#student-promotion-management-grid-target').jqGrid('setCaption',text);
}


function setStudentPromotionGridSourceTitle(text) {
	jQuery('#student-promotion-management-grid-source').jqGrid('setCaption',text);
}


function closeStudentPromotionDialog() {
	$('#divStudentPromotionDialog').html('');
	$('#divStudentPromotionDialog').dialog('close');
	$('#divStudentManagementGrid').show();
}

var gSourceSemName = '';
var gTargetSemName = '';
function showDivisionInPromotionGrid(jArray) {
	var boiler = '<option value = "0">Select</option>';
	for(var i = 0 ; i < jArray.length ; i++){
		boiler += '<option value = "'+jArray[i]['batchId']+'-'+jArray[i]['capacity']+'-'+jArray[i]['semesterBatchId']+'-'+jArray[i]['pattern']+'">'+ jArray[i]['batchName'] + '</option>';
		gSourceSemName = jArray[i]['semesterName'];
	}
	$('#cbPromotionBatch').html(boiler);
	var targetSemName = $('#cbAcademicBatch :selected').text();
	var targetBatchName = $('#cbBatchId :selected').text();
	var sourceBatchName = $('#cbPromotionBatch :selected').text();
	$('#tdPromotionHeader').html('Promotion of student from <u>Class '+gSourceSemName+ '</u> to <u>Class:  '+targetSemName+'</u>');
	setStudentPromotionGridTargetTitle("Term: "+targetSemName+", Division: "+targetBatchName);
	setStudentPromotionGridSourceTitle("Term: "+gSourceSemName+", Division: "+sourceBatchName);
}


function showDivisionInTargetComboxInGrid(jArray){
	var boiler = '<option value = "0">Select</option>';
	for(var i = 0 ; i < jArray.length ; i++){
		boiler += '<option value = "'+jArray[i]['batchId']+'-'+jArray[i]['capacity']+'-'+jArray[i]['semesterBatchId']+'-'+jArray[i]['pattern']+'">'+ jArray[i]['userBatchName'] + '</option>';
		gTargetSemName = jArray[i]['semesterName'];
	}
	$('#cbBatchId').html(boiler);
}

/**
 * Unblock the year down student and update the batchSemesterCapacityId with
 * selected one from the interface
 * 
 * @param studentBatchIds
 *            comma separated studenBatchId
 * @param divisionId
 *            selected batchSemesterCapacityId
 */
function unblockStudentYearDownStudent(studentBatchIds, divisionId) {
	var len = studentBatchIds.split(',').length;
	if (len > 0) {
		if (divisionId != '0') {
			try {
				$.ajax({
					url : 'unBlockedStudent.json',
					data : {
						studentBatchIds : studentBatchIds,
						divisionId : divisionId
					},
					dataType : 'json',
					type : 'POST',
					success : function(jArray) {
						var flag = jArray[0].members.responseFlag.value;
						if (flag == '1') {
							var len = jArray[1].length;
							showStudentListByCourseSemeserAndDivision();
							showSuccessMessage(
									len
									+ ' student(s) have been allocated to division '
									+ getDivisionName(), 30000);
						} else {
							showErrorMessage('Allocation failed!',
									30000);
						}
					}
				});
			} catch (e) {

			}
		} else {
			jAlert('Select division!');
		}
	} else {
		jAlert('Select student!');
	}
}

function validateStudentUpdate(value, colName) {

	if (colName == 'status') {
		jConfirm('Are you sure?', function(response) {
			if (response) {
				return [ true, "" ];
			} else {
				return [ false, "" ];
			}
		});
	}

}

function showTargetBatchDialog() {
	$('#divStudentDivisionAllocationDialog').modal('show');
}


function showStudentInSourceBatch(){
	var batchId = $('#cbPromotionBatch').val().split('-')[2];
	if(batchId != '0') {
		var sourceBatchName = $('#cbPromotionBatch :selected').text();
		setStudentPromotionGridSourceTitle("Class: "+gSourceSemName+", Division: "+sourceBatchName);
		getStudentBySemesterBatchId(batchId,function(jArray){
			showStudentListInSourcePromotionGrid(jArray);
		});
	}

}

function showStudentInTargetBatch(){
	var batchId = $('#cbBatchId').val().split('-')[2];
	if(batchId != '0') {
		var targetBatchName = $('#cbBatchId :selected').text();
		setStudentPromotionGridTargetTitle("Class: "+gTargetSemName+", Division: "+targetBatchName);
		getStudentBySemesterBatchId(batchId,function(jArray){
			showStudentListInTargetPromotionGrid(jArray);
		});
	}

}

function getStudentBySemesterBatchId(semesterBatchId,callback){

	$.ajax({
		url:'studentListSP.json?semesterBatchId=' + semesterBatchId,
		dataType:'json',
		async : false,
		beforeSend : function() {
			startCommonAjaxSpinner();
		},
		complete : function() {
			stopCommonAjaxSpinner();
		},
		success:function(jArray){
			callback(jArray);
		}
	});
}

function getBlockedDivisionListByStrengthAndSemesterId(strengthId,semesterId,callback){
	$.ajax({
		url:'getBlockedDivisionListByStrengthAndSemesterId.json?strengthId='+strengthId+'&semesterId='+semesterId,
		dataType:'json',
		beforeSend : function() {
			startCommonAjaxSpinner();
		},
		complete : function() {
			stopCommonAjaxSpinner();
		},
		success:function(jArray){
			callback(jArray);
		}
	});
}

//getStudentPersonalInfoById.htm
function getStudentPersonalInfoById(studentId,instituteCourseStrengthId,callback){
	$.ajax({
		url:'getStudentPersonalInfoByStudentId.json',
		data:'studentId='+studentId+'&instituteCourseStrengthId='+instituteCourseStrengthId,
		type:'GET',
		dataType:'json',
		success:function(jObject){
			try{
				callback(jObject);
			}catch(e){}
		}
	});
}
/**
 * @param rowId
 */

function showStudentCurrentInfoDialog(studentId){

	$('#dialogEditStudent').modal('show');
	$('#frmEditStudent').reset();
	var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	getStudentPersonalInfoById(studentId,instituteCourseStrengthId,function(jObject){
		var emailId = jObject.emailId;
		$('#studentPesonalDetailId').val(studentId);
		$('#emailIdEditCurrent').val(emailId);
	});
}

function editStudentPersonalInfoById(){
	jConfirm("Do you want to change username?", "Confirm", function(r){
		if(r){
			var email = $('#emailIdEditChanged').val();
			var filter = /^[a-zA-Z0-9]+[a-zA-Z0-9_.-]+[a-zA-Z0-9_-]+@[a-zA-Z0-9]+[a-zA-Z0-9.-]+[a-zA-Z0-9]+.[a-z]{2,4}$/;
			if(email == "" || !filter.test(email)){
				jAlert("Please enter valid email id");
				return false;
			}			
			$.ajax({
				url:'editStudentPersonalInfoByStudentId.json',
				data:$('#frmEditStudent').serialize(),
				dataType:'json',
				type:'POST',
				success:function(jObject){
					//jAlert('User name updated successfully!');
					if(jObject.responseFlag == '1'){
						jAlert('User name updated successfully');
						//$('#dialogEditStudent').modal('hide');
						//showStudentListByCourseSemeserAndDivision();
					} else if(jObject.responseFlag == '0'){
						jAlert('Email id already exist');
					}
				},error:function(){
					alert('In error');
				}
			});
		}
	});
}

function sendRegsitrationMailToStudent(jArray,isUploadAsApplicant){
	var emailIdsArray = new Array();

	for(var i = 0 ; i < jArray.length ; i++){
		emailIdsArray.push(jArray[i]);
	}
	
	$.ajax({
		url:'sendRegsitrationMailToStudent.json',
		data:{emailIdsArray:emailIdsArray.toString(),isUploadAsApplicant:isUploadAsApplicant},
		dataType:'json',
		success:function(jArray){
			if(jArray.length > 0){
				$('tr#uploadResponseRow').find('.response').removeClass('alert-error');
				$('tr#uploadResponseRow').find('.response').removeClass('alert-info');
				$('tr#uploadResponseRow').find('.response').html(
						'<button type="button" class="close" onclick="$(\'#uploadResponseRow\').hide()">X</button><strong>Mail sent with some failure.</strong><br />'+jArray+''
				);
			} else {
				$('tr#uploadResponseRow').find('.response').removeClass('alert-error');
				$('tr#uploadResponseRow').find('.response').addClass('alert-info');
				$('tr#uploadResponseRow').find('.response').html(
						'<button type="button" class="close" onclick="$(\'#uploadResponseRow\').hide()">X</button><strong>Mail sent Successfully</strong>'
				);
			}
		}
	});
}

/**
 * @since 16 Apr 2013
 */
function refreshManageStudentPage() {
	/*var check = "";
	$('#chkNewStudent').is(':checked');
		check = "unchecked";
*/
	$('#chkNewStudent').attr('checked',false);
	if($('#cbSemesterId option')[1] != undefined) {
		$('#cbSemesterId option')[1].selected = true;
		$('#cbSemesterId').trigger('change');
		if($('#cbAcademicSessionId option')[1] != undefined){
			$('#cbAcademicSessionId option')[1].selected = true;
			$('#cbAcademicSessionId').trigger('change');
			if($('#cbBatchId option')[1] != undefined){
				$('#cbBatchId option')[1].selected = true;
				$('#cbBatchId').trigger('change');
			} else {
				jAlert('No division found for selected batch');
			}
		} else {
			jAlert('No active session found for selected batch');
		}
	} else {
		jAlert('No active Class found for selected batch');
	}
}

function checkForActiveSemester(){

	checkProgramIsForSchool();

	$('#smsForFresher').hide();
	$('#emailForFresher').hide();
	
	var instituteCourseId = $('#cbInstiCourseId').val();
	var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	var customerIdentificationObj = $('#customerHelper').val();
	if(customerIdentificationObj != undefined && (customerIdentificationObj == 'IMT_NAGPUR' ||customerIdentificationObj == 'IMT_GAZIABAD' || customerIdentificationObj == 'IMT_HYDERABAD' ))
	{
	startUploading(instituteCourseId,instituteCourseStrengthId);
	}
	var message = '';
	populateSemesterByBatchAndInstituteCourseId(function(jArray) {
		initManageStudentGrid();
		if(jArray.length > 0){
			refreshManageStudentPage();
			/** This below code helps in detecting whether grid student are fresher or allocated ***/
			$('#gridAllocateDivCaptionHeader').removeClass('fresher');
			$('#gridAllocateDivCaptionHeader').addClass('non-fresher');
			var batchName = $('#cbAcademicBatch option:selected').text();
			var semesterName = $('#cbSemesterId option:selected').text();
			var sessionName = $('#cbAcademicSessionId option:selected').text();
			var divisionName = $('#cbBatchId option:selected').text();
			message = batchName+' &raquo; '+semesterName+' &raquo; '+divisionName;
		} else {
			showFresherStudentByBatch();
			/** This below code helps in detecting whether grid student are fresher or allocated ***/
			$('#gridAllocateDivCaptionHeader').removeClass('non-fresher');
			$('#gridAllocateDivCaptionHeader').addClass('fresher');
			var batchName = $('#cbAcademicBatch option:selected').text();
			message = batchName;
		}

		$('#trShiftType').hide();
		$('#btnAllocateDivisionRollNos').hide();

		checkForPromotionInDepartment(function(jObject){
			if(jObject.hasPromotionInDepartment){
				var customerIdentificationObj = $('#customerIdentificationObj').val();
				if(customerIdentificationObj != 'IMT_NAGPUR' && customerIdentificationObj != 'IMT_DUBAI' && customerIdentificationObj != 'IMT_GAZIABAD' && customerIdentificationObj != 'IMT_HYDERABAD' ){
				$('#trParentDepartment').show();
				var boiler  = '';
				$('#cbInstiCourseId option').each(function(){
					var val = $(this).val().split('-')[0];
					var text = $(this).text();
					boiler += '<option value="'+val+'">'+text+'</option>';
				});
				$('#cmbParentDepartmentUpload').html(boiler);
				convertComboToSearchable('#cmbParentDepartmentUpload');
				}
			} else {
				$('#trParentDepartment').hide();
			}
		});
		$('.divStudentListGridInfo').html(`<span style="color: #03b1a9;"><b>${message}</b></span>
	<hr style="border-bottom: 1px solid #b6b6b675;margin-top: 3px;border-bottom: 1px solid var(--juno-green)">`)
	});
} 


function showStudentUploadRow(){
	checkForPromotionInDepartment(function(jObject){
		var customerIdentificationObj = $('#customerIdentificationObj').val();
		if(customerIdentificationObj != 'IMT_NAGPUR' && 
			customerIdentificationObj != 'IMT_DUBAI' && 
			customerIdentificationObj != 'IMT_GAZIABAD' && 
			customerIdentificationObj != 'IMT_HYDERABAD' &&
			customerIdentificationObj != 'INDIRA_PUNE'){
			if(jObject.hasPromotionInDepartment){
				$('#trParentDepartment').show();
			} else {
				$('#trParentDepartment').hide();
			}
		}
		$('#trUploadStudentRow').show('slow');
	});
}



function getStudentPersonalInfoByStudentId(studentId,instituteCourseStrengthId,callback){
	$.ajax({
		url:'getStudentPersonalInfoByStudentId.json',
		dataType:'json',
		data:'studentId='+studentId+'&instituteCourseStrengthId='+instituteCourseStrengthId,
		success:function(jObject){
			try{
				callback(jObject);
			}catch(e){}
		}
	});
}

function getStudentPersonalInfoByStudentIdnew(studentId,instituteCourseStrengthId,oldFeeStructureId,callback){
	$.ajax({
		url:'getStudentPersonalInfoByStudentIdFeeItemId.json',
		dataType:'json',
		data:'studentId='+studentId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&oldFeeStructureId='+oldFeeStructureId,
		beforeSend : function() {
			startCommonAjaxSpinner();
		},
		complete : function() {
			stopCommonAjaxSpinner();
		},
		success:function(jObject){
			try{
				callback(jObject);
			}catch(e){}
		}
	});
}
function showSelectedStudentInSelectedList(studentObject){

	/*var studentId = studentObject.studentId;
	var studentRoll = studentObject.studentRoll;
	var studentName = studentObject.studentName;

	var boiler = 
		'<tr>'+
			'<td>'+studentId+'</td>'+
			'<td>'++'</td>'+
			'<td></td>'+
		'</tr>';*/
}


function getDivisionForStudentDivisionAllocation(){
	var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	getCurrentDivisionByInstituteCourseStrengthId(instituteCourseStrengthId,function(runningDivisionjArray){
		if(runningDivisionjArray.length > 0){
			var semesterName = runningDivisionjArray[0].semesterName;
			var sessionName = runningDivisionjArray[0].academicYearBegining+"-"+runningDivisionjArray[0].academicYearEnd;
			var divisionName = runningDivisionjArray[0].userBatchName;
			message = semesterName +' &raquo; '+divisionName;
			$('.divStudentListGridInfo').html(`<span style="color: #03b1a9;"><b>${message}</b></span>
	<hr style="border-bottom: 1px solid #b6b6b675;margin-top: 3px;border-bottom: 1px solid var(--juno-green)">`)
			populateCurrentDivisionByInstituteCourseStrengthId(runningDivisionjArray,'cbTargetBatchId');
		}
	});
}

function resetStudentUserPassword(studentId,studentName){
	jConfirm('Are you sure to reset password of: '+studentName,'Confirmation',function(flag){
		if(flag){
			$.ajax({
				url:'resetStudentPassword.json',
				data:'studentId='+studentId,
				type:'POST',
				success:function(jObj){
					jAlert('Password has been reset successfully!!!');
				},error:function(){
					jAlert('Server error: Please refresh the page and try again!!!');
				}
			});	
		}
	});
}


function resetRollNoOfStudentByDivision(){
	var semesterBatchId = $('#cbBatchId').val().split('-')[2];

	if(semesterBatchId != undefined){
		jConfirm('Are you sure to blank the roll nos of all students?','Confirmation',function(flag){
			if(flag){
				var semesterBatchId = $('#cbBatchId').val().split('-')[2];
				$.ajax({
					url:'resetStudentRollNo.json',
					data:'semesterBatchId='+semesterBatchId,
					type:'POST',
					dataType:'json',
					beforeSend : function() {
						startCommonAjaxSpinner();
					},
					complete : function() {
						stopCommonAjaxSpinner();
					},
					success:function(jObj){
						if(jObj.responseFlag.toString() == '1'){
							showStudentListByCourseSemeserAndDivision();
							jAlert(jObj.responseText);
						} else {
							jAlert('Error occurred while removing roll number of the students!!!');
						}
					},error:function(){
						jAlert('Server error: Please refresh the page and try again!!!');
					}
				});	
			}
		});
	} else {
		
		var studentIdArray = new Array();
		$('.selectedStudent:checked').each(function(){
			studentIdArray.push($(this).val());
		});
		
		if(studentIdArray.length<1){
			jAlert("Please select at least one student!!!");
			return;
		}
		
		jConfirm('Are you sure to blank the roll nos of all students?','Confirmation',function(flag){
			if(flag){
				$.ajax({
					url:'resetStudentRollNoNewIfSemesterBatchIdNotFound.json',
					data:{studentIdArray:studentIdArray.toString()},
					type:'POST',
					dataType:'json',
					beforeSend : function() {
						startCommonAjaxSpinner();
					},
					complete : function() {
						stopCommonAjaxSpinner();
					},
					success:function(jObj){
						if(jObj.responseFlag.toString() == '1'){
							showStudentListByCourseSemeserAndDivision();
							jAlert(jObj.responseText);
						} else {
							jAlert('Error occurred while removing roll number of the students!!!');
						}
					},error:function(){
						jAlert('Server error: Please refresh the page and try again!!!');
					}
				});	
			}
		});
	}
}

function recoverDeletedStudentByDivision(){
	var semesterBatchId = $('#cbBatchId').val().split('-')[2];

	if(semesterBatchId != undefined){

		jConfirm('Are you sure to recover?','Confirmation',function(flag){
			if(flag){
				var semesterBatchId = $('#cbBatchId').val().split('-')[2];
				$.ajax({
					url:'recoverStudentListByDivision.json',
					data:'semesterBatchId='+semesterBatchId,
					type:'POST',
					dataType:'json',
					beforeSend : function() {
						startCommonAjaxSpinner();
					},
					complete : function() {
						stopCommonAjaxSpinner();
					},
					success:function(jObj){
						if(jObj.responseFlag.toString() == '1'){
							showStudentListByCourseSemeserAndDivision();
							jAlert(jObj.responseText);
						} else {
							jAlert('Error occurred while removing roll number of the students!!!');
						}
					},error:function(){
						jAlert('Server error: Please refresh the page and try again!!!');
					}
				});	
			}
		});
	} else {
		jAlert('Please select division!!!');
	}
}

function getBlockedStudentListByDepartment(instituteCourseId,callback){
	$.ajax({
		url:'getBlockedStudentListByDepartmentId.json',
		dataType:'json',
		data:'instituteCourseId='+instituteCourseId,
		type:'POST',
		success:function(jArray){
			callback(jArray);
		},error:function(){
			jAlert('Server error: Please refresh the page and try again!!!');
		}
	});
}

function showAdmissionCancelledStudentListByDepartment(instituteCourseId,callback) {
	$.ajax({
		url:'getAdmissionCancelledStudentListByDepartmentId.json',
		dataType:'json',
		data:'instituteCourseId='+instituteCourseId,
		type:'POST',
		success:function(jArray){
			callback(jArray);
		},error:function(){
			jAlert('Server error: Please refresh the page and try again!!!');
		}
	});
}

function getYearDownStudentListByDepartmentId(instituteCourseId,callback) {
	$.ajax({
		url:'getYearDownStudentListByDepartmentId.json',
		dataType:'json',
		data:'instituteCourseId='+instituteCourseId,
		type:'GET',
		success:function(jArray){
			callback(jArray);
		},error:function(){
			jAlert('Server error: Please refresh the page and try again!!!');
		}
	});
}


function getCurrentDivisionByInstituteCourseStrengthIdForTransferDivision(instituteCourseStrengthId,divisionId,callback){
	try{
		$.ajax({
			url:'getDivisionListByInstituteCourseStrengthIdForTransfer.json',
			dataType:'json',
			data:'instiCourseStrengthId='+instituteCourseStrengthId+'&currentDivisionId='+divisionId,
			beforeSend:function(){},
			complete:function(){},
			success:function(jArray){
				callback(jArray);
			}
		});
	}catch(e){}
}

function showBreakStudentListByDepartment(instituteCourseId,callback) {
	$.ajax({
		url:'getBreakStudentListByDepartmentId.json',
		dataType:'json',
		data:'instituteCourseId='+instituteCourseId,
		type:'POST',
		success:function(jArray){
			callback(jArray);
		},error:function(){
			jAlert('Server error: Please refresh the page and try again!!!');
		}
	});
}

function showLeftStudentListByDepartment(instituteCourseId,callback) {
	$.ajax({
		url:'getLeftStudentListByDepartmentId.json',
		dataType:'json',
		data:'instituteCourseId='+instituteCourseId,
		type:'POST',
		beforeSend : function() {
			startCommonAjaxSpinner();
		},
		complete : function() {
			stopCommonAjaxSpinner();
		},
		success:function(jArray){
			callback(jArray);
		},error:function(){
			jAlert('Server error: Please refresh the page and try again!!!');
		}
	});
}

function showStudentSubjectAllocationPage() {
	
	var deptVal= $('#cbInstiCourseId').val();
	var batchVal= $('#cbAcademicBatch').val();
	var batchText= $('#cbAcademicBatch option:selected').text();
	var semesterVal= $('#cbSemesterId').val();
	//var sesVal= $('#cbAcademicSessionId').val();
	var divisionVal= $('#cbBatchId').val();

	var temp1 = batchText;
	var temp2 = semesterVal;
	var temp3 = batchVal.split('-')[0];

	var temp = temp1+'$'+temp2+'$'+temp3;



	if($('#hdnUserRole').val() == 'empadmin') 
		window.open('fac_hodemployee.htm?action=allocateSubject&redirected=yes&dp='+deptVal+'&b='+temp+'&d='+divisionVal,'_blank');
	if($('#hdnUserRole').val() == 'headadmin') 
		window.open('ihe_hodemployee.htm?action=allocateSubject&redirected=yes&dp='+deptVal+'&b='+temp+'&d='+divisionVal,'_blank');
	if($('#hdnUserRole').val() == 'academicadmin') 
		window.open('asd_hodemployee.htm?action=allocateSubject&redirected=yes&dp='+deptVal+'&b='+temp+'&d='+divisionVal,'_blank');
	if($('#hdnUserRole').val() == 'admissionadmin') 
		window.open('asd_hodemployee.htm?action=allocateSubject&redirected=yes&dp='+deptVal+'&b='+temp+'&d='+divisionVal,'_blank');
	if($('#hdnUserRole').val() == 'regadmin') 
		window.open('asd_hodemployee.htm?action=allocateSubject&redirected=yes&dp='+deptVal+'&b='+temp+'&d='+divisionVal,'_blank');
}

function getBlockedStudentListDialog(semesterBatchId,callback){
	if(semesterBatchId != undefined){
		try{
			$.ajax({
				url:'getBlockedStudentListBySemesterBatchId.json',
				dataType:'json',
				data:'semesterBatchId='+semesterBatchId,
				type:'POST',
				beforeSend:function(){
					$('#unBlockStudentDialog').find('.preview-large').addClass('loading-large');
				},complete:function(){
					$('#unBlockStudentDialog').find('.preview-large').removeClass('loading-large');
				},
				success:function(jArray){
					callback(jArray);
				},error:function(){
					jAlert('Server error: Please refresh the page try again.');
				}
			});

		}catch(e){}
	} else {
		jAlert('Please select division!!!','Error');
		return;
	}
}

function showBlockedStudentListDialog(){
	var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	$('#divBlockedStudentList').html('<div class="preview-large"></div>');
	$('#unBlockStudentDialog').modal('show');
	getBlockedStudentListDialog(semesterBatchId,function(jArrayList){
		var studentJArray = jArrayList.blockedStudentList;
		//alert(studentJArray.length);
		if(studentJArray.length > 0 ){
			var boiler = '<table  class="table table-bordered table-condensed" id = "tblBlockedStudentList">';
			boiler += '<thead>';
			boiler += '<tr>';
			boiler += '<th style="vertical-align:middle;text-align:center" width="40px"></th>';
			boiler += '<th style="vertical-align:middle;text-align:center" width="80px;">Roll No.</th>';
			boiler += '<th style="vertical-align:middle;text-align:center" width="40px;"></th>';
			boiler += '<th style="vertical-align:middle;text-align:center" width="200px;">Name</th>';
			boiler += '<th style="vertical-align:middle;text-align:center" width="80px;">Current Status</th>';
			boiler += '<th style="vertical-align:middle;text-align:center" width="*"></th>';
			boiler += '</tr>';
			boiler += '</thead>';
			boiler += '<tbody>';
			for(var i = 0 ; i < studentJArray.length ; i++) {
				var rollNo = studentJArray[i].rollNo!=undefined?studentJArray[i].rollNo:"Un-available"; 
				boiler += '<tr id = "trStudentRow-'+studentJArray[i].studentBatchId+'">';
				boiler += '<td width="40px;" style="vertical-align:middle;text-align:center"><input type="checkbox" class="selectedStudentStatus"></td>';
				boiler += '<td width="80px;" style="vertical-align:middle;text-align:center" class="rollNo">'+rollNo+'</td>';

				boiler += '<td width="40px;" style="vertical-align:middle;text-align:center" class="profilePhoto"><div class="thumbnail" style="width:"42px;heigth:42px"><img src="getStudentProfileImageById.json?id='+studentJArray[i].studentId+'"><div></td>';
				boiler += '<td width="200px;" style="vertical-align:middle;font-weight:bold;" class="name">'+studentJArray[i].name+'</td>';
				boiler += '<td width="80px;" style="vertical-align:middle;text-align:center" class="status">'+studentJArray[i].status+'</td>';
				boiler += '<td width="*" style="vertical-align:middle;text-align:center" >';
				boiler += '<div style="margin-left:10px;" class="preview"></div>';
				boiler += '<input type="button" style="margin-top:3px;" class="btn btn-mini btn-inverse btn-changestatus" onclick="changeStatusToPursuing(\'trStudentRow-'+studentJArray[i].studentBatchId+'\',\''+studentJArray[i].studentBatchId+'\')"  value="Change status">&nbsp;';
				boiler += '<input type="button" style="margin-top:3px;" class="btn btn-mini btn-inverse btn-deletestatus"  value="Delete" onclick="deleteStudentFromBlocked(\'trStudentRow-'+studentJArray[i].studentBatchId+'\',\''+studentJArray[i].studentBatchId+'\')">&nbsp;';
				//boiler += '<input type="button" class="btn btn-mini btn-inverse btn-savestatus" style = "display:none;" value="Save">&nbsp;';
				//boiler += '<input type="button" class="btn btn-mini btn-inverse btn-cancelstatus" style = "display:none;" value="Cancel">';
				boiler += '</td>';
				boiler += '</tr>';  
			}
			boiler += '</tbody>';
			boiler += '</div>';
			$('#divBlockedStudentList').html(boiler);

			$('#tblBlockedStudentList').dataTable( {
				"sDom": "<'row'<'span4'l><'span4'f>r>t<'row'<'span4'i><'span4'p>>",
				"sPaginationType": "bootstrap",
				"oLanguage": {
					"sLengthMenu": "_MENU_ records per page"
				}
			} );
		} else {
			$('#divBlockedStudentList').html('<div class="alert alert-error"><strong>No Student found in blocked state!!!</strong></div>');
		}
	});
}


function changeStatusToPursuing(trId,studentBatchId){
	var studentName = $('#'+trId).find('.name').text();
	$.ajax({
		url : 'changeStudentStatus.json', // url is called mapped at
		data : {
			studentBatchIds : studentBatchId,
			status : 'PURSUING'
		},
		dataType : 'json',
		type : 'POST',
		async : false,
		beforeSend:function(){
			$('#'+trId).find('.preview').addClass('loading');
			$('#'+trId).find('.btn-changestatus').attr('disabled','disabled');
			$('#'+trId).find('.btn-deletestatus').attr('disabled','disabled');
		},complete:function(){
			$('#'+trId).find('.preview').removeClass('loading');
			$('#'+trId).find('.btn-changestatus').removeAttr('disabled');
			$('#'+trId).find('.btn-deletestatus').removeAttr('disabled');
		},
		success : function() {
			$('#'+trId).hide('slow');
			//alert('name: '+studentName);
			$('.unBlockStudentResponseInfo').html(
					'<button type="button" class="close" onclick="$(\'.unBlockStudentResponseInfo\').hide()" >&times;</button><strong>Status of <span style="color:blue">['+studentName+']</span> is succesfully changed to PURSUING</strong>'
			);
			$('.unBlockStudentResponseInfo').show();
		},
		error : function() {
			jAlert('Server error: Please refresh the page and try again!!!');
		}
	});
}


function deleteStudentFromBlocked(trId,studentBatchId){
	var studentName = $('#'+trId).find('.name').text();

	if(studentBatchId != undefined) {
		var message = 
			'<div class = "alert alert-info" style="padding:2px;">'+
			'<p style="font-weight:bold;"><i class="icon-hand-right"></i>&nbsp;&nbsp;<u>Please note the warning:</u></p>'+
			'The students which have been fetched from placement registration will NOT be deleted.<br><br>'+
			'<b>Are you sure to delete<b>?'+
			'</div>';
		jConfirm(message,'Confirmation',function(flag){
			if(flag){
				try{
					$.ajax({
						url:'deleteStudent.json',
						data:'studentBatchId='+studentBatchId,
						dataType:'json',
						type:'POST',
						beforeSend:function(){
							$('#'+trId).find('.preview').addClass('loading');
							$('#'+trId).find('.btn-changestatus').attr('disabled','disabled');
							$('#'+trId).find('.btn-deletestatus').attr('disabled','disabled');
						},complete:function(){
							$('#'+trId).find('.preview').removeClass('loading');
							$('#'+trId).find('.btn-changestatus').removeAttr('disabled');
							$('#'+trId).find('.btn-deletestatus').removeAttr('disabled');
						},
						success:function(responseObj){
							var flag= responseObj.responseFlag;
							$('.unBlockStudentResponseInfo').show();
							if(flag == "1"){
								$('#'+trId).hide('slow');
								$('.unBlockStudentResponseInfo').html(
										'<button type="button" class="close" onclick="$(\'.unBlockStudentResponseInfo\').hide()" >&times;</button><strong>Status of <span style="color:blue">['+studentName+']</span> is succesfully deleted</strong>'
								);
								$('.unBlockStudentResponseInfo').addClass('alert-info');
								$('.unBlockStudentResponseInfo').removeClass('alert-error');
							} else {
								var notDeletedStudents = responseObj.notDeletedStudentArray;
								var boiler = 
									'Deletion failed!!! Following student(s) could be deleted due to specified reasons:- <br>'+
									'Roll: '+notDeletedStudents[0].rollNo+'Name: '+notDeletedStudents[0].name+'&nbsp;&nbsp;Reason:-&nbsp;'+notDeletedStudents[0].error;
								$('.unBlockStudentResponseInfo').html(
										'<button type="button" class="close" onclick="$(\'.unBlockStudentResponseInfo\').hide()" >&times;</button><strong>'+boiler+'</strong>'
								);
								$('.unBlockStudentResponseInfo').removeClass('alert-info');
								$('.unBlockStudentResponseInfo').addClass('alert-error');
							}
						},error:function(e){
							jAlert('Server error: Please refresh the page and try again!!!');
						}

					});
				} catch(e){
					//alert(e);
				}
			}
		});

	} else {
		jAlert('Please select division!!!');
	}
}


function getSemestersWithAcademicBatchForPromotStudent(cmbId) {
	var instituteCourseId = $('#cbInstiCourseId').val().split('-')[0].trim();
	if(instituteCourseId>0){
		$.ajax({
			url:'getScheduledSemesterByInsticourseId.json?instiCourseId='+instituteCourseId, 
			dataType:'json',
			beforeSend: function() {
				startCommonAjaxSpinner();
			},
			complete: function() {
				stopCommonAjaxSpinner();
			},
			success:function(jArray){
				var boiler="<option value= '0'>Select</option>";
				for(var i=0;i < jArray.length;i++) {	
					boiler+="<option value='"+jArray[i]["instituteCourseStrengthId"]+'-'+jArray[i]["semesterId"]+"'>"+jArray[i]["academicBatchSemNameSylPatrnAndPatrn"]+'</option>';
				}
				if(cmbId == undefined){
					$('#semesterBatchId').html(boiler);
					convertComboToSearchable('#semesterBatchId');
				} else {
					$('#'+cmbId).html(boiler);
					convertComboToSearchable('#'+cmbId);					
					
				}
			},
			error:function(){
				jAlert("Something went wrong, Please try after some time","Error");
			}
		});
	}
	else
		requiredMessageShow("department", "Please select correct department");
}


function getDepartmentByQualificationId(srcCmbId,cmbId){

	var qualificationId= $('#'+srcCmbId).val();

	if(qualificationId>0){
		$.ajax({
			url:'getAllDepartmentsByQualificationId.json?qualificationId='+qualificationId, 
			dataType:'json',
			beforeSend: function() {
				startCommonAjaxSpinner();
			},
			complete: function() {
				stopCommonAjaxSpinner();
			},
			success:function(jArray){
				var boiler="<option value= '0'>--- Select ---</option>";
				for(var i=0;i < jArray.length;i++) {	
					boiler+="<option value='"+jArray[i]["instiCourseId"]+"'>"+ jArray[i]["departmentName"]+'</option>';
				}
				$('#'+cmbId).html(boiler);
			},
			error:function(){
				jAlert("In Programme  Combo error","Error");
			}
		});
	}
}

function getQualificationListFromManageStudentLevel1(cmbId){
	$.ajax({
		url:'getQualificationForLevelOne.json',
		dataType:'json',
		beforeSend: function() {
			startCommonAjaxSpinner();
		},
		complete: function() {
			stopCommonAjaxSpinner();
		},
		success:function(jArray){
			var boiler="<option value= '0'>--- Select ---</option>";
			for(var i=0;i < jArray.length;i++) {	
				boiler+="<option value='"+jArray[i]["qualificationId"]+"'>"+ jArray[i]["degreeName"]+'</option>';
			}
			if(cmbId == undefined){
				$('#semesterBatchId').html(boiler);
			} else {
				$('#'+cmbId).html(boiler);
			}
		},
		error:function(){
			jAlert("In Programme  Combo error","Error");
		}
	});
}

function getStreamListFromManageStudentLevel1(cmbId){
	$.ajax({
		url:'fetchStreamListForExamLevelOne.json', 
		dataType:'json',
		beforeSend: function() {
			startCommonAjaxSpinner();
		},
		complete: function() {
			stopCommonAjaxSpinner();
		},
		success:function(jArray){
			var boiler="<option value= '0'>--- Select ---</option>";
			for(var i=0;i < jArray.length;i++) {	 
				boiler+="<option value='"+jArray[i]["streamId"]+"'>"+ jArray[i]["StreamName"]+'</option>';
			}
			if(cmbId == undefined){
				$('#semesterBatchId').html(boiler);
			} else {
				$('#'+cmbId).html(boiler);
			}
		},
		error:function(){
			jAlert("In Programme  Combo error","Error");
		}
	});
}

function checkForPromotionInDepartment(callback){
	var instituteCourseId = $('#cbInstiCourseId').val().split('-')[0].trim();
	$.ajax({
		url:'checkForPromotionInDepartmentByInstituteCourseId.json',
		dataType:'json',
		async:false,
		data:'instituteCourseId='+instituteCourseId,
		success:function(jObject){
			callback(jObject);
			if($('#cbInstiCourseId option:selected').attr('cousetype') == 'COURSE_TYPE_SCHOOL' && $('#customerHelper').val() == 'MEGHE'){
				$('#heightWeightUploadId').show();
			}
		}
	});
}


function loadDepartmentalPramotion(callback){
	var instiCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0].trim();
	$.ajax({
		url:'loadDepartmentalPramotion.json',
		dataType:'json',
		type:'GET',
		async:false,
		data:'instiCourseStrengthId='+instiCourseStrengthId,
		success:function(jArray){
			var boiler='<option value="0">Select</option>' ;
			for(var i=0;i<jArray.length;i++){
				boiler += '<option deptName= "'+jArray[i]["deptName"]+'" value = "'+jArray[i]["instituteCourseId"]+'" name="'+jArray[i]["departmentalPromotionEligibleCourseId"]+'" >'+jArray[i]["InstituteCourseName"]+'</option>';
			}
			$('#cbDepartmentPramotion').html(boiler);
			$('#cbEditDepartmentPramotion').html(boiler); 
			
			try{
				callback(jArray);
			}catch(e){}
		}
	});
}

var factor = {
		"FIRST_NAME":"First Name",
		"LAST_NAME":"Last Name",
		"GENDER":"Gender",
		"ROLL_NO":"Roll No",
		"PCM":"PCM Marks",
		"SHIFT":"Shift",
};

function selectFactor(){
	var selectedBoiler = '';
	$('#orderByList :selected').each(function(){
		var temp = $(this).val();
		$.each(factor,function(i,v){
			if(temp == i)
				selectedBoiler += '<option value="'+i+'">'+v+'</option>';
		});

		$(this).css({'display':'none'});
	});
	$('#selectedOrderByList').append(selectedBoiler);
}
function specializationSelectFactor(){
	var selectedBoiler = '';
	$('#specializationOrderByList :selected').each(function(){
		var temp = $(this).val();
		$.each(factor,function(i,v){
			if(temp == i)
				selectedBoiler += '<option value="'+i+'">'+v+'</option>';
		});

		$(this).css({'display':'none'});
	});
	$('#specializationSelectedOrderByList').append(selectedBoiler);
}
function specializationRemoveFactor(){
	var boiler = '';
	$('#specializationSelectedOrderByList :selected').each(function(){
		$('#specializationOrderByList option[value="'+$(this).val()+'"]').css('display','block');
		$(this).remove();
	});
	$('#specializationOrderByList').append(boiler);
}

function removeFactor(){
	var boiler = '';
	$('#selectedOrderByList :selected').each(function(){
		$('#orderByList option[value="'+$(this).val()+'"]').css('display','block');
		$(this).remove();
	});
	$('#orderByList').append(boiler);
}

function allocateDivisionsAndRollNos()
{
	//var arrangedStudentList = getAllStudentBatchId();
	var arrangedStudentList = new Array();
		arrangedStudentList.push($(this).find('.selectedStudent : checked').text());
	
	var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	var prefix = $('#txtPrefixDivision').val().trim();
	var start = $('#txtInitialDivision').val().trim();
	var sufix = $('#txtSuffixDivision').val().trim();
	var separator = $('#txtSeparatorDivision').val().trim();
	var shiftType = $('#shiftType').val();

	$.ajax({
		url:'allocateDivisionsAndRollNos.json',
		dataType:'text',
		async:false,
		data:'instituteCourseStrengthId='+instituteCourseStrengthId+'&arrangedStudentList='+arrangedStudentList+
		'&prefix='+prefix+'&startFrom='+start+'&sufix='+sufix+'&seperator='+separator+'&shiftType='+shiftType,
		beforeSend : function() {
			startCommonAjaxSpinner();
		},
		complete : function() {
			stopCommonAjaxSpinner();
		},
		success:function(response){

			$('#allocateDivisionWithRollNos').modal('hide');
			jAlert(response);
			$('#shiftType').trigger('change');

		},
		error:function(){
			jAlert("Error in division allocation","Error");
		}
	});

}
function selectStudentBatchGrid(trId){
	var isSelected = $('#'+trId).find('input.selectedStudent').is(':checked');
	if(isSelected){
		$('#'+trId).addClass('selected');
	}
	else{ 
		$('#'+trId).removeClass('selected');
	}
	/*$('input.selectedStudent').each(function(){
		if($(this).is(':checked'))
			$(this).closest('tr').addClass('selected');
		else
			$(this).closest('tr').removeClass('selected');
	});*/
	
	
}

function getSubBatchesForStudentEditBox(callback){
	//getSubSubjectName.json
	var batchCapacityId = $('#cbBatchId').val().split('-')[2];
	$.ajax({
		url:'getSubSubjectName.json',
		dataType:'text',
		data:'BatchCapacityId='+batchCapacityId,
		beforeSend : function() {
		},
		complete : function() { 
		},
		success:function(jArray){
			callback(jArray);
		},
		error:function(){
			jAlert("Error in division allocation","Error");
		}
	});
}
function checkedItemsForStudentProfile(element){
	if($(element).is(':checked')){
		$('.chkPrint').attr('checked',true);
	}
	else{
		$('.chkPrint').attr('checked',false);
	}
}


function initAndShowUploadExcelSheetForUserName(){
	$('.tblUploadChangeUserName').show();
	$('.tblChangeUserName').hide();
	new AjaxUpload('flFileDataToChangeUserName', {
		action : 'uploadTOUpdateUserNameOfStudent.json',
		data :{},
		name : 'flFileData',
		size:AllowedFileSize.EXCELSHEET_UPLOAD,
		onSubmit : function(file, extension) {
			if (extension.toString().toLowerCase() == 'xls') {
				$('.tblUploadChangeUserName').find('.preview').addClass('loading');
				$('.tblUploadChangeUserName').find('.response').text('Uploading...');
			} else {
				jAlert('Only Msexcel(.xls) file is permitted');
				return false;
			}
		},
		onComplete : function(file, response) {
			var errorArray = eval('('+response+')');
			if(errorArray.length == 0){
				$('.tblUploadChangeUserName').find('.response').text('Uploaded Successfully');
			} else {
				$('.tblUploadChangeUserName').find('.response').html('Uploaded with some errors:&nbsp;&nbsp;<a href="javascript:void(0)" onclick="showUploadError()">See error</a>');
			}
			$('.tblUploadChangeUserName').find('.preview').removeClass('loading');
			
		}
	});
	
}

function showChangeUserNameForm(){
	$('.tblUploadChangeUserName').hide();
	$('.tblChangeUserName').show();
}

function showUploadError(errorArray){
	var boiler = "";
	for(var i= 0 ; i < errorArray.length ; i++){
		boiler += '<p style="color:red">Row No.: '+errorArray[i].RowNo+'&nbsp;:&nbsp;'+errorArray[i].error;+'</p>';
	}
	jAlert(boiler,'Errors');
}

function createStudentUser()
{
	var studentId = $('#studentIdSrvr').val();
	
	if(studentId>0)
	{
		$.ajax({
			url:'createUserOnly.json?typeOfuser=Student&Id='+studentId, 
			dataType:'text',
			async:false,
			beforeSend: function() {
				startCommonAjaxSpinner();
			},
			complete: function() {
				stopCommonAjaxSpinner();
			},
			success:function(reply){
				jAlert(reply,"Message");
			},
			error:function(){
				alert("In course error");
			}
		});
	}
}

function addNewState()
{
	var	addNewStateBoiler =
		'<div class="modal-header">'+
	   '<button type="button" class="close" data-dismiss="modal"></button>'+
	   '<h3>Add New State</h3></div>'+
	   '<div class="modal-body" align="center" >'+ 
	   '<ul id="myTab" class="nav nav-tabs">'+ 
       '<div id="myTabContent" class="tab-content">'+
       '<table class="table table-info">'+
       '<tr><td><label>State Name:</label></td>'+
       '<td><input type="text" id="txtAddNewState"/></td></tr>'+
       '<tr><td colspan="2"><center>'+
       		'<a class="btn btn-inverse btn-mini" href="#" onclick="saveNewState()">Save</a>'+
       		'<a class="btn btn-inverse btn-mini" data-dismiss="modal" href="#">Close</a>&nbsp;&nbsp;&nbsp;'+
       		'</center></td>'+
       '</tr>'+
       '<tr><br></tr></table>';
	addNewStateBoiler +='</div></table></div><div id="Add" class="tab-pane"></table><table class="table table-bordered table-condensed" id="addProductTypes" ></div>' ;
	addNewStateBoiler += '</div>';
	$('#addNewStateDiv').html(addNewStateBoiler);
	$('#addNewStateDiv').modal('show');
}

function saveNewState()
{
	var countryId = $('#txtstudnationality').val();
	var stateName = $('#txtAddNewState').val();

		$.ajax({
			url:'saveNewStateDomicile.json?stateName='+stateName+'&countryId='+countryId,
			type:'POST',
			dataType:'json',
			async:false,
			beforeSend: function() {
				startCommonAjaxSpinner();												
			},
			complete: function() {
				stopCommonAjaxSpinner(); 
			}, 
			success:function(jArray)
			{
				if(jArray[0]['response']=='AllreadyExist')
				{
				jAlert("State already exist","Message");
				}
			else{
				jAlert("State added successfully","Message");
				$('#txtAddNewState').val("");
				$('#addNewStateDiv').modal('hide');
				jAlert("Successfully added..","Message");
				getStateRelNationalityCatCityCountry();
			}
			},
			error:function()
			{
				alert("Error in Save Product Type");
			}
		});
}

function getOpenElectiveSubjects(electiveSubjectType){
	var instituteCou   rseId=$('#cbInstiCourseId').val();
	//var electiveSubjectType = 'area';
	$.ajax({
		url : 'getOpenElectiveSubjects.json?instituteCourseId='+instituteCourseId+'&electiveSubjectType='+electiveSubjectType,
		dataType :'json',
		async : false,
		beforeSend : function() {
			startCommonAjaxSpinner();
		},
		complete : function() {
			stopCommonAjaxSpinner();
		},
		success : function(jArray) {
			
			var majorSpList = '<option value="0">Select</option>';
			var minorSpList = '<option value="0">Select</option>';
			var len = jArray.length;
			var majorCount = 0;
			for ( var i = 0; i < len; i++){
				if(jArray[i]["isSpecializationMappedWithStream"] != undefined && jArray[i]["isSpecializationMappedWithStream"]){
					majorSpList += '<option value="'+jArray[i]["subjectId"]+'">'+(jArray[i]["subjectName"].gemsDecode())+ '</option>';
					majorCount++;
				}
				minorSpList += '<option value="'+jArray[i]["subjectId"]+'">'+(jArray[i]["subjectName"].gemsDecode())+ '</option>';
			}
			
			$('#majorOpenElectiveSubjectId').html((majorCount > 0 ? majorSpList : minorSpList));
			$('#minorOpenElectiveSubjectId').html(minorSpList);
			
		},

	});
}

function exportStudentsAsForeignExchange(status){

	var outBoundUniversityId = $('#cmbUniName').val();
	var semesterBatchId = $('#cmbSem option:selected').val();
	
	/*if(outBoundUniversityId == null){
		return 0;
	}*/
	
	if((status == 'true' || status ) && outBoundUniversityId == 0){
		jAlert("Please select university name");
		return;
	}
	var studentIdArray = new Array();
	
	if(status == 'true' || status){
		$('.selectedStudent:checked').each(function(){
			studentIdArray.push($(this).val());
		});
	}
	else{
		$('.foreignExStudent:checked').each(function(){
			studentIdArray.push($(this).val());
		});
	}
	
	if(semesterBatchId == "0"){
		jAlert("Please select semester");
		return;
	}
	if (studentIdArray.length > 0) {
		jConfirm('Do you want to continue?', 'Confirm', function(r){
			if(r){
				$.ajax({
					url : 'exportStudentsAsForeignExchange.json',
					dataType : 'json',
					data : {studentIdArray : studentIdArray.toString(), status : status, outBoundUniversityId:outBoundUniversityId, semesterBatchId:semesterBatchId},
					type : 'POST',
					beforeSend : function() {
						startCommonAjaxSpinner();
					},
					complete : function() {
						stopCommonAjaxSpinner();
					},
					success : function(jArray) {
						$('#outBoundUniversityListModal').modal('hide');
						if(status == 'true' || status){
							for(var i = 0; i < studentIdArray.length; i++){
								var studentId = studentIdArray[i];
								$('#studentRow-'+studentId).css({'background-color':'#FCB9B9'});
								$('#studentRow-'+studentId).find('#'+studentId).addClass('foreignExStudent');
								$('#studentRow-'+studentId).find('.outBoundUniversityId').attr('outbounduniversityid', outBoundUniversityId);
								$('#studentRow-'+studentId).find('.isForeignExchangeStudent').attr('isforeignexchangestudent', true);
							}
						}
						else{
							jAlert("Successfully done", "Message");
							for(var i = 0; i < studentIdArray.length; i++){
								var studentId = studentIdArray[i];
								$('#studentRow-'+studentId).removeAttr("style");
								$('#studentRow-'+studentId).find('#'+studentId).removeClass('foreignExStudent');
								$('#studentRow-'+studentId).find('.outBoundUniversityId').attr('outbounduniversityid', 0);
								$('#studentRow-'+studentId).find('.isForeignExchangeStudent').attr('isforeignexchangestudent', false);
							}
						}
						if(status == 'true' || status){
							getExportStudentsAsForeignExchange();
						}
						
					},
					error : function() {
						jAlert("Error!!!");
					}

				});
			}
		});

	} else {
		jAlert('First select the students!');
	}
}

function getExportStudentsAsForeignExchange(){

	var patternId = $('#cbAcademicBatch').val().split('-')[1];
	var semesterId = $('#cbSemesterId').val();
	var studentIdArray = new Array();
	
	$('.selectedStudent:checked').each(function(){
		studentIdArray.push($(this).val());
	});
	jConfirm('Students marked successfully as \'Foreign Exchange Students\' </br>Do you want to map this students with Foreign Exchange Subjects', 'Confirm', function(r){
		if(r){
			$.ajax({
				url : 'getForeignExchangeSubjects.json',
				dataType : 'json',
				data : {semesterId : semesterId, patternId : patternId,spID:0,studentIdArray:studentIdArray.toString()},
				type : 'GET',
				beforeSend : function() {
					startCommonAjaxSpinner();
				},
				complete : function() {
					stopCommonAjaxSpinner();
				},
				success : function(jArray) {

					$('#foreignExchangeSubjectModal').modal('show').css({
						width:'850px',
						'margin-left':function(){ return -($(this).width()/2); }
					});
					var j=0;
					var boiler = '';
					var isForeignExchangeStudent = $('.selectedStudent:checked').closest('tr').find('.isForeignExchangeStudent').attr('isForeignExchangeStudent');

					boiler +='</table><table class="table table-bordered">'+
					'<thead><tr><th></th><th>Course Code</th><th>Course Name</th><th></th><th>Course Code</th><th>Course Name</th></tr></thead>';
					if(jArray.length > 0){

						for(var i=0;i<jArray.length;i++){
							if(j%2==0){
								boiler+='<tr>';
							}
							if(jArray[i].subjectWiseStudentId > 0){
							boiler+='<td style="align-text:center"><input class="ckhForgienExchangeSubjectName" value="'+jArray[i].subjectId+'" type="checkbox" ></td>';
							}else if(semesterId == 0 && isForeignExchangeStudent == "true"){
								boiler+='<td style="align-text:center"><input class="ckhForgienExchangeSubjectName" value="'+jArray[i].subjectId+'" type="checkbox" ></td>';
							}
							else{
								boiler+='<td></td>';
							}
							boiler+='<td>'+jArray[i]["subjectCode"]+'</td>'+
							'<td>'+(jArray[i]["subjectName"].gemsDecode())+'</td>';

							j++;
							if(j/2==0)
							{
								boiler+='</tr>';
								j==0;
							}
						}
					}
					else{
						boiler+='<tr><td colspan=4 style="text-align:center">No Data Found</td></tr>';
					}
					boiler+='</table>';
					if(jArray.length > 0){
						boiler+='<div><input type="button" class="btn btn-mini btn-inverse" onclick="assignForeignExchangeSubjectToStudent();" value="Save"/>';
					}
					$("#viewForeignExchangeSubject").html(boiler);
				},
				error : function() {
					jAlert("Error!!!");
				}

			});
		}else{
			if(semesterId == 0){
				$('#btnFresher').trigger('click');
			}else{
				$('#btnSubmit').trigger('click');
			}
			
		}
	});
}

function assignForeignExchangeSubjectToStudent()
{
	var semesterId = $('#cbSemesterId').val();
	var studentIdArr = new Array();
	var foreignExhangeSubjectIdArr = new Array();

	$('.selectedStudent:checked').each(function(){
		studentIdArr.push($(this).val());
	});

	$('.ckhForgienExchangeSubjectName:checked').each(function(){
		foreignExhangeSubjectIdArr.push($(this).val());
	});

	$.ajax({
		url : 'outBoundstudentSubjectMapping.json',
		dataType :'json',
		data:{studentIdArray:studentIdArr.toString(),subjectIdArray:foreignExhangeSubjectIdArr.toString()},
		async : false,
		beforeSend : function() {
			startCommonAjaxSpinner();
		},
		complete : function() {
			stopCommonAjaxSpinner();
		},
		success : function(jArray) {
			
			jAlert("Successfully done", "Message");
			$('#foreignExchangeSubjectModal').modal('hide');
			if(semesterId == 0){
				$('#btnFresher').trigger('click');
			}else{
				$('#btnSubmit').trigger('click');
			}
		
		},
	});
}

function getSpecializationSubjectByInstiCourseId(){
	var instituteCourseId = $('#parentDepartmentId').val().trim().split('-')[0];
	
	$.ajax({
		url : 'getOpenElectiveSubjectsByInstituteCourseDetailId.json',
		dataType :'json',
		data:{instituteCourseId:instituteCourseId},
		async : false,
		beforeSend : function() {
			startCommonAjaxSpinner();
		},
		complete : function() {
			stopCommonAjaxSpinner();
		},
		success : function(jObj) {
			var specializationSubjectId = jObj.instituteSpecialization; 
			$('#majorOpenElectiveSubjectId').val(specializationSubjectId);
		},

	});
}

function getOutBoundUniversityList(status)
{
	$('#subjectList').html('');
	var studentIdArray = new Array();
	
	$('.selectedStudent:checked').each(function(){
		//if(!($(this).hasClass('foreignExStudent')))
			studentIdArray.push($(this).val());
	});

	if(studentIdArray.length > 0){
	
	$.ajax({
		url:'outBoundUnivAll.json',
		dataType:'json',
		async:false,
		beforeSend: function() {
			startCommonAjaxSpinner();

		},
		complete: function() {
			stopCommonAjaxSpinner();
		},
		success:function(jArray){
			
			$('#outBoundUniversityListModal').modal('show').css({
				width: '700px',
				'margin-left': function () {
					return -($(this).width() / 2);
				}
			});
			/*$('#outBoundUniversityBodyModal').css({
				height:'180px',
				'margin-left':function(){ return -($(this).width()/2); }
			});*/
			var html = '<option value="0">Select</option>';
			var len = jArray.length;
			$('#cmbUniName').html("");
			$('#cmbUniName').html('<option value="0">Select</option>');
			for ( var i = 0; i < len; i++){
				if(jArray[i].DcpUni == "No"){
				html = '<option value="'+jArray[i]["outBoundUniversityId"]+'" id="opt_'+jArray[i]["outBoundUniversityId"]+'">'+jArray[i]["outBoundUniName"]+ '</option>';
				$('#cmbUniName').append(html);
				$('#opt_'+jArray[i]["outBoundUniversityId"]).data('addr', jArray[i]["address"]);
				}
			}
			
		},
	});
	}
	else{
		jAlert("Please first select student");
	}
	getstudentSubjectMapping();
}


function getUnallocatedStudentDialogue(status)
{
	$('#subjectWiseStudentListForDeletionList2').html('');
	
	var studentIdArray = new Array();
	
	$('.selectedStudent:checked').each(function(){
		//if(!($(this).hasClass('foreignExStudent')))
			studentIdArray.push($(this).val());
	});
	
	var studentIdArray1 = new Array();
	$('.selectedStudent:checked').each(function(){
		//if(!($(this).hasClass('foreignExStudent')))
		studentIdArray1.push($(this).val());
	});

	if(studentIdArray1.length > 0){
		
		/*$('#subjectWiseStudentListForDeletionModal').modal('show').css({
			width: '700px',
			height: '450px',
			'margin-left': function () {
				return -($(this).width() / 2);
			}
		});
		$('#outBoundUniversityBodyModal2').css({
			height:'330px',
			'margin-left':function(){ return -($(this).width()/2); }
		});*/
	$.ajax({
		url:'getStudentSubjectAndBatchAllocationDetails.json',
		data : {studentIdArray1:studentIdArray1.toString()},
		dataType:'json',
		async:false,
		beforeSend: function() {
			startCommonAjaxSpinner();

		},
		complete: function() {
			stopCommonAjaxSpinner();
		},
		success:function(jArray){
			
			var html = '<option value="0">Select</option>';
			var len = jArray.length;
			$('#cmbSemDel2').html("");
			//$('#cmbDCPSem').html("");
			$('#cmbSemDel2').html('<option value="0" lenSize="'+len+'">Select</option>');
			//$('#cmbDCPSem').html('<option value="0">Select</option>');
			
			for ( var i = 0; i < len; i++){
				html = '<option value="'+jArray[i]["batchSemesterCapacityId"]+'" id="opt1_'+jArray[i]["batchSemesterCapacityId"]+'" lenSize="'+len+'" semId="'+jArray[i]["semesterId"]+'">'+jArray[i]["batchName"]+ '</option>';
				$('#cmbSemDel2').append(html);
				//$('#cmbDCPSem').append(html);
				$('#opt1_'+jArray[i]["batchSemesterCapacityId"]).data('subjectName', (jArray[i]["subjectName"].gemsDecode()));
				$('#opt1_'+jArray[i]["batchSemesterCapacityId"]).data('studentUniversityExamMarksAttemtIds', jArray[i]["studentUniversityExamMarksAttemtIds"]);
			}
			if(len==0){
				$('#trTermError').html('<strong>Student is not allocated for any Subjects.<strong>').show();
				$('#cmbSemDel2').css('border-color','red');
				$('#subjectNameListUnalloc').hide();
			}else{
				$('#subjectNameListUnalloc').show();
				$('#cmbSemDel2').css('border-color','');
				$('#trTermError').html('').hide();
			}
		},
	});
	}else{
		jAlert("Please first select student");
	}
	
	
	$('#cmbSemDel2').change(function(){
		//alert($('#opt1_'+$(this).val()).data('subjectName'));
		//subjectWiseStudentListForDeletionList
		if($(this).val()=='0'){
			$('#subjectWiseStudentListForDeletionList2').html('');
			return;
		}
		var subjList = $('#opt1_'+$(this).val()).data('subjectName').split(',');
		var boiler = '';
		for(var i = 0; i < subjList.length; i++){
			boiler += '<tr><td style="text-align:center;display:none;"><input type="checkbox" class="subjectBatchIdForUnallocate" value="'+subjList[i].split('~~')[1]+'" subjectNameDel="'+subjList[i].split('~~')[0]+'"></td><td>'+subjList[i].split('~~')[0]+'</td></tr>';
		}
		
		$('#subjectWiseStudentListForDeletionList2').html(boiler);
		
	});
	
	$('#selectAllChksubjectWiseStudentList2').click(function(){
		if($(this).attr('checked')=="checked"){
			$('.subjectBatchIdForUnallocate').attr('checked',true);
		}else{
			$('.subjectBatchIdForUnallocate').attr('checked',false);
		}
	});
}

function hideShowTr(){
	$('#txtAdmissionCancelDateTR').show();
	var status = getStudentStatus();
	$('#trForAdmissionCancelDocUpload').hide();
	$('#showStudentExamInfoModal').html('');
	 if(status == 'LEFT' || status == 'BREAK'){
			$('#trReason').show();
			$('#trApprovedSatus').show();
			$('#trTermSatus').show();
			$('#subjectNameListUnalloc').show();
			$('#showStudentExamInfoModal').hide();
			
			getUnallocatedStudentDialogue(true);
			getFacultyList();
	 }
	 if(status == 'BLOCKED' || status == 'ADMISSION_CANCELLED' || status == 'YEARDOWN' || status == 'ALUMNI'){
		 if($('#customerHelper').val()=="BITS_MESRA" && $('#cbStudentStatusId').val()=='BLOCKED'){
			 $('#dosaConfigSpan').show();
		 }
		 $('#showStudentExamInfoModal').hide();
		 if(status == 'ADMISSION_CANCELLED'){
			$('#trForAdmissionCancelDocUpload').show();
			initFiledailyMonitoring();
			getSynopsisDocument();
			getStudentExamFormDetils();
		 }
		 if(status == 'BLOCKED'){
			 $('#trComment').show();
		 }else{
			 $('#trComment').hide();
		 }
		 
		 	$('#trReason').hide();
			$('#trApprovedSatus').hide();
			$('#trTermSatus').hide();
			$('#subjectNameListUnalloc').hide();
			$('#trTermError').hide();
			$('#cmbSemDel2').css('border-color','');
			
		if(status == 'ALUMNI'){
			$('#txtAdmissionCancelDateTR').hide();
		}	
	 }
	 
	 if(status == 'YEARDOWN'){
		 $('#tryearDown').show();
		 $('#trTermDown').show();
		 $('#lblyearDown').show();
		 $('#lblTermDown').show();
	 }else{
		 $('#lblyearDown').hide();
		 $('#lblTermDown').hide();
		 $('#lblyearDown').hide();
		 $('#lblTermDown').hide();
	 }
	  
}


function getStudentExamFormDetils(){

	
	
	var studentIdArray = new Array();
	
	$('.selectedStudent:checked').each(function(){
		//if(!($(this).hasClass('foreignExStudent')))
			studentIdArray.push($(this).val());
	});
	
	//alert(studentIdArray);
	if(studentIdArray.length > 0){
	//var studentId = studentIdArray.toString();
	$.ajax({
		url:'showStudentExamDetailsMultipleStudent.json?id='+studentIdArray.toString(),
		//data : {id:studentIdArray.toString()},
		dataType:'json',
		async:false,
		beforeSend: function() {
			startCommonAjaxSpinner();

		},
		complete: function() {
			stopCommonAjaxSpinner();
		},
		success:function(mainjArray){
			$('#showStudentExamInfoModal').show();
			var exBoiler=""+
			'<b> Do you want to cancel student current Year result?</b><input type="radio" name="studentSubjectCancelId"  value="yes" id="idstudentSubjectCancelyes" > Yes </input>'+
			'<input type="radio"  name="studentSubjectCancelId" value="no" id="idstudentSubjectCancelno" checked="checked"> No &nbsp;&nbsp;&nbsp;</input><br>'+
				"<div class='modal-header' style='padding:5px'>"+
				"<h3 id='' class='studentName' style='color:#6A7480'>"+
				"<img src='img/leave.png' alt=''> Exam Details</h3></div>"+
				"<div class='slimScrollDiv' style='position: relative; overflow: hidden; width: 100%; height: 1000px;'>"+
				"<div class='modal-body studentdashboard' style='padding: 0px; overflow: hidden; width: 100%; height: 1000px; max-height: 900px; min-height: 2%;'>";
			if(mainjArray.length>0){
				for(var k = 0; k<mainjArray.length;k++){
					var jArray = mainjArray[k];
					
					if(jArray.length>0)	
					{
						exBoiler+='<div class="label label-default">'+eval(k+1)+' : '+jArray[0]['studentFull']+'</div>';
						exBoiler+="<table style='color:#000;' class='table table-bordered table-condensed'>";
						
						exBoiler+= "<tr><th></th><th>Exam Name</th><th>Exam Form Details</th><th>Delete Exam Form</th></tr>";

						for(var i=0;i<jArray.length;i++){
							exBoiler+= '<tr class="studStatus__'+jArray[0]['examStudentFormId']+'"><td style="text-align:center">'+eval(i+1)+'</td><td>'+jArray[i]["examScheduleName"]+'</td><td style="text-align:center"><input type="button" value="Exam Form" onclick="showStudentExamFormDetail('+jArray[i]["examScheduleId"]+','+jArray[i]["studentId"]+')" class="btn btn-danger btn-mini btnColorBlack" ></td>'+
							'<td style="text-align:center;"><i class="icon icon-remove" title="Cancel Admission" onclick="deleteStudentExamFormNoReason('+jArray[0]['examStudentFormId']+',\''+jArray[0]['studentFull']+'\')"></i></td></tr>';
						}
					}	

					exBoiler+= '</table>';
				}
			}else
			{
				exBoiler+= '<tr><td colspan="2" style="text-align:center">"Exam Form Details Not Available.."</td></tr>';
			}
			exBoiler+= '</table><br><br><br><br><br><br>';
			$('#showStudentExamInfoModal').html(exBoiler);
			
			
		},
	});
	}else{
		jAlert("Please first select student");
	}
	


}
function deleteStudentExamFormNoReason(examStudentFormId,studentName)
{
	
	/*var CancelReason = $('#txtReason').val();
	
	if(CancelReason == ""){
		jAlert("Please enter reason");
		return;
	}
	var putForFinance =$("input[name=checkForFinance]:checked").val(); 
	if(putForFinance=="" || putForFinance==undefined){
		putForFinance = "false";
	}*/
	
	jConfirm("Do you want to Cancel Exam Form of student <b>"+studentName+"</b> :","Confirm",function(r)
	{
		if(r ==true)
		{
			$.ajax({
				url:'cancelStudentExamForm.json?examStudentFormId='+examStudentFormId+'&CancelReason=FromiheManageStudent&putForFinance=No',
				dataType:'json',
				async:false,
				beforeSend: function() {
					startCommonAjaxSpinner();
				},
				complete: function() {
					stopCommonAjaxSpinner();
				},
				success:function(jArray)
				{
					if(jArray[0]["flag"]==true){
						jAlert("You can not cancel exam from because marks entry already done");
					}else{
					jAlert(jArray[0]["message"],"Success");
					$('#cbStudentStatusId').trigger('change');
					}
					/*$('#RevertCheck').modal('hide');
					
					if(jArray[0]["message"].trim()!="Result Already Freezed")
						$('#notAcceptReject_'+examStudentFormId).css('background', '#F8E0E0');*/
						//fetchExamFormSubmittedStudents();

				},
			});
		}
	});
}


function showStudentExamFormDetail(examScheduleId,studentId)
{
	$('#editStudentExamFormModal').modal('show');

	$.ajax({
	//	url:'getStudentExamFormSubjectChoiceDetails.json?studentId='+ studentId+'&examSheduleId='+examScheduleId,
		url:'getStudentExamFormSubjectChoiceDetailsTocheckDetails.json?studentId='+ studentId+'&examSheduleId='+examScheduleId,
		
		dataType:'json',
		type:'GET',
		beforeSend: function() {
			startCommonAjaxSpinner();
		},
		complete: function() {
			stopCommonAjaxSpinner();
		},
		success:function(jArray){
			var j = jArray[0] != undefined ? jArray[0].length : 0;
			var regularFlag = 0;
			var backlogFlag = 0;
			$('#tlbRegularAndBacklogEditExamForm').hide();
			$('#editStudentExamFormModalDiv').show();

			var semisterList = "";
			var semisterIdList = "";
			if(jArray[2]['studentSemisterList']!=undefined)
			 semisterList = jArray[2]['studentSemisterList'].split(',');

			if(jArray[2]['studentSemisterIdList']!=undefined)
				 semisterIdList = jArray[2]['studentSemisterIdList'].split(',');

			if( j > 0)
			{
						var examFormFeeArray = jArray[3];
						var showEditBtnForExamAdmin = true; //examFormFeeArray[0]["shoeEditButtonForExamAdmin"]
						var boilerRegularSubject='<table class="table table-bordered"><thead>'+
						'<tr><th colspan="6">Regular Subject</th></tr>'+
						'<tr><th>Sr.No</th><th>Term</th><th>Course Code</th><th>Course Name</th><th>Detained</th>';
						if($('#customerHelper').val()=="DES"){
							boilerRegularSubject += '<th>ESSCA</th>';
						}
						boilerRegularSubject += '</tr></thead><tbody>';

						var boilerBacklogSubject='<table class="table table-bordered"><thead>'+
						'<tr><th colspan="4">Backlog Subject</th></tr>'+
						'<tr><th>Sr.No</th><th>Term</th><th>Course Code</th><th>Course Name</th></tr></thead><tbody>';

				var cnt = 0;
				var cnt1 = 0;
				for(var i=0;i<jArray[0].length;i++)
				{
					if(jArray[0][i]["subjectStatus"]=="Current")
					{
							regularFlag = 1;
							boilerRegularSubject +='<tr>'+
							'<td>'+eval(++cnt)+'</td><td>'+jArray[0][i]["semesterName"]+'</td><td>'+jArray[0][i]["subjectCode"]+'</td><td>'+(jArray[0][i]["subjectName"].gemsDecode())+'</td>';
							if(jArray[0][i]["detainedStatus"]=="true")
								boilerRegularSubject +='<td style="text-align:center"><input type="checkbox" id="detained_'+jArray[0][i]["optedId"]+'" value="'+jArray[0][i]["optedId"]+'" checked="checked" onclick="checkUnfairMeanStatus('+jArray[0][i]["optedId"]+','+examScheduleId+','+studentId+')" class="detainedCls"></td>';
							else
								boilerRegularSubject +='<td style="text-align:center"><input type="checkbox" id="detained_'+jArray[0][i]["optedId"]+'" value="'+jArray[0][i]["optedId"]+'" class="detainedCls"></td>';
							
							if($('#customerHelper').val()=="DES"){
								if(jArray[0][i]["eSSCAStatus"]=="true")
									boilerRegularSubject +='<td style="text-align:center"><input type="checkbox" id="eSSCA_'+jArray[0][i]["optedId"]+'" value="'+jArray[0][i]["optedId"]+'" checked="checked"  class="esscaCls"></td>';
								else
									boilerRegularSubject +='<td style="text-align:center"><input type="checkbox" id="eESSCA_'+jArray[0][i]["optedId"]+'" value="'+jArray[0][i]["optedId"]+'" class="esscaCls"></td>';
							}
							
							
							

							boilerRegularSubject +='</tr>';
					}
					else
					{
						backlogFlag = 1;
						flag= 1;
						boilerBacklogSubject +='<tr>'+
						'<td>'+eval(++cnt1)+'</td>'+
						'<td>'+jArray[0][i]["semesterName"]+'</td>'+
						'<td>'+jArray[0][i]["subjectCode"]+'</td>';
						if(jArray[0][i]["midtermStatus"]=="true" &&  jArray[0][i]["midtermStatus"]=="true")
							{
							boilerBacklogSubject +=	'<td>'+(jArray[0][i]["subjectName"].gemsDecode())+'<b>[MidTerm]</b></td></tr>';
							}
						else
							{
							boilerBacklogSubject +=	'<td>'+(jArray[0][i]["subjectName"].gemsDecode())+'</td></tr>';
							}
					}
				}

				boilerRegularSubject +='</tbody></table>';
				boilerBacklogSubject +='</tbody></table>';

				var boilerFee = '';
				if(jArray[1].length > 0)
				{
					var isPayNowButton = examFormFeeArray != undefined && examFormFeeArray[0] != undefined ? examFormFeeArray[0]["payStatus"] : false;

					if(jArray[1][0]["totalAmount"] != 0)
					{
						boilerFee='<table class="table table-bordered"><thead>'+
						'<tr><th colspan="2">Exam Fee</th></tr>'+
						'<tr><th>Contains</th><th>Amount(In Rs.)</th></tr></thead>'+
						'<tbody>';
						if(jArray[1][0]["regularAmount"]!=0.0)
							boilerFee +='<tr><td>Regular Subject</td><td><span style="float:right">'+jArray[1][0]["regularAmount"]+'</span></td></tr>';
						if(jArray[1][0]["backlogAmount"]!=0.0)
							boilerFee +='<tr><td>Makeup Subject</td><td><span style="float:right">'+jArray[1][0]["backlogAmount"]+'</span></td></tr>';
						if(jArray[1][0]["capFee"]!=0.0)
							boilerFee +='<tr><td>Cap Fee</td><td><span style="float:right">'+jArray[1][0]["capFee"]+'</span></td></tr>';
						if(jArray[1][0]["formFee"]!=0.0)
							boilerFee +='<tr><td>Form Fee</td><td><span style="float:right">'+jArray[1][0]["formFee"]+'</span></td></tr>';
						if(jArray[1][0]["internalExamFee"]!=0.0)
							boilerFee +='<tr><td>Internal Exam Fee</td><td><span style="float:right">'+jArray[1][0]["internalExamFee"]+'</span></td></tr>';
						if(jArray[1][0]["practicalFee"]!=0.0)
							boilerFee +='<tr><td>Practical Fee</td><td><span style="float:right">'+jArray[1][0]["practicalFee"]+'</span></td></tr>';
						if(jArray[1][0]["lateFee"]!=0.0)
							boilerFee +='<tr><td>Late Fee</td><td><span style="float:right">'+jArray[1][0]["lateFee"]+'</span></td></tr>';
						if(jArray[1][0]["projectFee"]!=0.0)
							boilerFee +='<tr><td>Project Fee</td><td><span style="float:right">'+jArray[1][0]["projectFee"]+'</span></td></tr>';
						if(jArray[1][0]["passingCertificate"]!=0.0)
							boilerFee +='<tr><td>Passing Certificate</td><td><span style="float:right">'+jArray[1][0]["passingCertificate"]+'</span></td></tr>';
						if(jArray[1][0]["statementofMarksFee"]!=0.0)
							boilerFee +='<tr><td>Statement of Marks Fee</td><td><span style="float:right">'+jArray[1][0]["statementofMarksFee"]+'</span></td></tr>';
						if(jArray[1][0]["otherFee"]!=0.0)
							boilerFee +='<tr><td>Other Fee</td><td><span style="float:right">'+jArray[1][0]["otherFee"]+'</span></td></tr>';
						if(jArray[1][0]["departmentFee"]!=0.0)
							boilerFee +='<tr><td>Programme Fee</td><td><span style="float:right">'+jArray[1][0]["departmentFee"]+'</span></td></tr>';
						if(jArray[1][0]["specialFee"]!=0.0)
							boilerFee +='<tr><td>Super Late Fees</td><td><span style="float:right">'+jArray[1][0]["specialFee"]+'</span></td></tr>';
						if(jArray[1][0]["improvementGrades"]!=0.0)
							boilerFee +='<tr><td>Improvement Grades</td><td><span style="float:right">'+jArray[1][0]["improvementGrades"]+'</span></td></tr>';
						//alert("examinationFee===="+jArray[1][0]["examinationFee"]!=0.0);
						if(jArray[1][0]["examinationFee"]!=0.0)
							boilerFee +='<tr><td>Examination Fee</td><td><span style="float:right">'+jArray[1][0]["examinationFee"]+'</span></td></tr>';

							boilerFee +='<tr><td><b>Total Examination Fee(Rs.)</b></td><td><span style="float:right"><b>'+jArray[1][0]["totalAmount"]+'</b></span></td></tr>'+
							'<tr>'+
								'<td>Receipt No.</td>'+
								'<td></td>'+
							'</tr>'+
							'<tr>'+
								'<td>Date :</td>'+
								'<td></td>'+
							'</tr>';
							if(!isPayNowButton){
								boilerFee +=	'<tr>'+
								'<td colspan="2" style="text-align:center;" >'+
									'<div id="examPayNowBtn" style="display:none;" ></div>'+
								'</td>'+
							'</tr>';
							}
							boilerFee += '</tbody></table>';
					}
					else
						$('#examFeeStructDiv').html('<center><span style="font-size:12px"> Exam Structure Not Defined </span></center>');


					var printExamFormBoiler = '<br><table class="table table-bordered" >'+
													'<tr>'+
														'<td colspan="2" >'+
															 '<table class="table table-bordered" >'+
															 '<tr><td style="width:10%" rowspan="4" >'+
																'<div class="thumbnail">'+
																	'<img  height="80" width="80" src="getApplStudentProfileImage.json?type=profile&studentId='+jArray[1][0]["studentId"]+'"></img>'+
																'</div>'+
														 	'</td></tr>'+
															'<tr>'+
														 		'<td colspan="2" ><b>Name of Examination:</b></td>'+
														 		'<td colspan="2" >'+$('#cmbMainExamSchedule :selected').text()+'</td>'+
														 	 '</tr>'+
														 	 '<tr>'+
															 	'<td><b>Student Name:</b></td>'+
														 		'<td>'+jArray[1][0]["studentName"]+'</td>'+
														 		'<td><b>Mother Name:</b></td>'+
														 		'<td>'+jArray[1][0]["motherName"]+'</td>'+
														 	 '</tr>'+
														 	'<tr>'+
															 	'<td><b>Contact No:</b></td>'+
														 		'<td>'+jArray[1][0]["contactNo"]+'</td>'+
														 		'<td><b>Gender:</b></td>'+
														 		'<td>'+jArray[1][0]["gender"]+'</td>'+
														 	'</tr>'+
															 '</table>'+
														'</td>'+
													'</tr>';
					if(backlogFlag == 1){
						printExamFormBoiler += '<tr>'+
							'<td>'+boilerRegularSubject+'</td>'+
							'<td>'+boilerBacklogSubject+'</td>'+
						'</tr>';
					}else{
						printExamFormBoiler += '<tr>'+
								'<td>'+boilerRegularSubject+'</td>'+
							'</tr>';
					}
					printExamFormBoiler +='</table>';
					$('#editStudentExamFormModalDiv').html(printExamFormBoiler);
				}
			}
			else
			{
				printExamFormBoiler="";
				$('#editStudentExamFormModalDiv').html('');
			}
		},error:function(){

		}
	});
}
function getFacultyList(){

	var instituteCourseId=$('#cbInstiCourseId option:selected').val();
	var domain = 'Institute-'+instituteCourseId;
	$.ajax({
		url:'populateEmployeeListForSubjectAllocation2.json?domain='+domain+'&postTypes=-1',	// 1 id postTypeId for teaching
		dataType:'json',
		type:'GET',
		contentType:'application/json; charset=utf-8',
		beforeSend: function() {
			startCommonAjaxSpinner();
		},
		complete: function() {
			stopCommonAjaxSpinner();
		},
		success:function(jArray){
			var boiler='<option value="">Select</option>';
			if(jArray.length>0)
			{
				for(var i=0;i<jArray.length;i++)
				{
					if($("#cmbMentorName").val() !=jArray[i]["Id"])
						boiler+='<option value="'+jArray[i]["Id"]+'">'+jArray[i]["Name"]+'</option>';
				}
			}
			$("#cbApprovedStatus").html(boiler);
		},
	});

}

function LeftOrBreakAdmission(studentIds,admissionCancelDate,status,reason,employeeId,batchSemesterCapacityIdTerm)
{

	var instituteCourseStrengthId = $('#cbAcademicBatch option:selected').val().split('-')[0];
	var semesterId = $('#cmbSemDel2 option:selected').attr('semid');
	var lenOfTerm = $('#cmbSemDel2 option:selected').attr('lenSize');
	if(semesterId==undefined)
		semesterId=0;
	$.ajax({
		url: 'leftOrBreakManageStudent.json?studentIds='+studentIds+'&admissionCancelDate='+admissionCancelDate+'&reason='+reason+'&status='+status+'&employeeId='+employeeId+'&batchSemesterCapacityIdTerm='+batchSemesterCapacityIdTerm+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterId='+semesterId+'&lenOfTerm='+lenOfTerm,
		dataType:'text',
		async:false,
		beforeSend: function() {
			startCommonAjaxSpinner();
		},
		complete: function() {
			stopCommonAjaxSpinner();
		},
		success:function(txt){
			//showStudentInTargetBatch();
			if(txt=="error"){
				jAlert("Error! Please try again later");
			}else if(txt=="success"){
				jAlert("Save Successfully.","Message");
			}else{
				/*var subNameArr = new Array();
				for(i=0;i<txt.split(',').length-1;i++){
					$('.subjectBatchIdForUnallocate').each(function(){
						if($(this).attr('value')==txt.split(',')[i])
							subNameArr.push($(this).attr('subjectNameDel'));
					});
				}*/
				jAlert("These subjects are not allowed for deletion because result is finalized for these subjects. :"+ txt);
			}
			checkForActiveSemester();
			$('#changeStudentStatusDialog').modal('hide');
			
			
		},
		error:function(){
		}
	});

}

function exportStudentsAsDCP(status){

	var outBoundUniversityId = $('#cmbDCPUniName').val();
	var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	
	/*if(outBoundUniversityId == null){
		return 0;
	}*/
	
	if((status == 'true' || status ) && outBoundUniversityId == 0){
		jAlert("Please select university name");
		return;
	}
	var studentIdArray = new Array();
	
	if(status == 'true' || status){
		$('.selectedStudent:checked').each(function(){
			studentIdArray.push($(this).val());
		});
	}
	else{
		$('.DCPExStudent:checked').each(function(){
			studentIdArray.push($(this).val());
		});
	}
	if (studentIdArray.length > 0) {
		jConfirm('Do you want to continue?', 'Confirm', function(r){
			if(r){
				$.ajax({
					url : 'exportStudentsAsDCP.json',
					dataType : 'json',
					data : {studentIdArray : studentIdArray.toString(), status : status, outBoundUniversityId:outBoundUniversityId, semesterBatchId:semesterBatchId},
					type : 'POST',
					beforeSend : function() {
						startCommonAjaxSpinner();
					},
					complete : function() {
						stopCommonAjaxSpinner();
					},
					success : function(jArray) {
						$('#DCPUniversityListModal').modal('hide');
						if(status == 'true' || status){
							for(var i = 0; i < studentIdArray.length; i++){
								var studentId = studentIdArray[i];
								$('#studentRow-'+studentId).css({'background-color':'#FFFFCC'});
								$('#studentRow-'+studentId).find('#'+studentId).addClass('DCPExStudent');
								$('#studentRow-'+studentId).find('.outBoundUniversityId').attr('outbounduniversityid', outBoundUniversityId);
								$('#studentRow-'+studentId).find('.isDCPStudent').attr('isDCPStudent', true);
							}
						}
						else{
							jAlert("Successfully done", "Message");
							for(var i = 0; i < studentIdArray.length; i++){
								var studentId = studentIdArray[i];
								$('#studentRow-'+studentId).removeAttr("style");
								$('#studentRow-'+studentId).find('#'+studentId).removeClass('DCPExStudent');
								$('#studentRow-'+studentId).find('.outBoundUniversityId').attr('outbounduniversityid', 0);
								$('#studentRow-'+studentId).find('.isDCPStudent').attr('isDCPStudent', false);
							}
						}
						if(status == 'true' || status){
							getExportStudentsAsDCP();
						}
						
					},
					error : function() {
						jAlert("Error!!!");
					}

				});
			}
		});

	} else {
		jAlert('First select the students!');
	}
}

function getDCPUniversitylist(status)
{
	getstudentSubjectMapping();
	$('#subjectWiseStudentListForDeletionList3').html('');
	$('#subjectListDCP').html('');
	
	/*$('#cmbDCPSem').change(function(){
		var subjList = $('#opt1_'+$(this).val()).data('subjectName').split(',');
		var boiler = '';
		for(var i = 0; i < subjList.length; i++){
			boiler += '<tr><td><input type="checkbox" class="subjectBatchIdForUnallocate" value="'+subjList[i].split('~~')[1]+'"></td><td>'+subjList[i].split('~~')[0]+'</td></tr>';
		}
		
		$('#subjectWiseStudentListForDeletionList3').html(boiler);
		
	});*/
	/*
	$('#selectAllChksubjectWiseStudentList2').click(function(){
		if($(this).attr('checked')=="checked"){
			$('.subjectBatchIdForUnallocate').attr('checked',true);
		}else{
			$('.subjectBatchIdForUnallocate').attr('checked',false);
		}
	});*/
var studentIdArray = new Array();
	
	$('.selectedStudent:checked').each(function(){
		//if(!($(this).hasClass('foreignExStudent')))
			studentIdArray.push($(this).val());
	});

	if(studentIdArray.length > 0){
	
	$.ajax({
		url:'outBoundUnivAll.json',
		dataType:'json',
		async:false,
		beforeSend: function() {
			startCommonAjaxSpinner();

		},
		complete: function() {
			stopCommonAjaxSpinner();
		},
		success:function(jArray){
			
			$('#DCPUniversityListModal').modal('show').css({
				width: '700px',
				'margin-left': function () {
					return -($(this).width() / 2);
				}
			});
			/*$('#DCPUniversityBodyModal').css({
				height:'330px'
				//'margin-left':function(){ return -($(this).width()/2); }
			});*/
			var html = '<option value="0">Select</option>';
			var len = jArray.length;
			$('#cmbDCPUniName').html("");
			$('#cmbDCPUniName').html('<option value="0">Select</option>');
			for ( var i = 0; i < len; i++){
				if(jArray[i].DcpUni == "Yes"){
				html = '<option value="'+jArray[i]["outBoundUniversityId"]+'" id="opt_'+jArray[i]["outBoundUniversityId"]+'">'+jArray[i]["outBoundUniName"]+ '</option>';
				
				$('#cmbDCPUniName').append(html);
				$('#opt_'+jArray[i]["outBoundUniversityId"]).data('addr', jArray[i]["address"]);
				}
			}
			
		},
	});
	}
	else{
		jAlert("Please first select student");
	}
}

function getExportStudentsAsDCP(){

	var patternId = $('#cbAcademicBatch').val().split('-')[1];
	var semesterId = $('#cbSemesterId').val();
	var studentIdArray = new Array();
	var msg = "";
	$('.selectedStudent:checked').each(function(){
		studentIdArray.push($(this).val());
	});
	if($('#customerIdentificationObj').val() == 'IMT_NAGPUR' || $('#customerIdentificationObj').val() == 'IMT_DUBAI'){
		msg= "Students marked successfully as \'Step Programme Students\' </br>Do you want to map this students with Step Programme Subjects";
	}else{
		msg= "Students marked successfully as \'DCP Students\' </br>Do you want to map this students with DCP Subjects";
	}
	console.log(msg);
	jConfirm(msg, 'Confirm', function(r){
		if(r){
			$.ajax({
				url : 'getDCPSubjects.json',
				dataType : 'json',
				data : {semesterId : semesterId, patternId : patternId,spID:0,studentIdArray:studentIdArray.toString()},
				type : 'GET',
				beforeSend : function() {
					startCommonAjaxSpinner();
				},
				complete : function() {
					stopCommonAjaxSpinner();
				},
				success : function(jArray) {

					$('#foreignExchangeSubjectModal').modal('show').css({
						width:'850px',
						'margin-left':function(){ return -($(this).width()/2); }
					});
					var j=0;
					var boiler = '';
					var isDCPStudent = $('.selectedStudent:checked').closest('tr').find('.isDCPStudent').attr('isDCPStudent');
					boiler +='</table><table class="table table-bordered">'+
					'<thead><tr><th></th><th>Course Code</th><th>Course Name</th><th></th><th>Course Code</th><th>Course Name</th></tr></thead>';
					if(jArray.length > 0){

						for(var i=0;i<jArray.length;i++){
							if(j%2==0){
								boiler+='<tr>';
							}
							if(jArray[i].subjectWiseStudentId > 0){
								boiler+='<td style="align-text:center"><input class="ckhForgienExchangeSubjectName" value="'+jArray[i].subjectId+'" type="checkbox" ></td>';
							}else if(semesterId == 0 && isDCPStudent == "true"){
								boiler+='<td style="align-text:center"><input class="ckhForgienExchangeSubjectName" value="'+jArray[i].subjectId+'" type="checkbox" ></td>';
							}
							else{
								boiler+='<td></td>';
							}
							boiler+='<td>'+jArray[i]["subjectCode"]+'</td>'+
							'<td>'+(jArray[i]["subjectName"].gemsDecode())+'</td>';

							j++;
							if(j/2==0)
							{
								boiler+='</tr>';
								j==0;
							}
						}
					}
					else{
						boiler+='<tr><td colspan=4 style="text-align:center">No Data Found</td></tr>';
					}
					boiler+='</table>';
					if(jArray.length > 0){
						boiler+='<div><input type="button" class="btn btn-mini btn-inverse" onclick="assignForeignExchangeSubjectToStudent();" value="Save"/>';
					}
					$("#viewForeignExchangeSubject").html(boiler);
				},
				error : function() {
					jAlert("Error!!!");
				}

			});
		}else{
			if(semesterId == 0){
				$('#btnFresher').trigger('click');
			}else{
				$('#btnSubmit').trigger('click');
			}
			
		}
	});
}

function markAsStepProgramme()
{

	var studentIdArrayList = new Array();

	$('.selectedStudent:checked').each(function(){
		studentIdArrayList.push($(this).val());
	});

	if(studentIdArrayList.length > 0){

		$.ajax({
			url:'setStepProgrammeStudent.json',
			dataType:'json',
			data : {studentIdArray : studentIdArrayList.toString()},
			async:false,
			beforeSend: function() {
				startCommonAjaxSpinner();
			},
			complete: function() {
				stopCommonAjaxSpinner();
			},
			success:function(jArray){
				checkForActiveSemester();
				jAlert("Student mark suceessfully");
			},
		});
	}
	else{
		jAlert("Please first select student");
	}

}

function removeAsStepProgramme()
{
	var studentIdArrayList = new Array();

	$('.selectedStudent:checked').each(function(){
		studentIdArrayList.push($(this).val());
	});

	if(studentIdArrayList.length > 0){

		$.ajax({
			url:'removeStepProgrammeStudent.json',
			dataType:'json',
			data : {studentIdArray : studentIdArrayList.toString()},
			async:false,
			beforeSend: function() {
				startCommonAjaxSpinner();
			},
			complete: function() {
				stopCommonAjaxSpinner();
			},
			success:function(jArray){
				checkForActiveSemester();
				jAlert("Student remove suceessfully");
			},
		});
	}
	else{
		jAlert("Please first select student");
	}


}
function downloadMapStreamAndSpecializationTemplate(){
	var instituteCourseId = $('#cbInstiCourseId').val();
	var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	window.open('downloadMapStreamAndSpecializationTemplate.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId);
}
function initMapStreamAndSpecialization(instituteCourseId,instituteCourseStrengthId,callback){
	$(document).ready(function(){
		new AjaxUpload('studentUploadBar', {
			action : 'uploadMapStreamAndSpecialization.json',
			data : {
				'instituteCourseId' : instituteCourseId,
				'instituteCourseStrengthId' : instituteCourseStrengthId
			},
			name : 'fileData',
			size:AllowedFileSize.EXCELSHEET_UPLOAD,
			onSubmit : function(file, extension) {
				if (extension.toString().toLowerCase() == 'xls') {
					startLoading();
				} else {
					jAlert('Only Ms excel(.xls) file is permitted');
					return false;
				}
			},
			onComplete : function(file, response) {
				var jObject = eval('('+response+')');
				stopLoading();
				callback(jObject);
			}
		});


	});
}
function startMapStreamAndSpecialization(instituteCourseId,instituteCourseStrengthId){

	//var instituteCourseId=$('#applicantInstCourseCmb').val().split("-")[0];
	//console.log("instituteCourseId"+instituteCourseId+",instituteCourseStrengthId........"+instituteCourseStrengthId);
	initMapStreamAndSpecialization(instituteCourseId,instituteCourseStrengthId,function(jObject){
		var array = new Array();
		var errorCode = jObject.errorCode;
		if(errorCode == 0){
			$('.response').html('<div class="alert alert-success"><button type="button" class="close" data-dismiss="alert">X</button><i class = "icon-ok"></i>&nbsp;&nbsp;File has been uploaded successfully. Click here to<a href = "javascript:void(0)" onclick = "undoQuestionnairUpload(\''+array+'\')"> <span class="help-inline"><b>UNDO</b></span></a> this action</div>');
			checkForActiveSemester();
		} else {
			var jArray  = jObject.errorList;
			for(var i = 0 ; i < jArray.length ; i++){
				array.push(jArray[i].responseText);
			}
			var errorList = array.join("<br>");
			$('.response').html('<div class="alert alert-error"><button type="button" class="close" data-dismiss="alert">X</button>Uploading failed<br>'+errorList+'.</div>');
		}
	});
	var size = AllowedFileSize.EXCELSHEET_UPLOAD / (1024*2014);
	size = parseFloat(size).toFixed(1);
	$('.fileSizeAllowed').html(size);
}
function startUploading(instituteCourseId,instituteCourseStrengthId)
{
	$('#studentUploadBar').attr('disabled',false);
	startMapStreamAndSpecialization(instituteCourseId,instituteCourseStrengthId);
}
 function getInBound(status)
 {
	 jConfirm('Do you want to continue?', 'Confirm', function(r){
		 if(r){
			 var studentIdArrayList = new Array();

			 $('.selectedStudent:checked').each(function(){
				 //if(!($(this).hasClass('foreignExStudent')))
				 studentIdArrayList.push($(this).val());
			 });
			 if(studentIdArrayList.length > 0){
				 $.ajax({
					 url:'inBoundByStuentId.json',
					 dataType:'json',
					 data : {studentIdArray : studentIdArrayList.toString()},
					 async:false,
					 beforeSend: function() {
						 startCommonAjaxSpinner();

					 },
					 complete: function() {
						 stopCommonAjaxSpinner();
					 },
					 success:function(jArray){
						 jAlert("Successfully done", "Message");

					 },
				 });
			 }
			 else{
				 jAlert("Please first select student");
			 }
		 }
	 });
}
 
 
 function showStudentListByCourseSemeserAndDivisionForBranchTransfer(sortingParam,namingOrderValue,semesterBatchId, callback) {
		lastFunctionCalled = "showStudentListByCourseSemeserAndDivision('"+sortingParam+"',"+namingOrderValue+","+semesterBatchId+","+callback+")";
		gStudentsIds = new Array();
		gStudentBatchIds = new Array();
		var url = '';
		if (semesterBatchId == undefined) {
			semesterBatchId = getSemesterBatchId();
		}
		if (semesterBatchId == undefined) {
			var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
			if(instituteCourseStrengthId.toLowerCase() != 'select'){
				var shiftType = $('#shiftType').val();

				if ($('#chkNewStudent').is(':checked')) {
					url = 'fresherStudentListByBatchSP.json?batchId='+ instituteCourseStrengthId+'&shift='+shiftType;
					if (sortingParam != undefined)
						url = 'fresherStudentListByBatchSP.json?batchId='+ instituteCourseStrengthId + '&sortingParam='+ sortingParam+'&shift='+shiftType;
				}
			}
		} else if (semesterBatchId != undefined) {
			url = 'studentListSP.json?semesterBatchId=' + semesterBatchId;
			if (sortingParam != undefined && sortingParam !="undefined")
				url = 'studentList.json?semesterBatchId=' + semesterBatchId+ '&sortingParam=' + sortingParam;
		}
		try {
			$.ajax({
				url : url,
				dataType : 'json',
				async : false,
				beforeSend : function() {
			//		startCommonAjaxSpinner();
				},
				complete : function() {
			//		stopCommonAjaxSpinner();
				},
				success : function(jArray) {
					gStudentListJsonArray = jArray;
					/**
					 * @comment This function is a generic function which should be
					 *          overriden by those jS pages who will use this
					 *          pluggin
					 */
					showStudentListInGridForStudentBranchTransferff(namingOrderValue);
					try {
						/**
						 * @comment This function is a generic function which should
						 *          be overriden by those jS pages who will use
						 *          student subject allocation
						 */
						showStudentListInDialog(namingOrderValue);
						callback(jArray);
					} catch (e) {
						// ////////alert(e);
					}

				},
				error : function() {
					jAlert("Server error: Please refresh the page and try again!!!");
				}
			});
		} catch (e) {

		}
	}
 
 

 function showStudentListInGridForStudentBranchTransferff(intNamingOrderValue) {
 		$('#divStudentInvoiceGeneration').hide();
		/** Default */
		if(intNamingOrderValue == undefined)
			intNamingOrderValue = 1;
		clearStudentGrid();
		var len = gStudentListJsonArray.length;
		var cnt = 1;
		var first  = "firstName";
		var second = "lastName";

		if(intNamingOrderValue>2)
		{
			first  = "lastName";
			second = "firstName";
		}
		var customerIdentificationObj = $('#customerIdentificationObj').val();
		var customerWiseDispalyOption = (customerIdentificationObj == 'IMT_NAGPUR' || customerIdentificationObj == 'IMT_GAZIABAD' || customerIdentificationObj == 'IMT_HYDERABAD') ? 'display:none;' : '';
		var mainDepartmentHeading = (customerIdentificationObj == 'IMT_NAGPUR' || customerIdentificationObj == 'IMT_GAZIABAD' || customerIdentificationObj == 'IMT_HYDERABAD') ? 'Main Stream' : 'Main Department';
		var boiler = ''+
		'<fieldset id="fildofcolor" style="border: 1px solid gray;padding: 5px;margin-top: 10px;display:none">'+
		'  <legend style="width: auto;font-weight: bold;padding: 2px;">Colour Indicators</legend>'+
		'<span class="label" style="background-color:#dcedc7;color:#000"><i class="fa fa-hand-o-right"></i>This color indicate freezed. </span>'+
		'<span class="label" style="color:#000"><i class="fa fa-ban"></i>  Indicate not freezed. </span>'+
		'<span class="label" style="background-color:#d8a38e;color:#000"><i class="fa fa-hand-o-right"></i> Can not allow promotional student to transfer </span>'+
		'</fieldset>';
		
		/** Designing Header of student table*/
		boiler += '<div><table class="table table-bordered"><th>Category:<br><span float:left><select id="typeCategoryDrop" onchange="getSortDataWithFilterBYType()"></select></th>' +
                       '<th>Admission Type:<br><span float:left><select id="admissionTypeDrop" onchange="getSortDataWithFilterBYType()"></select></th></tr></table></div><br/><table class="table table-bordered table-condensed tblManageStudentGrid" id="pro1">'
			+'<thead>'
				+'<tr id="studentRow">'
					+'<th>Sr.No.</th>' //Serial No
					+'<th><input type="checkbox" id="selectAllCat" onclick="selectAllCatgoryWise()"></input></th>' //Check Box
					+'<th></th>' //Profile Pic
					+'<th style="display:none"></th>' //Student Id
					+'<th style="display:none"></th>' //Student Batch Id
					+'<th>'+juno.labelByCustomer('l.Customerwise.RollNo.Label')+'</th>' //Roll No
					+'<th style="display:none"></th>' //Roll No
					+'<th style="display:none"></th>' //Roll No
					+'<th style="display:none"></th>'; //Roll No
					if($('#customerHelper').val()=="CHANAKYA")
						boiler +=	'<th style="">PC no</th>'; //Roll No
					
					
					boiler +='<th width="20%" style="">Name</th>' // Student Name
					+'<th style="">Email Id</th>' // Email
					+'<th style="">Gender</th>' // Gender
					+'<th style="">Phone No.</th>' // Mobile No
					
					+'<th style="">Admission Type</th>' // Mobile No
					+'<th style="">Admission Type Categories</th>' // Mobile No
				
					
					+'<th style="'+customerWiseDispalyOption+'">Batch</th>' // Sub-Batch
					+'<th style="'+customerWiseDispalyOption+'">PCM marks</th>' // Physic Chem Maths Marks
					+'<th style="'+customerWiseDispalyOption+'">Specialization</th>' // Specialization (for MBA students)
					+'<th style="">'+mainDepartmentHeading+'</th>' //Main Root Department
					+'<th style="display:none"></th>' // Deparment promotion Id
					+'<th style="display:none"></th>' // Parent Institute Course ID
					+'<th style="">Section Joining Date</th>' // Joining date
					+'<th style="'+customerWiseDispalyOption+'">Export Status</th>';
			if($('#customerIdentificationObj').val() == 'IMT_NAGPUR' || $('#customerIdentificationObj').val() == 'IMT_DUBAI' || $('#customerIdentificationObj').val() == 'IMT_GAZIABAD' || $('#customerIdentificationObj').val() == 'IMT_HYDERABAD'){
				boiler +='<th>Application No.</th>';
			}else{
			boiler +='<th>Group Name</th>'; // Change User Name
			}
			boiler +='<th>STUDENT LIVE ATKT</th>'
					+'<th>Edit</th>' // Parent Institute Course ID
					+'<th style="display:none"></th>'
					+'<th style="display:none"></th>'
					+'<th style="display:none"></th>'
					+'<th style="display:none"></th>'
					+'<th style="display:none"></th>'
					+'<th style="display:none"></th>'
					+'<th style="display:none"></th>'
					+'<th style="display:none"></th>'
				+'</tr>'
			+'</thead>'
			+'<tbody>';
		var counts=0;
		var admissTypeArr=new Array();
		var catArr=new Array();
		for(var i = 0 ; i < len ; i++){
			
			
			var name ="";
			if(intNamingOrderValue>2)
				name = gStudentListJsonArray[i].lastName + ' ' + gStudentListJsonArray[i].firstName+' '+gStudentListJsonArray[i].middleName;
			else
				name = gStudentListJsonArray[i].firstName + ' ' + gStudentListJsonArray[i].middleName+' '+gStudentListJsonArray[i].lastName;

			var rollNo = gStudentListJsonArray[i].rollNo.toString() != ""?gStudentListJsonArray[i].rollNo:"-";
			var studentUniqueNumber = gStudentListJsonArray[i].studentUniqueNumber.toString() != ""?gStudentListJsonArray[i].studentUniqueNumber:"-";
			var mobileNo="";
			if(gStudentListJsonArray[i].mobileNumber != undefined)
			{
				mobileNo=gStudentListJsonArray[i].mobileNumber;
			}	
			
			var groupName="";
			if(gStudentListJsonArray[i].groupName != undefined)
			{
				groupName=gStudentListJsonArray[i].groupName;
			}
			/*if(gStudentListJsonArray[i].feePaymentStatus=='Please verify the last year Invoice ')
			boiler +='<tr id="studentRow-'+gStudentListJsonArray[i].studentId+'" style="background-color:#dddeee;color:#fff" class="studentRow">';freezedBy
			else{*/
			var foreignExStyle = gStudentListJsonArray[i].isForeignExchangeStudent == 'true' || gStudentListJsonArray[i].isForeignExchangeStudent == true ? "style=\"background-color:#FCB9B9;\"" : "";
			var foreignExClass = gStudentListJsonArray[i].isForeignExchangeStudent == 'true' || gStudentListJsonArray[i].isForeignExchangeStudent ? "foreignExStudent" : "";
			var DCPExStyle = gStudentListJsonArray[i].isDCPStudent == 'true' || gStudentListJsonArray[i].isDCPStudent == true ? "style=\"background-color:#FFFFCC;\"" : "";
			var DCPExClass = gStudentListJsonArray[i].isDCPStudent == 'true' || gStudentListJsonArray[i].isDCPStudent ? "DCPExStudent" : "";
			var cBatch = gStudentListJsonArray[i].status == undefined ? "-" : gStudentListJsonArray[i].status; 
			var stepProgramme = gStudentListJsonArray[i].stepProgramme == 'true' || gStudentListJsonArray[i].stepProgramme == true ? "style=\"background-color:#e6e6ff;\"" : "";
			var clstoPromote =(gStudentListJsonArray[i].freezedBy!="-" && (gStudentListJsonArray[i].freezedStatus!="false" || gStudentListJsonArray[i].freezedStatus!=false)) ? "style=\"background-color:#dcedc7;\"" : "";
			
			if(gStudentListJsonArray[i].freezedBy!="-" && (gStudentListJsonArray[i].freezedStatus!="false" || gStudentListJsonArray[i].freezedStatus!=false)){
				counts ++;
			}
			
			
			
			if(!admissTypeArr.includes(gStudentListJsonArray[i].admissiontype))
				admissTypeArr.push(gStudentListJsonArray[i].admissiontype);
				
			if(!catArr.includes(gStudentListJsonArray[i].admissiontypeCategories))
				catArr.push(gStudentListJsonArray[i].admissiontypeCategories);
			
			
			boiler +='<tr admissiontype="'+gStudentListJsonArray[i].admissiontype+'" category="'+gStudentListJsonArray[i].admissiontypeCategories+'" id="studentRow-'+gStudentListJsonArray[i].studentId+'" '+(foreignExStyle)+' '+(DCPExStyle)+' '+(stepProgramme)+' '+(clstoPromote)+'>';
			//} <i class="fa fa-ban"></i>
			boiler +='<td>'+(i+1)+'</th><th>';
			if ($('#customerHelper').val() == "RCOEM") {
				if(gStudentListJsonArray[i].freezedBy!="-" && (gStudentListJsonArray[i].freezedStatus!="false" || gStudentListJsonArray[i].freezedStatus!=false)){
					boiler +='<input type="checkbox" class="selectedStudent '+foreignExClass+' '+DCPExClass+'" value="'+gStudentListJsonArray[i].studentId+'" id="'+gStudentListJsonArray[i].studentId+'" onclick="selectStudentBatchGrid(\'studentRow-'+gStudentListJsonArray[i].studentId+'\')"></th>';
				}else{
					boiler +='<i class="fa fa-ban"></i></th>';
				}
			}else{
				if(gStudentListJsonArray[i].isPromotionalStudent!=""){
					boiler +='</th>';
				}else{
					boiler +='<input type="checkbox" class="selectedStudent '+foreignExClass+' '+DCPExClass+'" value="'+gStudentListJsonArray[i].studentId+'" id="'+gStudentListJsonArray[i].studentId+'" onclick="selectStudentBatchGrid(\'studentRow-'+gStudentListJsonArray[i].studentId+'\')"></th>';
				}
			}
			boiler +='<td class="profilePhoto"><img class="pointer" height="35px" id="studentImg-'+gStudentListJsonArray[i].studentId+'" width="35px" src="getStudentProfileImageById.json?id='+gStudentListJsonArray[i].studentId+'"></th>' //Profile Pic
			+'<td class="hdnStudentIdClnt" style="display:none">'+gStudentListJsonArray[i].studentId+'</td>' //Student Id
			+'<td class="hdnStudentBatchIdClnt" style="display:none">'+gStudentListJsonArray[i].studentBatchId+'</td>' //Student Batch Id
			+'<td class="rollNo" >'+rollNo+'</td>'; // Roll No
			if($('#customerHelper').val()=="CHANAKYA")
				boiler +='<td class="studentUniqueNumber" >'+studentUniqueNumber+'</td>'; // PC no.
			
			boiler +='<td class="firstName" style="display:none">'+gStudentListJsonArray[i].firstName+'</td>' // Roll No
			+'<td class="middleName" style="display:none">'+gStudentListJsonArray[i].middleName+'</td>' // Roll No
			+'<td class="lastName" style="display:none">'+gStudentListJsonArray[i].lastName+'</td>' // Roll No
			+'<td class="name" width="20%" style="font-size:11.5px">'+name+'</td>' // Student Name
			+'<td class="email" style="">'+gStudentListJsonArray[i].emailId+'</td>' // Email
			+'<td class="gender" style="">'+gStudentListJsonArray[i].gender+'</td>' // Gender
			+'<td class="phoneNo" style="">'+mobileNo+'</td>' // Mobile No
			
			+'<td class="admissiontype" style="" >'+gStudentListJsonArray[i].admissiontype+'</td>' // Mobile No
			+'<td class="admissiontypeCategories" style="" >'+gStudentListJsonArray[i].admissiontypeCategories+'</td>' // Mobile No
		
			
			+'<td class="subbatch" style="'+customerWiseDispalyOption+'">'+cBatch+'</td>' // Sub-Batch
			+'<td class="pcmMarks" style="text-align:right;'+customerWiseDispalyOption+'">'+gStudentListJsonArray[i].pcmMarks+'</td>' // Physic Chem Maths Marks
			+'<td class="speli" style="'+customerWiseDispalyOption+'">'+gStudentListJsonArray[i].qualiSpecializationName+'</td>' // Specialization (for MBA students)
			+'<td class="parentDepartmentId" style="">'+gStudentListJsonArray[i].parentDepartmentName+'</td>' //Main Root Department
			+'<td class="deptPromotionId" style="display:none">'+gStudentListJsonArray[i].deptPromotionId+'</td>' // Department Promotion ID
			+'<td class="parentInstituteCourseId" style="display:none">'+gStudentListJsonArray[i].parentInstituteCourseId+'</td>' // Parent Institute Course ID
			+'<td class="admissionDate" style="">'+gStudentListJsonArray[i].admissionDate+'</td>' // Parent Institute Course ID
			+'<td class="exportStatus" style="'+customerWiseDispalyOption+'" stud="'+gStudentListJsonArray[i].studentId+'" fresher="'+gStudentListJsonArray[i].fresher+'">'+gStudentListJsonArray[i].exportStatus+'</td>';
			if($('#customerIdentificationObj').val() == 'IMT_NAGPUR' || $('#customerIdentificationObj').val() == 'IMT_DUBAI' || $('#customerIdentificationObj').val() == 'IMT_GAZIABAD' || $('#customerIdentificationObj').val() == 'IMT_HYDERABAD'){
				boiler +='<td>'+gStudentListJsonArray[i].IMTApplicationNo+'</td>';
			}else{
				boiler +='<td class="groupName">'+groupName+'</td>';
			}
			
			boiler +='<td class="atktCount" style="text-align:center;">'+gStudentListJsonArray[i].atktCount+'</td>'
			+'<td><a href="javascript:void(0)" class="editStudent" title="Edit Record"><i class="icon-edit"></i></a></td>' // Edit student Button
			+'<td class="majorOpenElectiveSubjectId" style="display:none">'+gStudentListJsonArray[i].majorOpenElectiveSubjectId+'</td>'
			+'<td class="minorOpenElectiveSubjectId" style="display:none">'+gStudentListJsonArray[i].minorOpenElectiveSubjectId+'</td>'
			+'<td class="studentId" studentId="'+gStudentListJsonArray[i].studentId+'" style="display:none">'+gStudentListJsonArray[i].studentId+'</td>'
			+'<td class="isForeignExchangeStudent" isForeignExchangeStudent="'+gStudentListJsonArray[i].isForeignExchangeStudent+'" style="display:none">'+gStudentListJsonArray[i].isForeignExchangeStudent+'</td>'
			+'<td class="outBoundUniversityId" outBoundUniversityId="'+gStudentListJsonArray[i].outBoundUniversityId+'" style="display:none">'+gStudentListJsonArray[i].outBoundUniversityId+'</td>'
			+'<td class="studentOutBoundMapId" studentOutboundId='+gStudentListJsonArray[i].studentOutBoundMapId+' style="display:none">'+gStudentListJsonArray[i].studentOutBoundMapId+'</td>'
			+'<td class="isDualSpecialization" isDualSpecialization='+gStudentListJsonArray[i].isDualSpecialization+' style="display:none">'+gStudentListJsonArray[i].isDualSpecialization+'</td>'
			+'<td class="isDCPStudent" isDCPStudent="'+gStudentListJsonArray[i].isDCPStudent+'" style="display:none">'+gStudentListJsonArray[i].isDCPStudent+'</td>'
			
			//alert("==="+gStudentListJsonArray[i].majorOpenElectiveSubjectId)outBoundUniNamestudentOutBoundMapId;
			+'</tr>';

			


		}
		boiler += '</tbody>'
		+'</table>';


		$('#student-management-grid').html(boiler);
		if(counts >0)
        $('#fildofcolor').show();
        
		oTable = $('.tblManageStudentGrid').dataTable({
	        "sDom": "<'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span6'i><'span6'p>>",
	        "sPaginationType": "bootstrap",
	        "oLanguage": {
				"sLengthMenu": "_MENU_ records per page"
			},
			"iDisplayLength":-1,
	    });
	    $('.dataTables_length').hide();


     	bindFilterTobindDrop(catArr,'typeCategoryDrop');
        bindFilterTobindDrop(admissTypeArr,'admissionTypeDrop');
		$("#curryearid").html('('+gStudentListJsonArray[0].invoiceFromYear+'-'+gStudentListJsonArray[0].invoiceToYear+')');
		if( gStudentListJsonArray[0].invoiceFromYear!=""&& gStudentListJsonArray[0].invoiceToYear!=""){
			 $("#nextyearId").html('('+(eval(gStudentListJsonArray[0].invoiceFromYear)+(1))+'-'+(eval(gStudentListJsonArray[0].invoiceToYear)+(1))+')');
		}
	     
	     
	     $("input[value='Transfer']").attr('_fromYr',gStudentListJsonArray[0].invoiceFromYear);
	      $("input[value='Transfer']").attr('_toyear',gStudentListJsonArray[0].invoiceToYear);
         $("input[value='Promotion']").attr('_fromYr',eval(gStudentListJsonArray[0].invoiceFromYear)+(1));
          $("input[value='Promotion']").attr('_toyear',eval(gStudentListJsonArray[0].invoiceToYear)+(1));
	       $('#student-management-grid').find('.profilePhoto').bind('click',function(){
	    	   var trObj = $(this).parents('tr');
	    	   var studentId = $(trObj).find('.hdnStudentIdClnt').text();
	    	   showPhotoDialog('studentImg-'+studentId,studentId,'student');
	       });

	       $('#student-management-grid').find('.editStudent').bind('click',function(){
	    	   //alert('hi');
	    	   var trObj = $(this).parents('tr');
	    	   var rollNo = $(trObj).find('.rollNo').text();
	    	   
	    	   var studentUniqueNumber = '';
	    	   if($('#customerHelper').val()=="CHANAKYA")
	    		   studentUniqueNumber = $(trObj).find('.studentUniqueNumber').text();
	    	   
	    	   var hdnStudentIdClnt = $(trObj).find('.hdnStudentIdClnt').text();
	    	   var hdnStudentBatchIdClnt = $(trObj).find('.hdnStudentBatchIdClnt').text();
	    	   var name = $(trObj).find('.name').text();
	    	   var firstName = $(trObj).find('.firstName').text();
	    	   var middleName = $(trObj).find('.middleName').text();
	    	   var lastName = $(trObj).find('.lastName').text();
	    	   // alert(name);
	    	   
	    	   var gender = $(trObj).find('.gender').text();
	    	   var phoneNo = $(trObj).find('.phoneNo').text();
	    	   var subbatch = $(trObj).find('.subbatch').text();
	    	   var speli = $(trObj).find('.speli').text();
	    	   var deptPromotionId = $(trObj).find('.deptPromotionId').text();
	    	   var parentInstituteCourseId = $(trObj).find('.parentInstituteCourseId').text();
	    	   var admissionDate = $(trObj).find('.admissionDate').text();
	    	   var majorOpenElectiveSubjectId = $(trObj).find('.majorOpenElectiveSubjectId').text();
	    	   var minorOpenElectiveSubjectId = $(trObj).find('.minorOpenElectiveSubjectId').text();
	    	   //alert("===="+majorOpenElectiveSubjectId);
	    	   var jObject = {
	    			   rollNo:rollNo,
	    			   studentUniqueNumber : studentUniqueNumber,
	    			   firstName:firstName,
	    			   middleName:middleName,
	    			   lastName:lastName,
	    			   hdnStudentIdClnt:hdnStudentIdClnt,
	    			   hdnStudentBatchIdClnt:hdnStudentBatchIdClnt,
	    			   name:name,
	    			   gender:gender,
	    			   phoneNo:phoneNo,
	    			   subbatch:subbatch,
	    			   speli:speli,
	    			   deptPromotionId:deptPromotionId,
	    			   parentInstituteCourseId:parentInstituteCourseId,
	    			   admissionDate:admissionDate,
	    			   majorOpenElectiveSubjectId:majorOpenElectiveSubjectId,
	    			   minorOpenElectiveSubjectId:minorOpenElectiveSubjectId,
	    	   };
	    	   showStudentEditRecordDialog(jObject,trObj);
	       });

	       $('#student-management-grid').find('.studentRow').bind('dblclick',function(){
	    	   //alert('hi');
	    	   var customerIdentificationObj = $('#customerIdentificationObj').val();
	    	   var trObj = $(this);
	    	   var rollNo = $(trObj).find('.rollNo').text();
	    	   var hdnStudentIdClnt = $(trObj).find('.hdnStudentIdClnt').text();
	    	   var hdnStudentBatchIdClnt = $(trObj).find('.hdnStudentBatchIdClnt').text();
	    	   var name = $(trObj).find('.name').text();
	    	   var firstName = $(trObj).find('.firstName').text();
	    	   var middleName = $(trObj).find('.middleName').text();
	    	   var lastName = $(trObj).find('.lastName').text();
	    	  // alert(name);
	    	   var gender = $(trObj).find('.gender').text();
	    	   var phoneNo = $(trObj).find('.phoneNo').text();
	    	   var subbatch = $(trObj).find('.subbatch').text();
	    	   var speli = $(trObj).find('.speli').text();
	    	   var deptPromotionId = $(trObj).find('.deptPromotionId').text();
	    	   var parentInstituteCourseId = $(trObj).find('.parentInstituteCourseId').text();
	    	   var admissionDate = $(trObj).find('.admissionDate').text();
	    	   var majorOpenElectiveSubjectId = $(trObj).find('.majorOpenElectiveSubjectId').text();
	    	   var minorOpenElectiveSubjectId = $(trObj).find('.minorOpenElectiveSubjectId').text();
	    	   var jObject = {
	    			   rollNo:rollNo,
	    			   firstName:firstName,
	    			   middleName:middleName,
	    			   lastName:lastName,
	    			   hdnStudentIdClnt:hdnStudentIdClnt,
	    			   hdnStudentBatchIdClnt:hdnStudentBatchIdClnt,
	    			   name:name,
	    			   gender:gender,
	    			   phoneNo:phoneNo,
	    			   subbatch:subbatch,
	    			   speli:speli,
	    			   deptPromotionId:deptPromotionId,
	    			   parentInstituteCourseId:parentInstituteCourseId,
	    			   admissionDate:admissionDate,
	    			   majorOpenElectiveSubjectId:majorOpenElectiveSubjectId,
	    			   minorOpenElectiveSubjectId:minorOpenElectiveSubjectId,
	    	   };
	    	   showStudentEditRecordDialog(jObject,trObj);
	       });

	       /**
	        * <li class="studentoption option-allocateroll" title = "Allocate roll nos of all student of the selected division"><a href="javascript:void(0)" onclick = "openRoleAllocationDialog();">Allocate to all student</a></li>
		    <li class="studentoption option-resetroll" title = "Unassign roll nos of all student of the selected division"><a href="javascript:void(0)" onclick="resetRollNoOfStudentByDivision();">Un-Assign roll no</a></li>
		    <li class="divider"></li>
		    <li class="studentoption option-changestatus" title = "Toggle status of student to blocked"><a href="javascript:void(0)" onclick="">Change Status</a></li>
		    <li class="studentoption option-addstudent" title = "Add a new student in ERP"><a href="javascript:void(0)" onclick="">Add Student</a></li>
		    <li class="studentoption option-deletest   udent" title = "Delete selected students from ERP"><a href="javascript:void(0)" onclick="">Delete student</a></li>
		    <li class="studentoption option-unblockstudent" title = "Unblock the blocked student"><a href="javascript:void(0)" onclick="">Unblock student</a></li>
		    <li class="divider"></li>
		    <li class="studentoption option-allocatedivision" title = "Allocate / Change Division of selected student"><a href="javascript:void(0)" onclick="">Allocate division</a></li>
		    <li class="studentoption option-changedept" title = "Change department of selected student"><a href="javascript:void(0)" onclick="">Change department</a></li>
		    <li class="studentoption option-promot" title = "Promot to the new department of selected student"><a href="javascript:void(0)" onclick="">Promot</a></li>
	        */


	       $('.studentoption').unbind();
	       $('.studentoption').bind('click',function(){
	    	   if($(this).hasClass('option-changestatus')){
	    		   if(checkSelectedStudent()){
	    			   showChangeStudentStatusForm();
	    			   populateStudentStatus();
	    			   //alert("calling");
	    		   } else {
	    			   jAlert('Please select at least one student.');
	    		   }
	    	   } else if($(this).hasClass('option-changestatus')){
	    		   if(checkSelectedStudent()){
	    			   showChangeStudentStatusForm();
	    			   populateStudentStatus();
	    		   } else {
	    			   jAlert('Please select at least one student.');
	    		   }
	    	   } else if($(this).hasClass('option-addstudent')){
	    		   if(validateAddStudentForm()){
	    			   checkForPromotionInDepartment(function(jObject){
	    				   if(jObject.hasPromotionInDepartment){
	    					   var boiler  = '<option value="0">--- Select ---</option>';
	    					   $('#cbInstiCourseId option').each(function(){
	    						   var val = $(this).val().split('-')[0];
	    						   var text = $(this).text();
	    						   boiler += '<option value="'+val+'">'+text+'</option>';
	    					   });
	    					   $('#cmbStudentParentDepartment').html(boiler);
							   convertComboToSearchable('#cmbStudentParentDepartment');
	    					   $('#trParentDepartmentRow').show();
	    				   } else {
	    					   $('#trParentDepartmentRow').hide();
	    				   }
	    				   openAddStudentDialog();
	    			   });
	    		   }
	    	   } else if($(this).hasClass('option-deletestudent')){
	    		   var message =
	    			   '<div class = "alert alert-info" style="padding:2px;">';
					if($('#customerIdentificationObj').val() == 'IMT_NAGPUR' || $('#customerIdentificationObj').val() == 'IMT_DUBAI' || $('#customerIdentificationObj').val() == 'IMT_GAZIABAD' || $('#customerIdentificationObj').val() == 'IMT_HYDERABAD'){
	    				   message += '<p style="font-weight:bold;"><i class="icon-hand-right"></i>&nbsp;&nbsp;<u>Please note the warning:</u></p>';
	    				   message +='The students which have been fetched from placement registration will NOT be deleted.<br><br>';
	    			   }
	    			   message +='<b>Are you sure to delete<b>?'+
	    			   '</div>';
	    		   jConfirm(message,'Confirmation',function(flag){
	    			   if(flag){
	    				   deleteStudent(getSelectedStudentBatchId());
	    			   }
	    		   });
	    	   } else if($(this).hasClass('option-unblockstudent')){
	    		   // var studentBatchIdArray = getSelectedStudentBatchId();
	    		   // alert(studentBatchIdArray.length);
	    		   // if(studentBatchIdArray.length > 0){
	    		   showBlockedStudentListDialog();

	    		   /*
		   				jConfirm('Are you sure?','Confirmation',function(flag){
		   					if(flag){
		   						unblockStudentYearDownStudent(getSelectedStudentBatchId(),getSemesterBatchId());
		   					}
		   				});*/
	    		   // } else {
	    		   //jAlert('Select record');
	    		   // }
	    	   } else if($(this).hasClass('option-allocatedivision')){
	    		   var studentBatchIdArray = getSelectedStudentBatchId();
	    		   if(studentBatchIdArray.length > 0){
	    			   
	    			   populateAcademicSessionByCourseStrengthId(undefined,'cbTargetAcademicSession',undefined,function(jArray){
	    				   if(jArray.length > 0){
	    					   $('#cbTargetAcademicSession').unbind();
	    					   $('#cbTargetAcademicSession').change(function(){
	    						   var instituteCourseStrengthId = $('#cbTargetAcademicSession option:selected').attr('id');
	    						   var divisionId =  $('#cbBatchId').val().split('-')[0];
	    						   getCurrentDivisionByInstituteCourseStrengthIdForTransferDivision(instituteCourseStrengthId,divisionId,function(runningDivisionjArray){
	    							   if(runningDivisionjArray.length > 0){
	    								   populateCurrentDivisionByInstituteCourseStrengthId(runningDivisionjArray,'cbTargetBatchId');
	    							   } else {
	    								   jAlert('No more division found for transfer in selected Class!!!');
	    							   }
	    						   });
	    					   });
	    					   var semesterName = jArray[0].userSemesterName;
	    					   var sessionName = jArray[0].academicYearBegining+"-"+jArray[0].academicYearEnd;
	    					   var divisionName = $('#cbBatchId option:selected').text();
	    					   var message = semesterName + ' &raquo; '+divisionName;
							   $('.divStudentListGridInfo').html(`<span style="color: #03b1a9;"><b>${message}</b></span>
							   <hr style="border-bottom: 1px solid #b6b6b675;margin-top: 3px;border-bottom: 1px solid var(--juno-green)">`)
	    					   var flag=0;
	    	    			   $('.exportStatus').each(function(){
	    	    				   var student = $(this).attr("stud");
	    	    				   var fresherStatus  = $(this).attr("fresher");
	    	    				  if( ($(this).html()=='Export') && ($('#'+student).is(":checked")) && fresherStatus=='fresher' ){
	    	    					  flag=1;
	    	    				  }
	    	    			   });
	    	    			   if(flag==0)
	    	    				   showTargetBatchDialog();
	    	    			   else
	    	    				   jAlert("Student Already Exported<br>first Remove it,then allocate Division","Message");
	    				   } else {
	    					   jAlert('No running academic session found!!!','Error');
	    				   }
	    			   });
	    			   if($('#gridAllocateDivCaptionHeader').attr('class') == 'fresher'){
	    				   $('.divStudentListGridInfo1').append('<div style="color:green">Note: You are just assigning the fresher student to selected division</div>');
	    			   } else {
	    				   $('.divStudentListGridInfo1').append('<div style="color:green">Note: This utility can be used for transfering student(s) from to one division to another</div>');
	    			   }
	    		   } else {

	    		   }
	    	   } else if($(this).hasClass('option-changedept')){
	    		   var studentBatchIdArray = getSelectedStudentBatchId();
	    		   //alert(studentBatchIdArray.length);
	    		   if(studentBatchIdArray.length > 0){
	    			  var flag=0;
	    			   $('.exportStatus').each(function(){
	    				   var student = $(this).attr("stud");
	    				  if( ($(this).html()=='Export') && ($('#'+student).is(":checked")) ){
	    					  flag=1;
	    					  return;
	    				  }
	    			   });
	    			   if(flag==0)
	    				   showStudentDepartmentTransferDialog();
	    			   else
	    				   jAlert("Export student can't transfer the Department<br>Please unselect the export student checkbox","Message");
	    		   } else {
	    			   jAlert('Please select student!!!',';error');
	    		   }
	    	   }else if($(this).hasClass('option-importStudent')){
	    		   var studentBatchIdArray = getSelectedStudentBatchId();
	    		   //alert(studentBatchIdArray.length);
	    		   if(studentBatchIdArray.length > 0){
	    			   showImportStudentDialog();
	    		   } else {
	    			   jAlert('Please select student!!!',';error');
	    		   }
	    	   } else if($(this).hasClass('option-promot')){
	    		   var studentBatchIdArray = getSelectedStudentBatchId();
	    		   if(studentBatchIdArray.length > 0){
	    			   showStudentDepartmentTransferDialog('parentDepartment');
	    		   } else {
	    			   jAlert('Please select student!!!',';error');
	    		   }
	    	   }
	       });



		/*for(var i = 0; i < len; i++) {
				name = gStudentListJsonArray[i][first] + ' ' + gStudentListJsonArray[i][second];
			var datarow = {
					id:cnt,
					studentIdSrvr:gStudentListJsonArray[i].studentId,
					rollNo:gStudentListJsonArray[i].rollNo.toString() != ""?gStudentListJsonArray[i].rollNo:"Not Assigned",
							hdnStudentIdClnt:gStudentListJsonArray[i].studentId,
							hdnStudentBatchIdClnt:gStudentListJsonArray[i].studentBatchId,
							hdnStudentBatchIdSrvr:gStudentListJsonArray[i].studentBatchId,
							name:name.trim(),
							email:gStudentListJsonArray[i].emailId,
							phoneNo:gStudentListJsonArray[i].alternetContactNumber,
							addressLine1:gStudentListJsonArray[i].studentAddressLine1,
							addressLine2:gStudentListJsonArray[i].studentAddressLine2,
							city:gStudentListJsonArray[i].studentCity,
							state:gStudentListJsonArray[i].studentState,
							country:gStudentListJsonArray[i].studentCountry,
							pincode:gStudentListJsonArray[i].studentPinCode,
							subbatch:gStudentListJsonArray[i].status,
							pcmMarks:gStudentListJsonArray[i].pcmMarks,
							hdnStatus:gStudentListJsonArray[i].status,
							parentDepartmentId:gStudentListJsonArray[i].parentDepartmentName,
							speli:gStudentListJsonArray[i].qualiSpecializationName,
							gender:gStudentListJsonArray[i].gender,
							deptPromotionId:gStudentListJsonArray[i].deptPromotionId,
							parentInstituteCourseId:gStudentListJsonArray[i].parentInstituteCourseId,
			}; */
			//jQuery("#student-management-grid").jqGrid('addRowData',i+1,datarow);
			//cnt++;
		//}


		var batchName = $('#cbAcademicBatch option:selected').text();
		var semesterName = $('#cbSemesterId option:selected').text();
		var sessionName = $('#cbAcademicSessionId option:selected').text();
		var divisionName = $('#cbBatchId option:selected').text();

		if(batchName.toLowerCase() != 'select'){
			message = batchName;
		}
		if(semesterName.toLowerCase() != 'select'){
			message += ' &raquo; '+semesterName;
		}
		/*if(sessionName.toLowerCase() != 'select'){
			message += ' &raquo; ['+sessionName+']';
		}*/
		if(divisionName.toLowerCase() != 'select'){
			message += ' &raquo; '+divisionName;
		}
		$('.divStudentListGridInfo').html(`<span style="color: #03b1a9;"><b>${message}</b></span>
		<hr style="border-bottom: 1px solid #b6b6b675;margin-top: 3px;border-bottom: 1px solid var(--juno-green)">`)


		/*****
		  * below code is for binding shift selection on the data table
		  */
	      var lastChecked = null;

	      //$(document).ready(function() {
	          var $chkboxes = $('.selectedStudent');
	          $chkboxes.click(function(e) {
	              if(e.shiftKey) {
	                  var start = $chkboxes.index(this);
	                  var end = $chkboxes.index(lastChecked);
	                  $chkboxes.slice(Math.min(start,end), Math.max(start,end)+ 1).attr('checked', lastChecked.checked);
	                  if(lastChecked.checked){
	                	  $chkboxes.slice(Math.min(start,end), Math.max(start,end)+ 1).parents('tr').addClass('selected');
	                  } else {
	                  	$chkboxes.slice(Math.min(start,end), Math.max(start,end)+ 1).parents('tr').removeClass('selected');
	                  }
	              }
	              setSelectedStudentBatchId();
	              if(!lastChecked) {
	                  lastChecked = this;
	                  return;
	              }
	              lastChecked = this;
	          });
	     // });

 
 }

 
 function btnGenerateStudentUniqueNo() {

	 var instituteCourseId = $('#cbInstiCourseId').val();
	 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	 var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	 if(semesterBatchId=="undefined"||semesterBatchId==undefined){
		 semesterBatchId = 0;
	 }

	 var studentIds =new Array();
	 $('.selectedStudent').each(function(){
		 if($(this).is(':checked'))
			 studentIds.push($(this).attr("value"));
	 });
	 if(studentIds.length > 0){
		 jConfirm('Are you sure? you want to generate Unique ID','',function(r){
			 if(r){
				 $.ajax({
					 url:'generateStudentUniqueNoForSelectedStudents.json',
					 dataType:'text',
					 type : 'POST',
					 data:{
						 studentIds :studentIds.toString(),
						 instituteCourseId : instituteCourseId,
						 instituteCourseStrengthId : instituteCourseStrengthId,
						 semesterBatchId : semesterBatchId
					 },
					 async:false,
					 beforeSend:function() {
						 startCommonAjaxSpinner();
					 },
					 complete: function() {
						 stopCommonAjaxSpinner();
					 },
					 success:function(jArray){
						
							 getCustomAlertMessage(jArray);
						
					 },
					 error:function(){
						 getCustomAlertMessage("alert_error","Error");
					 }
				 });

			 }


		 });
	 }

 }
	 
 function downloadChangeRollNoTemplate()
 {
	 var instituteCourseId = $('#cbInstiCourseId').val();
	 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	 var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	 if(semesterBatchId=="undefined"||semesterBatchId==undefined){
		 semesterBatchId = 0;
	 }
	 typeFlag = "RollNo";
	 //window.open('downloadChangeRollNoTemplate.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId);
	 window.open('downloadChangeRollNoTemplateNew.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId+'&typeFlag='+typeFlag); 
 }
 
 function downloadSetAdmissionDateTemplate(){
	 var instituteCourseId = $('#cbInstiCourseId').val();
	 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	 var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	 if(semesterBatchId=="undefined"||semesterBatchId==undefined){
		 semesterBatchId = 0;
	 }
	 //window.open('downloadSetAdmissionDateTemplate.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId);
	 window.open('downloadSetAdmissionDateTemplateNew.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId);
 }
 function downloadParentLoginCreationTemplate(){
	 var instituteCourseId = $('#cbInstiCourseId').val();
	 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	 var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	 if(semesterBatchId=="undefined"||semesterBatchId==undefined){
		 semesterBatchId = 0;
	 }
	 window.open('downloadChangeEmailIdTemplateforparentLoginUpload.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId);
 }
function uploadParentLoginCreation(){
 new AjaxUpload('uploadparentlogin', {
		 action : 'uploadChangeEmailIdforparentLoginUpload.json',
		 data : {},
		 name : 'fileDataparentlogin',
		 type :'POST',
		 size : AllowedFileSize.EXCELSHEET_UPLOAD,

		 onSubmit : function(file, extension) {
			 if (extension.toString().toLowerCase() == 'xls' || extension.toString().toLowerCase() == 'xlsx') {
				 startCommonAjaxSpinner();
				 var instituteCourseId = $('#cbInstiCourseId').val();
                 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
				 var semesterBatchId = $('#cbBatchId').val().split('-')[2];
				 if(semesterBatchId==undefined || semesterBatchId=="undefined"){
					 semesterBatchId = "0";
				 }
				 
				 this.setData({
					 'fileSize':AllowedFileSize.EXCELSHEET_UPLOAD,
					 'instituteCourseId':instituteCourseId,
                     'instituteCourseStrengthId':instituteCourseStrengthId,
					 'semesterBatchId':semesterBatchId
				 });

			 } else {
				 jAlert('Only Msexcel(.xls) file is permitted');
				 return false;
			 }
		 },
		 onComplete : function(file, response) {
			 stopCommonAjaxSpinner();
			 var jObject = eval('('+response+')');
			 if (jObject.responseFlag == "0") {
			   
			      jAlert(jObject.ErrorList[0]['ErrorName']);
				}
				else {
					 jAlert("Successfully Uploaded");
				}
				
				
			 /*for (var key in response)
			 {
				
				 if(response[responseFlag]=='0')
				 {
					 jAlert(response[ErrorName]);
				 }

			 }*/
				 //showStudentListByCourseSemeserAndDivision();
			 $("#uploadparentlogin").val('');

		 }
	 });
 }
 
 function downloadChangeEmailIdTemplate()
 {
	 var instituteCourseId = $('#cbInstiCourseId').val();
	var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	if(semesterBatchId == undefined || semesterBatchId == "undefined")
		semesterBatchId = 0;
	var typeFlag = "EmailId";
		//window.open('downloadChangeEmailIdTemplate.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId);
		window.open('downloadChangeRollNoTemplateNew.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId+'&typeFlag='+typeFlag); 
 }
 
  //uploadChangeAdmissionDate
 
function uploadAdmissionDate(){
	 
	 new AjaxUpload('uploadChangeAdmissionDate', {
		 action : 'uploadstudentAdmissionDateNew.json', // uploadstudentAdmissionDate.json
		 data : {},
		 name : 'fileData',
		 type :'POST',
		 size : AllowedFileSize.EXCELSHEET_UPLOAD,

		 onSubmit : function(file, extension) {
			 if (extension.toString().toLowerCase() == 'xls' || extension.toString().toLowerCase() == 'xlsx') {
				 startCommonAjaxSpinner();
				 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
				 var semesterBatchId = $('#cbBatchId').val().split('-')[2];
				 if(semesterBatchId==undefined || semesterBatchId=="undefined"){
					 semesterBatchId = "0";
				 }
				 
				 this.setData({
					 'fileSize':AllowedFileSize.EXCELSHEET_UPLOAD,
					 'instituteCourseStrengthId':instituteCourseStrengthId,
					 'semesterBatchId':semesterBatchId
				 });

			 } else {
				 jAlert('Only Msexcel(.xls) file is permitted');
				 return false;
			 }
		 },
		 onComplete : function(file, response) {
			 stopCommonAjaxSpinner();
			 showStudentListByCourseSemeserAndDivision();
			 jAlert(response);
		 }
	 });
 }
 
 function uploadAndSaveChangeRollno(){
	 var instituteCourseId = $('#cbInstiCourseId option:selected').val();
	 new AjaxUpload('uploadChangeRollno', {
		 action : 'uploadChangeRollNoTemplateNew.json', // uploadChangeRollNoTemplate.json
		 data : {},
		 name : "fileDataChageRollNo",
		 type :'POST',
		 size : AllowedFileSize.EXCELSHEET_UPLOAD,

		 onSubmit : function(file, extension) {
			 if (extension.toString().toLowerCase() == 'xls' || extension.toString().toLowerCase() == 'xlsx') {
				 startCommonAjaxSpinner();

				 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
				 var semesterBatchId = $('#cbBatchId').val().split('-')[2]!=undefined ? $('#cbBatchId').val().split('-')[2]:0;
				 
				 this.setData({
					 'fileSize':AllowedFileSize.EXCELSHEET_UPLOAD,
					 'instituteCourseStrengthId':instituteCourseStrengthId,
					 'semesterBatchId':semesterBatchId,
					 'instituteCourseId':instituteCourseId
				 });

			 } else {
				 jAlert('Only Msexcel(.xls) file is permitted');
				 return false;
			 }
		 },
		 onComplete : function(file, response) {
			 stopCommonAjaxSpinner();
			 showStudentListByCourseSemeserAndDivision();
			 jAlert(response);
		 }
	 });
 }
 
function uploadAndSaveChangeEmailId(){
	 var instituteCourseId = $('#cbInstiCourseId option:selected').val();
	 new AjaxUpload('uploadChangeEmailId', {
		 action : 'uploadChangeEmailIdTemplateNew.json', // uploadChangeEmailIdTemplate.json
		 data : {},
		 name : "fileDataChangeEmail",
		 type :'POST',
		 size : AllowedFileSize.EXCELSHEET_UPLOAD,

		 onSubmit : function(file, extension) {
			 if (extension.toString().toLowerCase() == 'xls' || extension.toString().toLowerCase() == 'xlsx') {
				 startCommonAjaxSpinner();

				 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
				 var semesterBatchId = $('#cbBatchId').val().split('-')[2]!=undefined ? $('#cbBatchId').val().split('-')[2]:0;
				 
				 this.setData({
					 'fileSize':AllowedFileSize.EXCELSHEET_UPLOAD,
					 'instituteCourseStrengthId':instituteCourseStrengthId,
					 'semesterBatchId':semesterBatchId,
					 'instituteCourseId':instituteCourseId
				 });

			 } else {
				 jAlert('Only Msexcel(.xls) file is permitted');
				 return false;
			 }
		 },
		 onComplete : function(file, response) {
			 stopCommonAjaxSpinner();
			 showStudentListByCourseSemeserAndDivision();
			 jAlert(response);
		 }
	 });
 }
 
 
 function showFresherStudentInStudentGridForTransferStudent(){
		lastFunctionCalled = "showFresherStudentInStudentGrid";
		showShiftsByInstituteStrengthForStudentTranser();
		initManageStudentGrid();
		$('#cbSemesterId option')[0].selected = true;
		$('#cbAcademicSessionId option')[0].selected = true;
		$('#cbBatchId option')[0].selected = true;
		$('#chkNewStudent').attr('checked',true);
		$('#hdnBatchCapacity').val('');
		$('#gridAllocateDivCaptionHeader').removeClass('non-fresher');
		$('#gridAllocateDivCaptionHeader').addClass('fresher');
		$('#btnAllocateDivisionRollNos').show();
		$('#trParentDepartment').hide();
		$('#uploadAsApplicantId').attr('checked',false);
	}


function showShiftsByInstituteStrengthForStudentTranser(){

	var instituteCourseStrengthId = $('#cbAcademicBatch').val().toString().split("-")[0];

	if(instituteCourseStrengthId != '0'){
		$.ajax({
			url : 'shiftsByInstituteStrength.json',
			data :{instituteCourseStrengthId : instituteCourseStrengthId},
			dataType : 'json',
			success : function(jArray) {

				var boiler = '<option value="0">No Shift</option>';
				for(var i=0; i<jArray.length;i++)
					boiler += '<option value="'+jArray[i]["shift"]+'">'+jArray[i]["shift"]+'</option>';

				$('#shiftType').html(boiler);
				$('#trShiftType').show();

				if(jArray.length>0)
					showFresherStudentByBatchTransfer('auto');
				else
					jAlert("Shifts are not defined to batches.<br>Please allocate shifts to batches");
			},
			error : function() {
				jAlert("Server error: Please refresh the page and try again!!!");
			}
		});
	}
}





function showFresherStudentByBatchTransfer(type) {
	lastFunctionCalled = "showFresherStudentByBatch";
	var batchId = $('#cbAcademicBatch').val().toString().split("-")[0];
	var shift = $('#shiftType').val();
	if(batchId != '0'){
		$.ajax({
			url : 'fresherStudentListByBatchSP.json',
			data : {batchId : batchId,shift : shift},
			dataType : 'json',
			beforeSend : function() {
				startCommonAjaxSpinner();
			},
			complete : function() {
				stopCommonAjaxSpinner();
			},
			success : function(jArray) {
				if(type=='auto' && jArray.length==0)
				{
					if($('#shiftType option')[1]!=undefined)
					{
						$('#shiftType option')[1].selected = true;
						showFresherStudentByBatchTransfer();
					}
				}
				else
				{
					gStudentListJsonArray = jArray;
					showStudentListInGridForStudentBranchTransferff();
				}
			},
			error : function() {
				jAlert("Server error: Please refresh the page and try again!!!");
			}
		});
	}
}

function setJoiningDateOfStudent()
{
	var semesterBatchId = $('#cbBatchId').val().split('-')[2];	
	if(semesterBatchId!=undefined && semesterBatchId!='')
	{
		$.ajax({
			url : 'setJoiningDateOfStudentsByBatch.json',
			data : {semesterBatchId : semesterBatchId},
			dataType : 'text',
			type:'POST',
			beforeSend : function() {
				startCommonAjaxSpinner();
			},
			complete : function() {
				stopCommonAjaxSpinner();
			},
			success : function(message) {
				
				jAlert(message);
				showStudentListByCourseSemeserAndDivision();
			},
			error : function() {
				jAlert("Server error: Please refresh the page and try again!!!");
			}
		});
	}
	else
	{
		jAlert("Please select section/batch...!!!");
	}
}
function setJoiningDateOfStudentForFresher(){
	var studentList = new Array();
	$('.selectedStudent:checked').each(function(){
		studentList.push($(this).val());
	});
	if(studentList.length>0){
	}else{
		jAlert("Please select at least one student.");
		return false;
	}
	var instituteCourseStrengthId = $('#cbAcademicBatch option:selected').val().split('-')[0];
	var semesterBatchId = $('#cbBatchId').val().split('-')[2];	
	if(instituteCourseStrengthId!=undefined && instituteCourseStrengthId!='')
	{
		$.ajax({
			url : 'setJoiningDateOfStudentsforFresher.json',
			data : {studentList : studentList.toString(),instituteCourseStrengthId:instituteCourseStrengthId},
			dataType : 'text',
			type:'POST',
			beforeSend : function() {
				startCommonAjaxSpinner();
			},
			complete : function() {
				stopCommonAjaxSpinner();
			},
			success : function(message) {
				jAlert(message);
				showStudentListByCourseSemeserAndDivision();
			},
			error : function() {
				jAlert("Server error: Please refresh the page and try again!!!");
			}
		});
	}
	else
	{
		jAlert("Please select batch...!!!");
	}
}


function downloadOrderNoTemplate()
{
	 var instituteCourseId = $('#cbInstiCourseId').val();
	 var instituteCourseStrengthId = $('#cbAcademicBatch option:selected').val().split('-')[0];
	 var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	 
	 //window.open('downloadOrderNoTemplate.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId);
	 window.open('downloadOrderNoTemplateNew.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId); 
}
function uploadOrderNo1(){
	 var instituteCourseStrengthId = $('#cbAcademicBatch option:selected').val().split('-')[0];
	 try{
		 var courseNameOnly  = $('#cbInstiCourseId option:selected').attr('coursenameonly');
		 var CourseType  = $('#cbInstiCourseId option:selected').attr('cousetype');
			 $('#allocateToEmpOppsd').show();
	 }catch(e){}
	 uploadOrderNo(instituteCourseStrengthId);
}
function uploadOrderNo(instituteCourseStrengthId){
	var instituteCourseId = $('#cbInstiCourseId option:selected').val();
	 var instituteCourseStrengthId = $('#cbAcademicBatch option:selected').val().split('-')[0];
	 var semesterBatchId = $('#cbBatchId').val().split('-')[2];

	new AjaxUpload('uploadorderNo', {
		action: 'uploadOrderNumberTemplateNew.json', //uploadOrderNumberTemplate.json
		data: {},
		name: "fileDataOrderNo",
		type: 'POST',
		size: AllowedFileSize.EXCELSHEET_UPLOAD,

		onSubmit: function(file, extension) {
			if (extension.toString().toLowerCase() == 'xls' || extension.toString().toLowerCase() == 'xlsx') {
				startCommonAjaxSpinner();

				this.setData({
					'fileSize': AllowedFileSize.EXCELSHEET_UPLOAD,
					'instituteCourseStrengthId': instituteCourseStrengthId,
					'instituteCourseId': instituteCourseId,
					'semesterBatchId':semesterBatchId

				});

			} else {
				jAlert('Only Msexcel(.xls) file is permitted');
				return false;
			}
		},
		onComplete: function(file, response) {

			stopCommonAjaxSpinner();
			showStudentListByCourseSemeserAndDivision();
			jAlert(response);
		}
	});
		
}

function getstudentSubjectMapping()
{
	var studentIdArray1 = new Array();
	$('.selectedStudent:checked').each(function(){
		//if(!($(this).hasClass('foreignExStudent')))
		studentIdArray1.push($(this).val());
	});

	if(studentIdArray1.length > 0){
	$.ajax({
		url:'getStudentSubjectAndBatchAllocationDetails.json',
		data : {studentIdArray1:studentIdArray1.toString()},
		dataType:'json',
		async:false,
		beforeSend: function() {
			startCommonAjaxSpinner();

		},
		complete: function() {
			stopCommonAjaxSpinner();
		},
		success:function(jArray){
			
			var html = '<option value="0">Select</option>';
			var html2 = '<option value="0">Select</option>';
			var len = jArray.length;
			$('#cmbSem').html("");
			$('#cmbDCPSem').html("");
			$('#cmbSem').html('<option value="0">Select</option>');
			$('#cmbDCPSem').html('<option value="0">Select</option>');
			
			for ( var i = 0; i < len; i++){
				html = '<option value="'+jArray[i]["batchSemesterCapacityId"]+'" id="opt1_'+jArray[i]["batchSemesterCapacityId"]+'">'+jArray[i]["batchName"]+ '</option>';
				html2 = '<option value="'+jArray[i]["batchSemesterCapacityId"]+'" id="opt2_'+jArray[i]["batchSemesterCapacityId"]+'">'+jArray[i]["batchName"]+ '</option>';
				
				$('#cmbSem').append(html);
				$('#cmbDCPSem').append(html2);
				$('#opt1_'+jArray[i]["batchSemesterCapacityId"]).data('subjectName', (jArray[i]["subjectName"].gemsDecode()));
				$('#opt1_'+jArray[i]["batchSemesterCapacityId"]).data('studentUniversityExamMarksAttemtIds', jArray[i]["studentUniversityExamMarksAttemtIds"]);
				$('#opt2_'+jArray[i]["batchSemesterCapacityId"]).data('subjectName', (jArray[i]["subjectName"].gemsDecode()));
				$('#opt2_'+jArray[i]["batchSemesterCapacityId"]).data('studentUniversityExamMarksAttemtIds', jArray[i]["studentUniversityExamMarksAttemtIds"]);
			}

			
		},
	});
	}
}

function getstudentAttendingSubjectList(status)
{
	
	var subjectName = "";
	var studentUniversityExamMarksAttemtIds = "";
	if(status == "foreignExchange"){
		if($('#cmbSem option:selected').val()=='0'){
			$('#subjectList').html('');
			return;
		}
		subjectName = $('#cmbSem option:selected').data('subjectName');
		studentUniversityExamMarksAttemtIds = $('#cmbSem option:selected').data('studentUniversityExamMarksAttemtIds');
	}else{
		if($('#cmbDCPSem option:selected').val()=='0'){
			$('#subjectListDCP').html('');
			return;
		}
		subjectName = $('#cmbDCPSem option:selected').data('subjectName');
		studentUniversityExamMarksAttemtIds = $('#cmbDCPSem option:selected').data('studentUniversityExamMarksAttemtIds');
	}
	
	var boiler =	'<table class="table table-bordered" id="tblStudentList">'+
					'<thead>'+
					'<tr>'+
					'<th>Sr. No.</th>'+
					'<th>Course Name</th>'+
					'<th></th>'+
					'</tr>'+
					'</thead>'+
					'<tbody>';
							
	
	var valNew=subjectName.split(',');
	
	for(var s=0;s<valNew.length;s++){
		var subName = valNew[s].split('~~');
		if(subName!=""){
			boiler +=	'<tr>'+
			'<td class="SrNoCls">'+eval(s+1)+'</td>'+
			'<td>'+subName[0]+'</td>';
			if(studentUniversityExamMarksAttemtIds == 0){
				boiler += '<td><i id="" class="icon-trash removeAc" title="Delete" onclick="deleteStudentSubjectAllocationOfForeignExchangeStudent('+subName[1]+',\''+status+'\')" style="cursor:pointer;"></i></td>';
				boiler += '<td class="subjectwiseStudentId" style="display:none">'+subName[1]+'</td>';
			}
			else{
				boiler += '<td><b>Can not delete subject. Modaration is done</b></td>';
			}
		}else
		{
			boiler +='<tr><td colspan="3" style="text-align:center;">Data not found !!!!!!</td></tr>';
		}
		boiler +='</tr>';
	}
	
	boiler +=
			'</tbody></table>';
	
	if(status == "foreignExchange"){
		$('#subjectList').html(boiler);
	}else{
		$('#subjectListDCP').html(boiler);
	}
	
	
}

function deleteStudentSubjectAllocationOfForeignExchangeStudent(subjectwiseStudentId)
{
	$.ajax({
		url:'deleteStudentSubjectAllocationOfForeignExchangeStudent.json',
		data : {subjectwiseStudentId:subjectwiseStudentId},
		dataType:'json',
		async:false,
		beforeSend: function() {
			startCommonAjaxSpinner();

		},
		complete: function() {
			stopCommonAjaxSpinner();
		},
		success:function(jArray){
			
			getCustomAlertMessage("alert_delete");
			
			hideselectedRows(subjectwiseStudentId)
			
		},
	});
}

function hideselectedRows(subjectwiseStudentId)
{
	$('.subjectwiseStudentId').each(function(){
		if($(this).text()==subjectwiseStudentId){
			
		 var tr= $(this).closest('tr');
		 $(tr).remove();
		 arrangeSno();
		}
		});	
}

function arrangeSno()

{       
       var i=0;
        $('#tblStudentList tr').each(function() {
            $(this).find(".SrNoCls").html(i); 
            i++;
         });
}

function getMarkAs1Plus1StudentList()
{
	$('#subjectList').html('');
	$('#txtSemesterName').val('');
	$('#tblStudentList').text('');
	//$('#cmbSemName').html('');
	var studentIdArray = new Array();

	$('.selectedStudent:checked').each(function(){
		studentIdArray.push($(this).val());
	});

	if(studentIdArray.length > 0){

		$.ajax({
			url:'outBoundUnivAll.json',
			dataType:'json',
			async:false,
			beforeSend: function() {
				startCommonAjaxSpinner();

			},
			complete: function() {
				stopCommonAjaxSpinner();
			},
			success:function(jArray){
				$('#markAs1Plus1StudentModel').modal('show').css({
					width: '700px',
					'margin-left': function () {
						return -($(this).width() / 2);
					}
				});
				var html = '<option value="0">Select</option>';
				var len = jArray.length;
				$('#cmbOutBoundYniName').html("");
				$('#cmbOutBoundYniName').html('<option value="0">Select</option>');
				for ( var i = 0; i < len; i++){
					html = '<option value="'+jArray[i]["outBoundUniversityId"]+'" id="opt_'+jArray[i]["outBoundUniversityId"]+'">'+jArray[i]["outBoundUniName"]+ '</option>';
					$('#cmbOutBoundYniName').append(html);
					$('#opt_'+jArray[i]["outBoundUniversityId"]).data('addr', jArray[i]["address"]);

				}

			},
		});
	}
	else{
		jAlert("Please first select student");
	}
	getStudentSemesterAttendanceList();
}


function getStudentSemesterAttendanceList(){

	var studentIdArray1 = new Array();
	var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	var count=0;
	$('.selectedStudent:checked').each(function(){
		if(count==0)
			studentIdArray1.push($(this).val());
		count++;
	});

	if(studentIdArray1.length > 0 ){ 
		$.ajax({
			url:'getStudentSubjectAndBatchAllocationDetailsForOnePlus.json',
			data : {studentId:studentIdArray1.toString(),instituteCourseStrengthId:instituteCourseStrengthId}, 
			dataType:'json',
			async:false,
			beforeSend: function() {
				startCommonAjaxSpinner();

			},
			complete: function() {
				stopCommonAjaxSpinner();
			},
			success:function(jArray){

				var html = '<option value="0">Select</option>';
				var len = jArray.length;
				$('#cmbSemName').html("");
				$('#cmbSemName').html('<option value="-1">Select</option>');

				for ( var i = 0; i < len; i++){
					html = '<option value="'+jArray[i]["batchSemesterCapacityId"]+'" id="opt1_'+jArray[i]["batchSemesterCapacityId"]+'">'+jArray[i]["batchName"]+ '</option>';
					$('#cmbSemName').append(html);
					$('#opt1_'+jArray[i]["batchSemesterCapacityId"]).data('subjectName', (jArray[i]["subjectName"].gemsDecode()));
					$('#opt1_'+jArray[i]["batchSemesterCapacityId"]).data('studentUniversityExamMarksAttemtIds', jArray[i]["studentUniversityExamMarksAttemtIds"]);

				}
			},
		});
		$('.subjectNameId').chosen({no_results_text:'Oops, nothing found!'});
		$('.subjectNameId'+'_chzn').css({'width':'200px'});
		$('.subjectNameId'+'_chzn').find('.chzn-results').css('height','680px');
		$('.subjectNameId'+'_chzn').find('.chzn-search').find('input[type="text"]').css('height','25px');
		$('#subjectNameId').trigger("liszt:updated");
	}
}

function getMarksAsOnePlusOneStudentDetails(status){

	var subjectName = "";
	var studentUniversityExamMarksAttemtIds = "";

	if($('#cmbSemName option:selected').val()=='0'){
		$('#subjectList1').html('');
		return;
	}

	var idArray =new Array();
	subjectId = $('#cmbSemName option:selected').val();
	idArray.push(subjectId);
	var idArray1 =new Array();
	subjectName = $('#cmbSemName option:selected').data('subjectName');
	//alert(subjectName);
	idArray.push(subjectName);
	studentUniversityExamMarksAttemtIds = $('#cmbSemName option:selected').data('studentUniversityExamMarksAttemtIds');

	var boiler ='<table class="table table-bordered" id="tblStudentList">'+
	'<thead>'+
	'<tr>'+
	'<th>Sr. No.</th>'+
	'<th>Course Name</th>'+
	'<th></th>'+
	'</tr>'+
	'</thead>'+
	'<tbody>';
	var valNew = '';
	
	if(subjectName !=undefined && subjectName.contains(',')){
		valNew = subjectName.split(',');
	}

	for(var s=0;s<valNew.length;s++){
		var subName = valNew[s].split('~~');
		boiler +=	'<tr>'+
		'<td class="SrNoCls">'+eval(s+1)+'</td>'+
		'<td>'+subName[0]+'</td>';
		if(studentUniversityExamMarksAttemtIds == 0){
			//boiler += '<td><i id="" class="icon-trash removeAc" title="Delete" onclick="deleteStudentSubjectAllocationOfForeignExchangeStudent('+subName[1]+',\''+status+'\')" style="cursor:pointer;"></i></td>';
			boiler += '<td class="subjectwiseStudentId" style="display:none">'+subName[1]+'</td>';
		}
		else{
			boiler += '<td><b>Can not delete subject. Modaration is done</b></td>';
		}
		boiler +=	'</tr>';
	}

	boiler +=
		'</tbody></table>';

	$('#subjectList1').html(boiler);

}


function exportMarksAs1Plus1StudentDetails(status){

	var outBoundUniversityId = $('#cmbOutBoundYniName').val();

	var semesterBatchArray = new Array();
	$('#cmbSemName option:selected').each(function(){
		semesterBatchArray.push($(this).val().split('_')[0]);
	});
	var semesterName =$('#txtSemesterName').val();
	//alert(semesterName);

	if((status == 'true' || status ) && outBoundUniversityId == 0){
		jAlert("Please select university name");
		return;
	}
	var studentIdArray = new Array();

	if(status == 'true' || status){
		$('.selectedStudent:checked').each(function(){
			studentIdArray.push($(this).val());
		});
	}
	else{
		$('.foreignExStudent:checked').each(function(){
			studentIdArray.push($(this).val());
		});
	}
	if(semesterBatchId == "0"){
		jAlert("Please select semester");
		return;
	}
	if (studentIdArray.length > 0) {

		$.ajax({
			url : 'exportStudentsMarkAsOnePlusOneDetails.json',
			dataType : 'text',
			data : {studentIdArray : studentIdArray.toString(), status : status, outBoundUniversityId:outBoundUniversityId, semesterBatchArray:semesterBatchArray.toString() ,semesterName:semesterName},
			type : 'POST',
			beforeSend : function() {
				startCommonAjaxSpinner();
			},
			complete : function() {
				stopCommonAjaxSpinner();
			},
			success : function(message) {
				getCustomAlertMessage("alert_create");
				$('#markAs1Plus1StudentModel').hide();
				getStudentSemesterAttendanceList();
			},
			error : function() {
				jAlert("Error!!!");
			}

		});

	} else {
		jAlert('First select the students!');
	}

}

function getTermDownStudentListByDepartmentId(instituteCourseId,callback) {
	$.ajax({
		url:'getYearDownTermDownStudentListByDepartmentId.json',
		dataType:'json',
		data:'instituteCourseId='+instituteCourseId,
		type:'GET',
		success:function(jArray){
			callback(jArray);
		},error:function(){
			jAlert('Server error: Please refresh the page and try again!!!');
		}
	});
}
function checkProgramIsForSchool(){
	var courseType = $('#cbInstiCourseId option:selected').attr('cousetype');
	if(courseType=="COURSE_TYPE_SCHOOL"){
		$('#divForDesSchoolButtons').show();
		$('#unfrozenProfile').show();
		$('#stuntEvalMapping').show();
	}else{
		$('#divForDesSchoolButtons').hide();
		$('#unfrozenProfile').hide();
		$('#stuntEvalMapping').hide();
	}
}
function convertToStudentFunction(){
	var studentIdlist = new Array();
	$(".selectedStudent:checked").each(function() {
		var studentId = $(this).val();
		studentIdlist.push(studentId);
	});
	if(studentIdlist==''){
		jAlert("Please Select Student!!!");
	}else{
		$.ajax({
			url : 'convertApplicentToStudent.json',
			dataType : 'text',
			data : {studentIdlist : studentIdlist.toString()},
			type : 'POST',
			beforeSend : function() {
				startCommonAjaxSpinner();
			},
			complete : function() {
				stopCommonAjaxSpinner();
			},
			success : function(message) {
				jAlert(message);
			},
			error : function() {
				jAlert("Something went wrong, Please try after some time","Error");
			}

		});
	}
}
function allocateBranch(){
	var studentList = getSelectedStudentBatchId();
	if(studentList.length>0){
		$('#allocateBatchModal').modal('show');
		var boiler = '';
		boiler = '<table class="table table-bordered">'+
		'<tr><th>Branch List</th><td><select id="branchNameList"><option value="">Select</option></select></td></tr>'+
		'</table>';
		$('#allocateBatchModalDataDiv').html(boiler);

		if(programListByRoleForAnnouncement.length>0){
			var boiler1='<option value="0">Select</option>';
			for(var i=0;i<programListByRoleForAnnouncement.length;i++){
				boiler1+='<option value = "'+programListByRoleForAnnouncement[i]["instituteCourseId"]+'" courseId = "'+programListByRoleForAnnouncement[i]["courseId"]+'" couseType = "'+programListByRoleForAnnouncement[i]["couseType"]+'" subCourseType="'+programListByRoleForAnnouncement[i]["subCourseType"]+'" isGenerateRandomNumber="'+programListByRoleForAnnouncement[i]["isGenerateRandomNumber"]+'" courseNameOnly="'+programListByRoleForAnnouncement[i]["courseNameOnly"]+'">'+programListByRoleForAnnouncement[i]["courseName"]+'</option>';
			}
			$('#branchNameList').html(boiler1);
			convertComboToSearchable('#branchNameList');
		}
	}else{
		jAlert("Please Select Student !!!");
		return;
	}
}
function changeBranch(){
	var studentList = getSelectedStudentBatchId();
	if(studentList.length>0){

		var branchId = $('#branchNameList').val();
		if(branchId == 0){
			jAlert("Please Select Branch !!!");
			return;
		}

		jConfirm('Are you sure to change branch?','Confirmation',function(flag){
			if(flag){
				$.ajax({
					url : 'saveParentInstituteCourseIdForChangeBranch.json',
					dataType : 'text',
					data : {parentInstituteCourseId:branchId,studentInsCourseSemBatchDetail:studentList},
					type : 'POST',
					beforeSend : function() {
						startCommonAjaxSpinner();
					},
					complete : function() {
						stopCommonAjaxSpinner();
					},
					success : function(message) {
						jAlert(message);
						showStudentListByCourseSemeserAndDivision();
					},
					error : function() {
						jAlert("Something went wrong, Please try after some time","Error");
					}
				});
			}
		});

	}else{
		jAlert("Please Select Student !!!");
		return;
	}
}

function gettermandsubForcom(){
	
	var studentIdEmpArr = new Array();
	var studId="";
	$('.selectedStudent:checked').each(function(){
		studentIdEmpArr.push($(this).val());
		studId = $(this).val();
	});

	if(studentIdEmpArr.length>0 && studentIdEmpArr.length == 1){
		$('#divStudentCompartment').modal('show').css({
			width: '900px',
			//height: '300px',
			'margin-left': function () {
				return -($(this).width() / 2);
			}
		});
		
		
		
		var name = $('#studentRow-'+studId).find('.name').text();
		var header = name+" - Evaluation Parameter Mapping";
		$('#divStudentCompartmentHeader').html(header);
		var doupBoiler='<table class="table table-bordered table-condensed"><tr><th>Term</th>'+
		'<td ><input type="radio" name="subjectCompareTerm" onclick="getStudentCompartment(\''+studentIdEmpArr.toString()+'\');" value="0" checked="checked" ></input> <b>I</b>'+  
		'   <input type="radio"  name="subjectCompareTerm" onclick="getStudentCompartment(\''+studentIdEmpArr.toString()+'\')" value="1" ></input><b> II </b></td></tr><tr><th>Course</th><td ><select id="studSubjectCompartid" ><option value="0">Select</option>'+
		'</select></td></tr></table>';

		$('#dropdownforSubcompart').html(doupBoiler);
		
		getStudentCompartment(studentIdEmpArr.toString());
	}else{
		jAlert("Please select only one student.");
	}
}
function getStudentCompartment(studentd){
	$('#studentCompartmentDivId').html('');
	var semesterBatchId = $('#cbBatchId').val().split("-")[2];
	var subjectArrays= new Array();
	var schemaArrays= new Array();
	var universeTypeArrays= new Array();
	var studSubBatchArray = new Array();
	var disabledevalIds = new Array();
	$('#studentCompartmentDivId').html('');
	$('#editStudentRecordDialog').modal({
		backdrop : 'static',
		keyboard : false,
		show : false
	}).css({
		width : '800px',
		'margin-left' : function() {
			return -($(this).width() / 2);
		}
	});
	
	var tremtype = $( "input[name='subjectCompareTerm']:checked" ).val();
	$.ajax({
		url : 'getStudentCurrentSubjectAndParameterList.json',
		dataType : 'json',
		data : {
			semesterBatchId:semesterBatchId,
			tremtype:tremtype,
			studentd:studentd
			},
		type : 'POST',
		
		beforeSend : function() {
			startCommonAjaxSpinner();
		},
		complete : function() {
			stopCommonAjaxSpinner();
		},
		success : function(jArray) {
			
			$('#studentCompartmentDivId').html('');
			$('#studentCompartmentDivId').html('');
			
			//console.log(jArray+"jjjj" + jArray["universeTypeArray"]+"gg"+jArray.subjecta)
			subjectArrays = jArray["subjecta"];
			disabledevalIds		=jArray["jarrayEvaluationDe"];
			studSubBatchArray=jArray["subjectwiseBatchObject"];
			universeTypeArrays= jArray["universeTypeArray"];
			schemaArrays=jArray["scheemarry"];
			var boiler1='<option value="0">Select</option><option value="All">All</option>';
			for(var i=0;i<subjectArrays.length;i++){
				boiler1+='<option value = "'+subjectArrays[i]["subjectId"]+'">'+subjectArrays[i]["subjectName"]+'</option>';
			}
			$('#studSubjectCompartid').html(boiler1);
			//sconvertComboToSearchable('#studSubjectCompartid');
		},
		error : function() {
			jAlert("Something went wrong, Please try after some time","Error");
		}
	});
	
	
	var footerboiler='';
	footerboiler+='<input type="button" class="btn btn-inverse btn-mini  " value="Save"		id="" onclick="saveStudentCompartment(\''+studentd+'\')">'+
	' <input type="button" class="btn  btn-mini"		data-dismiss="modal" value="Close" />';
	$('#divStudentCompartmentFooter').html(footerboiler);
	
	$('#studSubjectCompartid').trigger('change');
	$('#studSubjectCompartid').change(function(){
		var subId = $('#studSubjectCompartid  option:selected').val();
		var subName = $('#studSubjectCompartid  option:selected').text();
		var boilerTbl="";
		$('#studentCompartmentDivId').html('');
		if(subId == "All"){
			boilerTbl+="<div><b color:red>Click on 'No' button in order to remove student evalution parameter</b></div>";
			
			for(var i=0;i<subjectArrays.length;i++){
				for(var j=0;j<universeTypeArrays.length;j++){
					if(subjectArrays[i]["subjectId"] == universeTypeArrays[j]["subjectId"]){
						boilerTbl+='<div class="alert alert-info " ><b>'+subjectArrays[i]["subjectName"]+'( '+universeTypeArrays[j]["evalutionUsniverseName"]+' )</b></div><br>';
						boilerTbl += '<table class="table table-bordered table-condensed">'+
						'<tr><th>Sr.no</th><th>Parameter Name</th><th></th><th>Added By </th></tr>';
						var count=1;
						for(var k=0;k<schemaArrays.length;k++){
							if(schemaArrays[k]["evaluationSchemaId"] == universeTypeArrays[j]["evaluationSchemaId"]){
								var subStudAndEvalid = studSubBatchArray[schemaArrays[k]["evalSchemaId"]]!=undefined?studSubBatchArray[schemaArrays[k]["evalSchemaId"]]:"NOT_NOT";
								
								var studentsubId = subStudAndEvalid.split('_')[0];
								var evalSchemaNaId = subStudAndEvalid.split('_')[1];
								var employeeNameSdate = subStudAndEvalid.split('_')[2];
								var facultyStatus= schemaArrays[k].facultyStatus;
								boilerTbl+='<tr class="studEvaluationcls" idforevalschema="'+schemaArrays[k]["evalSchemaId"]+'" subjectIda="'+universeTypeArrays[j]["subjectId"]+'"><td style="text-align:right;">'+count+'</td>'+
								'<td>'+schemaArrays[k]["evalSchemaName"]+'</td>';
								if($.trim(facultyStatus) == ''){
									boilerTbl+='<td><input type="radio" name="subjectapperingstud'+schemaArrays[k]["evalSchemaId"]+'" id="yes_'+schemaArrays[k]["evalSchemaId"]+'"   value="yes_'+schemaArrays[k]["evalSchemaId"]+'_'+schemaArrays[k]["markingsysyId"]+'_'+studentsubId+'_'+evalSchemaNaId+'" checked="checked" ></input> <b>Yes  </b>  '+  
								'  <input type="radio" name="subjectapperingstud'+schemaArrays[k]["evalSchemaId"]+'"  id="no_'+schemaArrays[k]["evalSchemaId"]+'"  value="no_'+schemaArrays[k]["evalSchemaId"]+'_'+schemaArrays[k]["markingsysyId"]+'_'+studentsubId+'_'+evalSchemaNaId+'" ></input><b> No </b>'+
								'</td>';
								}else{
									boilerTbl+='<td>'+facultyStatus+'</td>';
								}
								boilerTbl+='<td>'+employeeNameSdate+'</td>';
								boilerTbl+='</tr>';
								count++;
							}
						}
						boilerTbl+='</table>';
					}
				}
			}
			$('#studentCompartmentDivId').html(boilerTbl);
		}else{
			var boilerTbl="";
			$('#studentCompartmentDivId').html('');
			boilerTbl+="<div><b color:red>Click on 'No' button in order to remove student evalution parameter</b></div>";
			for(var j=0;j<universeTypeArrays.length;j++){
				if(subId == universeTypeArrays[j]["subjectId"]){
					
					boilerTbl+='<div class="alert alert-info " ><b>'+subName+'( '+universeTypeArrays[j]["evalutionUsniverseName"]+' )</b></div><br>';
					boilerTbl += '<table class="table table-bordered table-condensed">'+
					'<tr><th>Sr.no</th><th>Parameter Name</th><th></th><th>Added By </th></tr>';
					var count=1;
					for(var k=0;k<schemaArrays.length;k++){
						if(schemaArrays[k]["evaluationSchemaId"] == universeTypeArrays[j]["evaluationSchemaId"]){
							var subStudAndEvalid = studSubBatchArray[schemaArrays[k]["evalSchemaId"]]!=undefined?studSubBatchArray[schemaArrays[k]["evalSchemaId"]]:"NOT_NOT";
							
							var studentsubId = subStudAndEvalid.split('_')[0];
							var evalSchemaNaId = subStudAndEvalid.split('_')[1];
							var employeeNameSdate = subStudAndEvalid.split('_')[2];
							var facultyStatus= schemaArrays[k].facultyStatus;
							
							boilerTbl+='<tr class="studEvaluationcls" idforevalschema="'+schemaArrays[k]["evalSchemaId"]+'" subjectIda="'+universeTypeArrays[j]["subjectId"]+'"><td style="text-align:right;">'+count+'</td>'+
							'<td>'+schemaArrays[k]["evalSchemaName"]+'</td>';
							if($.trim(facultyStatus) == ''){
								boilerTbl+='<td><input type="radio" name="subjectapperingstud'+schemaArrays[k]["evalSchemaId"]+'" id="yes_'+schemaArrays[k]["evalSchemaId"]+'"  value="yes_'+schemaArrays[k]["evalSchemaId"]+'_'+schemaArrays[k]["markingsysyId"]+'_'+studentsubId+'_'+evalSchemaNaId+'" checked="checked" ></input> <b>Yes  </b>  '+  
							'  <input type="radio" name="subjectapperingstud'+schemaArrays[k]["evalSchemaId"]+'" id="no_'+schemaArrays[k]["evalSchemaId"]+'"   value="no_'+schemaArrays[k]["evalSchemaId"]+'_'+schemaArrays[k]["markingsysyId"]+'_'+studentsubId+'_'+evalSchemaNaId+'" ></input><b> No </b>'+
							'</td>';
							}else{
								boilerTbl+='<td>'+facultyStatus+'</td>';
							}
							boilerTbl+='<td>'+employeeNameSdate+'</td>';
							boilerTbl+='</tr>';
							count++;
						}
					}
					boilerTbl+='</table>';
				}
			}
		
			$('#studentCompartmentDivId').html(boilerTbl);
		}
	
		if(disabledevalIds.length>0){
			for(var m=0;m<disabledevalIds.length;m++){
				console.log($("#no_"+disabledevalIds[m]['evaluationSchemaId']+"").val()+"ddd"+"#no_"+disabledevalIds[m]['evaluationSchemaId']+"")
				$("#no_"+disabledevalIds[m]['evaluationSchemaId']+"").attr("checked", true);
					$("#no_"+disabledevalIds[m]['evaluationSchemaId']+"").attr("disabled", true);

					$("#yes_"+disabledevalIds[m]['evaluationSchemaId']+"").attr("disabled", true);
			}
		}
	});
	
	if(disabledevalIds.length>0){
		for(var m=0;m<disabledevalIds.length;m++){
			console.log($("#no_"+disabledevalIds[m]['evaluationSchemaId']+"").val()+"ddd"+"#no_"+disabledevalIds[m]['evaluationSchemaId']+"")
			$("#no_"+disabledevalIds[m]['evaluationSchemaId']+"").attr("checked", true);
				$("#no_"+disabledevalIds[m]['evaluationSchemaId']+"").attr("disabled", true);

				$("#yes_"+disabledevalIds[m]['evaluationSchemaId']+"").attr("disabled", true);
		}
	}
}

function saveStudentCompartment(studentId){
	var semesterBatchId = $('#cbBatchId').val().split("-")[2];
	var saveStudComIds  = new Array();
	$('.studEvaluationcls').each(function(){
		var evalSchemaId = $(this).attr('idforevalschema');
		var subjectid =$(this).attr('subjectIda');
		
		var paramIds = $( "input[name='subjectapperingstud"+evalSchemaId+"']:checked" ).val();
		var parameOne = paramIds.split('_')[0];
		var parameTwo = paramIds.split('_')[1];
		var parameThree = paramIds.split('_')[2];
		var evalSchemaNaId= paramIds.split('_')[4];
		var subjectwiseStudId =  paramIds.split('_')[3];
		if(parameOne == 'no' && evalSchemaNaId == 'NA'){
			saveStudComIds.push(parameOne+"~~"+parameTwo+"~~"+parameThree+"~~"+subjectwiseStudId+"~~"+evalSchemaNaId);
		}
	});

	if(saveStudComIds.length>0){

		jConfirm('Once you submit the student Evalution Parameter Mapping can not edit.<br>Do you want to continue?','Confirmation',function(flag){
			if(flag){
				$.ajax({
					url : 'saveStudentCompartmentEvaluationNa.json',
					dataType : 'json',
					data : {studentId:studentId,
						saveStudComIds:saveStudComIds.toString(),
						semesterBatchId:semesterBatchId},
					type : 'POST',
					beforeSend : function() {
						startCommonAjaxSpinner();
					},
					complete : function() {
						stopCommonAjaxSpinner();
					},
					success : function(message) {
						$('#divStudentCompartment').modal('hide');
						jAlert("successfully save");
						
					},
					error : function() {
						jAlert("Something went wrong, Please try after some time","Error");
					}
				});
			}
		});

	}else{
		$('#divStudentCompartment').modal('hide');
	}
}
var ngSpecilizationSelectBoiler="";
function fetchSpecializationNew() {
	var instituteCourseId = $('#cbInstiCourseId').val().split("-")[0];
	if(instituteCourseId==0){
		jAlert("Please Select Programme!!!");
		return;
	}
	$.ajax({
		url:'fetchSpecializationByInstituteCourseId.json?instituteCourseId='+instituteCourseId,
		dataType:'json',
		async:false,
		success:function(jArray){
			ngSpecilizationSelectBoiler = '<option value="0">Select</option>';
			if(jArray.length>0){
				for(var i=0;i<jArray.length;i++){
					ngSpecilizationSelectBoiler += '<option value="'+jArray[i]["qualificationSpecializationId"]+'">'+jArray[i]["qualificationSpecializationName"]+'</option>';
				}
			}
		},
	});
}

function updateStudentAsMinBillDate(instituteCourseStrengthId,shift){
	if($('#customerHelper').val()=='REVA_UNIVERSITY'){
		$.ajax({
			url:'updateStudentMinBillDateAsAdmissionDate.json?instituteCourseStrengthId='+instituteCourseStrengthId+'&shift='+shift,
			//type:'POST',
			dataType:'text',
			async:false,
			beforeSend: function() {
				startCommonAjaxSpinner();												
			},
			complete: function() {
				stopCommonAjaxSpinner(); 
			}, 
			success:function(jArray)
			{
				console.log("update min Bill Date as Admission Date");
			},
			error:function()
			{
				alert("Error in Save Product Type");
			}
		});
	}
}
function downloadChangeEmailIdTemplateUsingApplicationNo()
{
	 var instituteCourseId = $('#cbInstiCourseId').val();
	var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	if(semesterBatchId == undefined || semesterBatchId == "undefined")
		semesterBatchId = 0;
		window.open('downloadChangeEmailIdTemplateUsingApplicationNo.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId); 
}


function uploadAndSaveChangeEmailIdUsingApplicationNo()
{   
	 var instituteCourseId = $('#cbInstiCourseId').val();
     var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	 var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	 if(semesterBatchId=="undefined"||semesterBatchId==undefined){
		 semesterBatchId = 0;
	 }
	 new AjaxUpload('uploadChangeEmailIdUsingApplicationNo', {
			action : 'uploadChangeEmailIdTemplateUsingApplicationNo.json',
			data : {},
			name : "fileDataChangeEmailUsingApplicationNo",
			type :'POST',
			size : AllowedFileSize.EXCELSHEET_UPLOAD,
			
			onSubmit : function(file, extension) {
						if (extension.toString().toLowerCase() == 'xls' || extension.toString().toLowerCase() == 'xlsx') {
							startCommonAjaxSpinner();

								this.setData({
										'fileSize':AllowedFileSize.EXCELSHEET_UPLOAD,
										'instituteCourseId':instituteCourseId,
										'instituteCourseStrengthId':instituteCourseStrengthId,
										'semesterBatchId':semesterBatchId

											});

				} else {
					jAlert('Only Msexcel(.xls) file is permitted');
					return false;
				}
			},
			onComplete : function(file, response) {
				stopCommonAjaxSpinner();

				 var jObject = eval('('+response+')');
				 if (jObject.responseFlag == "0") {
				   
				      jAlert(jObject.ErrorList[0]['ErrorName']);
					}
					else {
						 jAlert("Successfully Uploaded");
				    showStudentListByCourseSemeserAndDivision();						 
					}			
				 $("#uploadChangeEmailIdUsingApplicationNo").val('');


			}
		  
	});
}
function initFiledailyMonitoring(){
	var instituteStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	var studentIds = new Array();
	$('.selectedStudent').each(function(){
		if($(this).is(':checked'))
			studentIds.push($(this).val());
	});
	if(studentIds.length > 0){
		new AjaxUpload('uploadDailyMonitoringFile',{
			action :'setAdmissionCancelledUploaded.json?studentId='+studentIds+'&instituteStrengthId='+instituteStrengthId,
			name : 'fileData',
			size:AllowedFileSize.DOCUMENT_UPLOAD,
			onSubmit : function(file, extension) {
				startLoading();
				this.setData({
					'fileSize':AllowedFileSize.DOCUMENT_UPLOAD
				});
			},
			onComplete : function(file, response) {
				stopLoading();
				getSynopsisDocument();
			}
		});
	}else{
		jAlert('Please select only one student at a time');
	}
}

function getSynopsisDocument(){
	getUploadedSynopsisDocument(function(jObject){
		showSynopsisDocument(jObject);
	});
}

function getUploadedSynopsisDocument(callback){
	var instituteStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	var studentIds = new Array();
	$('.selectedStudent').each(function(){
		if($(this).is(':checked'))
			studentIds.push($(this).val());
	});
	$.ajax({
		url:'getAdmissionCancelledUploaded.json?studentId='+studentIds+'&instituteStrengthId='+instituteStrengthId,
		dataType:'json',
		success:function(jObject){
			callback(jObject);
		}
	});
}
function showSynopsisDocument(jArray){
	var attachementBoiler = "";
	for(var i = 0 ; i < jArray.length; i++){
		var attachmentFileName = jArray[i]["name"].toString(); 
		var documentId = jArray[i]["documentId"];
		var fileType = jArray[i]["extension"];
		iconPath = gFileTypeIconMapping[fileType];
	
		if(attachmentFileName!="" || documentId!="" || fileType!=""){
			attachementBoiler += '<div align="center"><img src="'+iconPath+'" />&nbsp;&nbsp;&nbsp;&nbsp;<a href = "downloadWithPath.json?id='+documentId+'&n='+attachmentFileName+'&t='+fileType+'">'+attachmentFileName+'</a>&nbsp;&nbsp;&nbsp;';
			attachementBoiler += '<img class="trHideShow" style = "cursor:pointer" title = "remove" src = "img/remove-icon.png" onclick = "RemoveDocumentFromCloud(\''+documentId+'\')" />';				
			attachementBoiler += '</div>';
		}else{
			attachementBoiler = 'No docs attached';
		}
	}
	$('#dailyMonitoringFileDiv').html(attachementBoiler);
}

function RemoveDocumentFromCloud(documentId){
	$.ajax({
		url:'removeAdmissionCancelledUploaded.json?documentId='+documentId,
		dataType:'json',
		type:'POST',
		success:function(){
			getSynopsisDocument();
		}	
	});
}
 function downloadUtrNoTemplate()
 {
	 var instituteCourseId = $('#cbInstiCourseId').val();
	var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	if(semesterBatchId == undefined || semesterBatchId == "undefined")
		semesterBatchId = 0;
		window.open('downloadUtrNoTemplate.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId); 
 }
 function uploadAndSaveUTRNo()
 {
	var instituteCourseId = $('#cbInstiCourseId').val();
	 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	 var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	 if(semesterBatchId=="undefined"||semesterBatchId==undefined){
		 semesterBatchId = 0;
	 }
	 new AjaxUpload('uploadUtrNo', {
			action : 'uploadUtrNoTemplateNew.json', // uploadUtrNoTemplate.json
			data : {},
			name : "fileDataUpdateUtrNo",
			type :'POST',
			size : AllowedFileSize.EXCELSHEET_UPLOAD,
			
			onSubmit : function(file, extension) {
						if (extension.toString().toLowerCase() == 'xls' || extension.toString().toLowerCase() == 'xlsx') {
							startCommonAjaxSpinner();

								this.setData({
										'fileSize':AllowedFileSize.EXCELSHEET_UPLOAD,
										'instituteCourseId':instituteCourseId,
										'instituteCourseStrengthId':instituteCourseStrengthId,
										'semesterBatchId':semesterBatchId

											});

				} else {
					jAlert('Only Msexcel(.xls) file is permitted');
					return false;
				}
			},
			onComplete : function(file, response) {
				stopCommonAjaxSpinner();
				jAlert(response);
				 /*var jObject = eval('('+response+')');
				 if (jObject.responseFlag == "0") {
				   
				      jAlert(jObject.ErrorList[0]['ErrorName']);
					}
					else {
						 jAlert("Successfully Uploaded");
					}	*/		
				 $("#uploadUtrNo").val('');
				
			}
		  
	});
 }

function selectedStudentStatusChange(){	
          var selectStud=[];
          $('.selectedStudent:checked').each(function(){
           selectStud.push($(this).attr('id'))
           }); 
       
         var studData=`<table class = "table table-bordered table-condensed"><thead><th>Sr No.</th><th>Student Name</th><th>Email Id</th></thead></tbody>`;
         var i=1;
            gStudentListJsonArray.forEach( function(Obj){
            const{studentId,firstName,lastName,alternetEmailID}=Obj;
            var studId = studentId.toString();          
		   if(selectStud.includes(studId)){
			studData+=`<tr><td style="text-align: right;">${i}</td><td>${firstName} ${lastName}</td><td>${alternetEmailID}</td></tr>`;
			i++;
            }
        });	
        studData+=`</tbody></table>`       
        $('#selectedStudentData').html(studData);	
}


function downloadZip(){

	var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	var programName =$('#cbInstiCourseId option:selected').text();
	var acdamicbatch = $('#cbAcademicBatch option:selected').text();
	var  sectionName = $('#cbBatchId option:selected').text();
	var studentApplicant=new Array();
	var admissionregisterdFlag =true; 
	var applicantid;
	$('.selectedStudent:visible').each(function(){
		if($(this).is(":checked")){
			applicantid= $(this).val();
			var name="NA";
			studentApplicant.push(applicantid);
		}
	});
	
	juno.windowOpenWithPostData({
		url:'restApi/downloadZipOfApplicantForm.zip',
		data:{
			instituteCourseStrengthId: instituteCourseStrengthId,
			studentApplicant:studentApplicant,
			programName:programName,
			acdamicbatch:acdamicbatch,
			sectionName:sectionName
		}
	});
	
	
	//window.location.replace('applicantStudentPrint.json?ID=&studentId='+studentApplicant.toString()+'&instituteStrenthId='+instituteCourseStrengthId+'&programName='+programName+'&acdamicbatch='+acdamicbatch+'&sectionName='+ sectionName);

}


function downloadAbcIDTemplate()
 {
	 var instituteCourseId = $('#cbInstiCourseId').val();
	 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	 var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	 if(semesterBatchId=="undefined"||semesterBatchId==undefined){
		 semesterBatchId = 0;
	 }
	 typeFlag = "AbcID";
	 window.open('downloadAbcIDTemplate.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId+'&typeFlag='+typeFlag); 
 }
 function uploadAndSaveAbcID(){
	 var instituteCourseId = $('#cbInstiCourseId option:selected').val();
	 new AjaxUpload('uploadAbcID', {
		 action : 'uploadChangeAbcIDTemplateNew.json', // uploadChangeRollNoTemplate.json
		 data : {},
		 name : "fileDataChageAbcID",
		 type :'POST',
		 size : AllowedFileSize.EXCELSHEET_UPLOAD,

		 onSubmit : function(file, extension) {
			 if (extension.toString().toLowerCase() == 'xls' || extension.toString().toLowerCase() == 'xlsx') {
				 startCommonAjaxSpinner();

				 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
				 var semesterBatchId = $('#cbBatchId').val().split('-')[2]!=undefined ? $('#cbBatchId').val().split('-')[2]:0;
				 
				 this.setData({
					 'fileSize':AllowedFileSize.EXCELSHEET_UPLOAD,
					 'instituteCourseStrengthId':instituteCourseStrengthId,
					 'semesterBatchId':semesterBatchId,
					 'instituteCourseId':instituteCourseId
				 });

			 } else {
				 jAlert('Only Msexcel(.xls) file is permitted');
				 return false;
			 }
		 },
		 onComplete : function(file, response) {
			 stopCommonAjaxSpinner();
			 showStudentListByCourseSemeserAndDivision();
			 jAlert(response);
		 }
	 });
 }

function resetCombo(){
	$('#student-management-grid').html('');
}


  function sendEmailtoSelectedStudentsInAPIForGCU(){
//	var instituteCourseStrengthId = $('#admissionYear option:selected').val();
	var instituteCourseStrengthId = $('#cbAcademicBatch').val().toString().split("-")[0];

	var studentIdsArray = new Array();
	$('.selectedStudent').each(function(){
		if($(this).attr("checked")){ 
			if(!studentIdsArray.includes($(this).val())){
				studentIdsArray.push($(this).val());
			}
		}
	});
	
	if(studentIdsArray.length<1){
		jAlert('Please select at least one applicant...!!!');
		return;
	}
	
	$.ajax({
		url:'sendEmailtoStudentInAPIForGCU.json',
		data:{
//			institutesAbbr:institutesAbbr,
			studentIdsArray:studentIdsArray.toString(),
			instituteCourseStrengthId:instituteCourseStrengthId
		},
		dataType:'text',
		type:'GET',
		async:true,
		beforeSend: function()
		{
			startCommonAjaxSpinner();
		},
		complete: function()
		{
			stopCommonAjaxSpinner();
		},
		success:function(text)
		{
   			jAlert("Successfully Sent Mail");
		},
		error:function(){
			jAlert("Error...!");
		}
	});
}
function resetStudentParentPassword(studentId,studentName){
		var parentResetList = [];
        $('.resetCheckbox:checked').each(function(){
            parentResetList.push($(this).val())
        });
        var parentType = '';
   	    if(parentResetList.length > 1)   
     		parentType = 'Both'; 
     	else
     		parentType = parentResetList;
        jConfirm('Are you sure to reset password of: '+studentName+'('+parentResetList+')','Confirmation',function(flag){
		if(flag){
			$.ajax({
				url:'resetStudentParentPassword.json?studentId='+studentId+'&parentType='+parentType,
				type:'POST',
				beforeSend: function()
				{
					startCommonAjaxSpinner();
				},
				complete: function()
				{
					stopCommonAjaxSpinner();
				},
				success:function(msg){
					if(msg == "Success")
						jAlert('Password has been reset successfully!!!');
				},error:function(){
					jAlert('Server error: Please refresh the page and try again!!!');
				}
			});	
		}
	});
}
function dosaconfigBIT(){
	var CheckDosa=$('#dosaConfig').is(":checked"); 
	if(CheckDosa){
		$('#dosaconfigBIT').show(); 
	}else{
		$('#dosaconfigBIT').hide();
	}
}
function downloadHeightWeightTemplate(){
	 var instituteCourseId = $('#cbInstiCourseId').val();
	 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	 var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	 if(semesterBatchId=="undefined"||semesterBatchId==undefined){
		 semesterBatchId = 0;
	 }
	 typeFlag = "AbcID";
	 window.open('downloadHeightWeightTemplate.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId+'&typeFlag='+typeFlag); 
 }
 function uploadAndSaveHeightWeight(){
	 var instituteCourseId = $('#cbInstiCourseId option:selected').val();
	 new AjaxUpload('uploadHeightWeight', {
		 action : 'uploadAndSaveHeightWeight.json', 
		 data : {},
		 name : "fileDataChageHeightWeight",
		 type :'POST',
		 size : AllowedFileSize.EXCELSHEET_UPLOAD,

		 onSubmit : function(file, extension) {
			 if (extension.toString().toLowerCase() == 'xls' || extension.toString().toLowerCase() == 'xlsx') {
				 startCommonAjaxSpinner();

				 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
				 var semesterBatchId = $('#cbBatchId').val().split('-')[2]!=undefined ? $('#cbBatchId').val().split('-')[2]:0;
				 
				 this.setData({
					 'fileSize':AllowedFileSize.EXCELSHEET_UPLOAD,
					 'instituteCourseStrengthId':instituteCourseStrengthId,
					 'semesterBatchId':semesterBatchId,
					 'instituteCourseId':instituteCourseId
				 });

			 } else {
				 jAlert('Only Msexcel(.xls) file is permitted');
				 return false;
			 }
		 },
		 onComplete : function(file, response) {
			 stopCommonAjaxSpinner();
			 showStudentListByCourseSemeserAndDivision();
			 jAlert(response);
		 }
	 });
 }

function downloadAayushIDTemplate(){
	 var instituteCourseId = $('#cbInstiCourseId').val();
	 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	 var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	 if(semesterBatchId=="undefined"||semesterBatchId==undefined){
		 semesterBatchId = 0;
	 }
	 typeFlag = "AayushID";
	 window.open('downloadAayushIDTemplate.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId+'&typeFlag='+typeFlag); 
 } 
function uploadAndSaveAayushID(){
	 var instituteCourseId = $('#cbInstiCourseId option:selected').val();
	 new AjaxUpload('uploadAayushID', {
		 action : 'uploadChangeAayushIDTemplateNew.json', // uploadChangeRollNoTemplate.json
		 data : {},
		 name : "fileDataChageAayushID",
		 type :'POST',
		 size : AllowedFileSize.EXCELSHEET_UPLOAD,

		 onSubmit : function(file, extension) {
			 if (extension.toString().toLowerCase() == 'xls' || extension.toString().toLowerCase() == 'xlsx') {
				 startCommonAjaxSpinner();

				 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
				 var semesterBatchId = $('#cbBatchId').val().split('-')[2]!=undefined ? $('#cbBatchId').val().split('-')[2]:0;
				 
				 this.setData({
					 'fileSize':AllowedFileSize.EXCELSHEET_UPLOAD,
					 'instituteCourseStrengthId':instituteCourseStrengthId,
					 'semesterBatchId':semesterBatchId,
					 'instituteCourseId':instituteCourseId
				 });

			 } else {
				 jAlert('Only Msexcel(.xls) file is permitted');
				 return false;
			 }
		 },
		 onComplete : function(file, response) {
			 stopCommonAjaxSpinner();
			 showStudentListByCourseSemeserAndDivision();
			 jAlert(response);
		 }
	 });
}
 
function getSortDataWithFilterBYType() {
    var catvalue = $('#typeCategoryDrop').val();
    var admtypevalue = $('#admissionTypeDrop').val();

    $('#pro1 tbody tr').hide(); 

    if (catvalue == 'All' && admtypevalue == 'All') {
        $('#pro1 tbody tr').show(); 
    } else {
        $('#pro1 tbody tr').each(function() {
            var row = $(this);
            var category = row.attr('category');
            var admissionType = row.attr('admissiontype');
            
            if ((catvalue == 'All' || category == catvalue) && (admtypevalue == 'All' || admissionType == admtypevalue)) {
                row.show(); 
            }
        });
    }
}
function bindFilterTobindDrop(jArray,id){
	var boiler='<option value="All">All</option>';
	for(var i= 0; i<jArray.length; i++)
				boiler += '<option value="'+jArray[i]+'">'
				+jArray[i]+'</option>';
			$('#'+id).html(boiler);
}

function selectAllCatgoryWise(){
	if($('#selectAllCat').attr('checked')=="checked"){
		$('.selectedStudent:visible').each(function() {
		    $(this).attr('checked', true);		    
		    $(this).closest('tr').addClass('selected');
		});
	}else{
		$('.selectedStudent').each(function() {
		    $(this).attr('checked', false);		    
		    $(this).closest('tr').removeClass('selected');
		});
	}	
	setSelectedStudentBatchId();
}

function toAllocateSectionAccordingToPreviousTerm(){
	jConfirm('Are you sure to allocate section according to previous term','Confirmation',function(flag){
		if(flag){
			var instituteCourseStrengthId = $('#cbAcademicBatch').val().toString().split("-")[0];
			
			var studentIds = new Array();
			$('.selectedStudent:checked').each(function(){
				studentIds.push($(this).attr('id'));
			});
			
			if(studentIds.length==0){
				jAlert("Please select student!!!");
				return;
			}
			
			$.ajax({
				url:'allocationToOrginalBatchFromPastBatch.json',
				data:{
					instituteCourseStrengthId:instituteCourseStrengthId,
					studentIds:studentIds.toString()
				},
				type:'POST',
				beforeSend: function(){
					startCommonAjaxSpinner();
				},
				complete: function(){
					stopCommonAjaxSpinner();
				},
				success:function(msg){
					if(msg == "Success"){
						jAlert('Successfully Allocated.');
					}
				},
				error:function(){
					jAlert('Server error: Please refresh the page and try again!!!');
				}
			});	
		}
	});
}

function downloadAntiRaggingReferenceIDTemplate()
 {
	 var instituteCourseId = $('#cbInstiCourseId').val();
	 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
	 var semesterBatchId = $('#cbBatchId').val().split('-')[2];
	 if(semesterBatchId=="undefined"||semesterBatchId==undefined){
		 semesterBatchId = 0;
	 }
	 typeFlag = "AntiRaggingReferenceID";
	 window.open('downloadAntiRaggingReferenceIDTemplate.json?instituteCourseId='+instituteCourseId+'&instituteCourseStrengthId='+instituteCourseStrengthId+'&semesterBatchId='+semesterBatchId+'&typeFlag='+typeFlag); 
 }
 function uploadAndSaveAntiRaggingReferenceID(){
	 var instituteCourseId = $('#cbInstiCourseId option:selected').val();
	 new AjaxUpload('uploadAntiRaggingReferenceID', {
		 action : 'uploadChangeAntiRaggingReferenceIDTemplateNew.json', 
		 data : {},
		 name : "fileDataChageAntiRaggingReferenceID",
		 type :'POST',
		 size : AllowedFileSize.EXCELSHEET_UPLOAD,

		 onSubmit : function(file, extension) {
			 if (extension.toString().toLowerCase() == 'xls' || extension.toString().toLowerCase() == 'xlsx') {
				 startCommonAjaxSpinner();

				 var instituteCourseStrengthId = $('#cbAcademicBatch').val().split('-')[0];
				 var semesterBatchId = $('#cbBatchId').val().split('-')[2]!=undefined ? $('#cbBatchId').val().split('-')[2]:0;
				 
				 this.setData({
					 'fileSize':AllowedFileSize.EXCELSHEET_UPLOAD,
					 'instituteCourseStrengthId':instituteCourseStrengthId,
					 'semesterBatchId':semesterBatchId,
					 'instituteCourseId':instituteCourseId
				 });

			 } else {
				 jAlert('Only Msexcel(.xls) file is permitted');
				 return false;
			 }
		 },
		 onComplete : function(file, response) {
			 stopCommonAjaxSpinner();
			 showStudentListByCourseSemeserAndDivision();
			 jAlert(response);
		 }
	 });
 }
B
  '         5Y      gStudentsIds   	*i      gStudentBatchIds   'I      gStudentStatusArray    jJ      gStudentListJsonArray      *	x      gNonFresherOptions     IG      lastFunctionCalled     O      document   
      ready            fileSize	   h`      AllowedFileSize
    &      DOCUMENT_UPLOAD    3`J      #fileSizeAllowed   X      html   z      #btnStudentTableRefresh    X      click            #studenRollNoAllocationDialog            modal      ]i      backdrop   a@      keyboard   HK      show   >      css    J      width      .      500px      (:      margin-left    (      #allocateDivisionWithRollNos   ,f(      #studenArrangementOptionsDialog    Lw      #dialogAddStudent      x#      800px      )      #dialogEditStudent     {      #divStudentPromotionDialog     u;      1000px           #transferWEF    JL
      datepicker!     D~1
      dateFormat"           M dd,yy#    >o      #deptTransferWEF$   N)"
      #importWEF%     bg]      .studentSelectOptionTable&      1<      select'           change(            clearStudentGrid)   A      attr*   0      cbSemesterId+         #cbAcademicSessionId option,    .      selected-   TU      #cbBatchId option.      #      #hdnBatchCapacity/      &      val0          role1   _lh      #hdnUserRole2   q*A	      examAdmin3      $      getStreamListFromManageStudentLevel14   "M      cmbUniversityId5    l+      getQualificationListFromManageStudentLevel16    N      cmbQualification7   d      #editStudentRecordDialog8   &e	      .chkPrint9      {      .chkPrint:checked:      PDD      .allchk;    :0      checked<    /iR      #txtAdmissionCancelDate=    ::      M d,yy>     A      minViewMode?    9n	      autoclose@      `      todayHighlightA     2k      customerIdentificationObjB      BY      #customerIdentificationObjC     
      IMT_NAGPURD     ,      IMT_GAZIABADE   !      IMT_HYDERABADF      1      #radioOverAllRollNoAssignmentG      6      rollNoAllocationTypeH   u      .filterOptionsForRollNoI    v}      hideJ   r      #uploadorderNoK     *      uploadOrderNoL      7}P      populateBatchM      <      #cbInstiCourseIdN         instiCourseIdO      d      ajaxP   raW'      getBatchSessionList.json?instiCourseId=Q    Dow      dataTypeR   \9      successS    z      jArrayT     X      lenU    1f      boilerV     ZV#      <option value = "0">Select</option>W    =M      <option value = X   p      instituteCourseStrengthIdY            fromAcademicYearZ   s      toAcademicYear[     	      </option>\      <S      #cbInstiCourseStrengthId]   tuW      error^      5=      downloadEmployeeFormat_     2      window`     x5      opena   c      studentUploadFormat.jsonb   s      getBatchSemesterIdc     bp      batchIdd    M
      #cbBatchIde     q      batchSemesterIdf    D      studentUploadGridg      "I      showStudentListBySemesterh      >G      semIdi      p      academicSessionj    /      #cbAcademicSessionIdk   >@U      studentListBySemester.jsonl     6(      datam   A7\      semNon      
      beforeSendo     qm+      startCommonAjaxSpinnerp     D      completeq   *F      stopCommonAjaxSpinnerr      %      showStudentListInGrids      >$      showStudentListInSourcePromotionGridt         currentUrlCalledMapu    P)      showStudentListByCourseSemeserAndDivisionv      nn      sortingParamw   E\/      namingOrderValuex   O      semesterBatchIdy          callbackz   4)	      .hideshow{      &+      showStudentListByCourseSemeserAndDivision('|    i      ',}     f      getSemesterBatchId~     ,#      #cbAcademicBatch   RDo      toLowerCase    Czc	      shiftType      
      #shiftType     8y      #chkNewStudent     z      :checked   Zbb)      fresherStudentListByBatchSP.json?batchId=      Y9      &shift=    &n}      &sortingParam=     VD#      studentListSP.json?semesterBatchId=    ]8u!      studentList.json?semesterBatchId=      N      showStudentListInDialog    p^      jAlert     6      Server error: Please refresh the page and try again!!!     |q      downloadBonafideCertifiction   
      studentIds     Up      instituteStrengthId    q      .selectedStudent:checked   u2      push   0+QA      location   h!0      internationalStudentBonafidePdf.json?studentIds=   [      &instituteStrengthId=      #      Select at least a student.     ><      showStudentListByBatch     q8{      initManageStudentGrid      zw      disabled         #uploadAsApplicantId   km       studentListByCourseAndBatch.json   Y      showFresherStudentInStudentGrid    "      getSelectedInstituteCourseId   !      semListBoilerplate           showShiftsByInstituteStrength      xR      #cbSemesterId option   1u      #gridAllocateDivCaptionHeader      +      removeClass          non-fresher    B|      addClass   d	T#      fresher    T      #btnAllocateDivisionRollNos    -O      #trParentDepartment    3e      #smsForFresher     sy      #emailForFresher   $Q+      Please select programme and Academic Batch.    _F      #divManageStudentTab21Mar      8Zh1      shiftsByInstituteStrength.json     .#      <option value="0">No Shift</option>    P      <option value="    =O      shift      +      ">     @      #trShiftType   eOP      showFresherStudentByBatch      zS      auto   #.G      Shifts are not defined to batches.<br>Please allocate shifts to batches    d      showFresherStudentByBatch("    .      ")     $      #customerHelper    j1      REVA_UNIVERSITY    w,      updateStudentAsMinBillDate     3At
      setTimeout     `       fresherStudentListByBatchSP.json   #      #shiftType option      w      generateStudentEmail   {<      courseId    {      SemId      <      #cbSemesterId      #^j      acadmicyearid            planid     B-      #cbStudentAllocationPlanList   m	      generateStudentEmail.json      y      blockStudent   K2	      studentId       D($      editAddStudentDetails.htm?studentId=   o      upload     :S`      releaseStudent     t$      releaseStudentDetails.htm?studentId=   }      showPursuingStudentListInGrid            cnt    FZ      members    4q      pursuing   G2      datarow          studentIdSrvr      35s      rollNo     d>      hdnStudentIdClnt   7gZ      hdnStudentBatchIdClnt      O      studentBatchId     Sg      hdnStudentBatchIdSrvr      	      firstName       [9      lastName   <      email      6D      alternetEmailID    g      phoneNo    5g      alternetContactNumber      >/      jQuery     6      #student-management-grid   H|      jqGrid     p
      addRowData     p=      initStudentGrid    O_
      reloadGrid     J0}\      getSelectedStudentId   Au      .selectedStudent   q	v       getSelectedStudentId2            ids    O`      getGridParam   P      selrow     OA      rowObj     4
      getRowData     !7w      #student-admitted-grid     H\}      getSelectedStudentBatchId      "$      getSelectedStudentBatchId2     +n      setSelectedStudentBatchId      wc=      gridId     0-      idsArr     a"      student-management-grid    _e       oTable     v:sv      fnFilter   CRU      tr.selected:visible    3      .hdnStudentBatchIdClnt     3      text   %      getStudentStatus   c      #cbStudentStatusId     a*_      getSelectedStudentGridRowId    `      tr.selected    %      .hdnStudentIdClnt             populateStudentStatus      %X      #showStudentExamInfoModal      V
      courseType     QUs       #cbInstiCourseId option:selected   s	      cousetype      4O      pathname   IW&x$      <option value = "0">Select</"option>   t%      getStudentStatusList.json?courseType=     g^      &url=     :      StudentStatus     c      PURSUING  e      <option value = "     {       BREAK     _E      DYPATIL	   8      GAP
   Xv
      </"option>          selectedStudentStatusChange   W      showChangeStudentStatusForm   W|      #dosaConfigSpan   |F      #dosaConfig   P      prop  S      #dosaconfigBIT    B6C      #txtDosaConfigBIT     %      #trTermError  U
      #trComment     0!
      #txtCmtBlk    04!      #cmbSemDel2   3+Nd      border-color  qO      #changeStudentStatusDialog    ;N      600px     GM      manageStudent.htm     k      header    ]      Student status(Pursuing)         #changeStudentStatusDialogHeader  
      #txtReason    =	      #trReason           #trApprovedSatus   ;-      #trTermSatus!  y      #subjectNameListUnalloc"   5      #lblyearDown#  A      #lblTermDown$  F      changeStudentStatus%   (      studentBatchIds&   
      statusText'    H?"      #cbStudentStatusId option:selected(    8      comment)   
      doSaReason*          checkDosaBit+  o      Please Select Status.,     ,`M
      BITS_MESRA-    jdBt      BLOCKED.   b      trim/  8      Please Enter Reason.0  Xt      admissionCancelDate1   GZS'
      employeeId2    Z<!      #cbApprovedStatus option:selected3     S
      yearDownStatus4    =      YEARDOWN5  s&      input[name = "yearDownStatus"]:checked6    A      ALUMNI7    A      Please select Date8          ADMISSION_CANCELLED9   G[!      #RevertCheckStudStatusAdmsnCancel:     *@#      #revertCheckStudStatusAdmsnCancelId;   Exz      jConfirm<        Are you sure?=     5      Confirmation>        flag?   f      cancelAdmission@   G(      Please select only one student at a timeA  `hN      LEFTB  fm3      Please specify reasonC     yf      batchSemesterCapacityIdTermD   }3       getStudentSubjectChoiceList.jsonE  :      POSTF  S:      subjectNameG   L|
      gemsDecodeH    
      subNameArrI    ^      .subjectBatchIdForUnallocateJ          subjectNameDelK    OT      Are you sure?
This will remove all the Course allocation, student attendance 
 and feedback given by the student(s) of following subjects  :  L    L0       
 .M  ,      LeftOrBreakAdmissionN  4      GC_UNIVERSITYO           invalidP   
af      studIdQ          feesRemainingAmtR  LO      #studentRow-S  _       .pendingFeesAmountT   Q      0.0U   V)       Please clear the fee due amount.V  u      changeStudentStatus.jsonW  G      responseFlagX  y8g      showSuccessMessageY    |      setCellZ   m      dialog[    5:      Student Blocked Successfully.\           #yearDownStatusFlag]   `      Student Year Dropped.^     ?1sy      TERMDOWN_        Student Term Dropped.c     /F      Srnod  W      <tr><td>e  g=
      </td> <td>f    g      RollNog    %J      </td><td>success</td> </tr>i   Nq!      </td><td>Un-successful</td> </tr>j     ~|      <div style='border:thin'><p class='alert alert-danger'  style='font-size:14px'>Unable to Convert Student to Alumni</p></div>k  vd
      RUSTICATEDl           Student rusticated successfully.m        CancelReasonn        #txtReason2o   Tu      putforAdmCancelCoep    l      #txtCheckForFinanceYes2q   7      Yesr   '      studentSubjectCancelflags  4M,      input[name='studentSubjectCancelId']:checkedt  /-      cancelAdmissionManageStudent.json?studentIds=u     U=L      &admissionCancelDate=v           &CancelReason=w     c3      &putforAdmCancelCoe=x  <8      &studentSubjectCancelflag=y          checkForActiveSemesterz    BF!      Admission Cancelled Successfully.{     b      Message|   j
      GridUnload}    UQx      getSelectedStudentCategory~    
      categoryId    } "      getAdmittedSelectedStudentCategory          getStudentAddress     9x      sel   ;%      addressLine1        <br/>     H      addressLine2  '2      city  ^v      ,     ~Qf      country   W      pincode         getStudentName    Bm0      getStudentAdmissionDate   'uA      admissionDate           getStudentCategory    }      categoryName  M:      setStudentGender  M0      gender    Tr      gStudentInvoiceRelatedObject  q4      setStudentAdmissionTypeId     V      admissionTypeId   w~      studentAdmissionTypeId    |f      setStudentAdmissionType   9      admissionType     !      studentAdmissionTypeName  stf      setStudentCategoryId        setStudentCategoryName    KC      admissionCategoryName     P      studentAdmissionCategory        getStudentGender  Yh      getStudentAdmissionType   yO      getStudentAdmissionCategoryName         getAdmittedStudentAdmissionType   c
      getStudentAdmissionTypeId     'H2      getAdmittedStudentTypeId  _      checkSelectedStudent  IUA      selectedStudentArray  q	      .selected     d      intNamingOrderValue   ;]      #divStudentInvoiceGeneration  &      fromCGPA  {       #cbAcademicBatch option:selected  hvx1      fromcgpa  \       toCGPA    +      tocgpa    `~      first     Q1      console   =X      log   ^a      customerWiseDispalyOption     Du      display:none;     6      mainDepartmentHeading     (      Main Stream   dH&5      Main Department   z|      <thead>   UI{      juno        labelByCustomer   `_      l.Customerwise.RollNo.Label         </th>     )O}      ">Export Status</th>        </tr>     C=G      </thead>        <tbody>   J4      displayName   j

      middleName    WjO      Not Assigned  KB      mobileNo  	      mobileNumber  Q      CGPA  "      cgpa  j#      CGPA >= fromCGPA  && CGPA <= toCGPA   |      <tr id="studentRow-   @/      " style="" class="studentRow">    q;      <td class="gems_integer">     .      </td>     O&K      <td class="profilePhoto"><img class="pointer" height="35px" id="studentImg-   lW7      " width="35px" src="getStudentProfileImageById.json?id=   +      <td class="firstName" style="display:none">   0Fh      \+    6      <td class="name" width="20%" style="font-size:11.5px">    
      <td class="email" style="">         emailId   =x      pcmMarks  8y      qualiSpecializationName   .      parentDepartmentName  >h      deptPromotionId   )      parentInstituteCourseId   Hu      " fresher="   \I      exportStatus  H      majorOpenElectiveSubjectId    r      minorOpenElectiveSubjectId    f%      </tbody>        </table>  1J9G      .tblManageStudentGrid      8	      dataTable     y&y      sDom  	D      <'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span6'i><'span6'p>>  il      sPaginationType   }~h	      bootstrap     Tm	      oLanguage     !.      sLengthMenu   Rv8      _MENU_ records per page   Y      iDisplayLength	    t      .dataTables_length
    t      .profilePhoto           bind        trObj     v=      parents         showPhotoDialog   #      studentImg-         student   >=      .editStudent  	      studentid           #divStdRegisteredWith     W      reset     S
      #divStdBioMetricDetail    <m      #divStdBioMetricDetailDate    }j_      #remedialExamModal    $!      getSemesterListforSelectedYear    _}:      #studentBiomertricListModal   Px      active    \'      .tab-content  /      div.tab-pane  N	      batchName     S      semesterName  5~H      #cbSemesterId option:selected       G      sessionName!    !$      #cbAcademicSessionId option:selected"  ^P      divisionName#  S      #cbBatchId option:selected$    l^	       &raquo; %     %=~      .divStudentListGridInfo&   C`!      <span style="color: #03b1a9;"><b>'     1w      </b></span>
	<hr style="border-bottom: 1px solid #b6b6b675;margin-top: 3px;border-bottom: 1px solid var(--juno-green)">(         lastChecked)   H@	      $chkboxes*     ,      shiftKey+         slice,     U       min-   Kk.      max.    $?y      tr.studentRow/     rZ      openStudentListDialog0     +      #studentListDialog1    #b1H      closeStudentListDialog2    7@      showStudentArrangeOption3  HX      unSelectAllArrangeParameter4   D      chkId5     '      input[name = "chkStudentArrangeOption"]6   :H8      unSelectAllNamingOrderParameter7   + %      input[name = "chkStudentNamingOrder"]8     J       sUnSelectAllNamingOrderParameter9  '      input[name = "suchkStudentNamingOrder"]:   9(      getFormattedStudentList;   g)-      input[name = "chkStudentNamingOrder"]:checked<     K^      #selectedOrderByList option=   	%      getspecializationFormattedStudentList>     ->0      checkedStudentList?    /      input[name = "suchkStudentNamingOrder"]:checked@   bU)      #specializationSelectedOrderByList optionA     Z      alertB     fk7      allocateDefaultRollToDivisionC           arrangedStudentListD   /      closestE   UR0-      initialRollNoMaleF     vd
      prefixMaleG    {M
      suffixMaleH    K      initialRollNoFemaleI   B9{      prefixFemaleJ  m      suffixFemaleK        initialRollNoOtherL    "O      suffixOtherM   H      prefixOtherN   7S(      input[name = "rollNoAllocation"]:checkedO  }      batchNameArrayP          specializationTypeIdQ  7{D%      #specializationTypeId option:selectedR     #Z      overallS   (      #txtRoleInitialT   /      #txtRolePrefixU    ;,D      #txtRoleSuffixV    3      subBatchwiseW  y@3      gBatchNameArrayX   3F      #txtRoleInitialFemaleY     $,      #txtRolePrefixFemaleZ  [      #txtRoleSuffixFemale[  QJI      #txtRoleInitialMale\   >^`      #txtRoleSuffixMale]    -@      #txtRolePrefixMale^    [      specialization_    C5      #txtRoleInitialMaleSpecial`    }      #txtRoleSuffixMaleSpeciala     dy#S      #txtRolePrefixMaleSpecialb     ,s      #txtRoleInitialFemaleSpecialc        #txtRoleSuffixFemaleSpeciald   >      #txtRolePrefixFemaleSpeciale          #txtRoleInitialOtherSpecialf   1      #txtRoleSuffixOtherSpecialg    <o      #txtRolePrefixOtherSpecialh    1/      allocateRollToDivision.json?arragedStudentList=i   ^Co      &initialRollNoMale=j   >      &semesterBatchId=k     \(      &prefixMale=l  _      &suffixMale=m  lb      &initialRollNoFemale=n     R      &initialRollNoOther=o  )8      &suffixOther=p           &prefixOther=q     dK      &specializationTypeId=r    %c      &prefixFemale=s          &suffixFemale=t    )(c|      &type=u    H      &batchNameArray=v        &separator=w   J      .previewx  c      loadingy   }      .btn-allocateRollNoz   
      removeAttr{    koY      inCatchFlag|   H}#      responseText}   N      closeRoleAllocationDialog~     xz0      Successfully allocated! Total affected student:   m      Success Message         setRollNoToStudentInGrid  H      allocateRollNoToStudent   V      allocateDefaultRollNoToFresher    	      #arrangeStudent   r      .rollNoAllocation     ^\=      getAllSubBatchesByBatchSemesterCapacity.json?semesterBatchId=     co      <tr><th colspan="3">For   h      <tr>  }      "></td></tr>  8      #subBatchwiseTbody    48u&      <tr><td>No sub-batches found</td></tr>    T?@      fetchSpecializationNew    `)      ngSpecilizationSelectBoiler   J      </tbody></table>  #      allocateCustomRollNoToStudent     	      initialRollNo     Mfb      allocateCustomRollNoToFresher     l      allocateCustomRollToDivision  [T@
      divisionId    djO9      allocateCustomRollToDivision.json.htm?arragedStudentList=     &\      &initialRollNo=   x&      successfully! Total affected student:     ?:c;      allocateCustomRollToFresherStudent.json?arragedStudentList=   u(5      allocateRollToFresherStudent.json?arragedStudentList=     Q      rowCount  Bp      reccount  `      rowId     (G]      isValidEmailAddress   sO      emailAddress  h6     ^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$     v      addStudentToDivision  D>      fname     
      mname     4      lname     u)<      roll  _"      mobNo      B      appliNo   P      applicationNo     Nf      #chkForeignerName     o	"      Please enter valid email address !    @Sw8      parentDepartment  >]      validateAddStudentDialog  -	      isFresher     q)      instiCourseInfo         instiCourseStrengthId     '_
      passportNo    dp.      AdmissionYear     0      universityRegNo   	      #chkNRI   ]      #passportNo         #yearofAdmissionNRI   !      #universityRegNo   f      input[name = "Gender"]:checked    TfA
      isFresher1    K]      #trParentDepartmentRow    2      :hidden   Eb      parentDepartmentId    Fc      #cmbStudentParentDepartment   ?      &parentDepartmentId=  ;)      strStudentId=&instiCourseInfo=    vDW      &instiCourseStrengthId=   %2Q      &firstName=   :j      &middleName=  K,
      &lastName=    2L	      &emailId=     Y
      &mobileNo=    ?z      &rollNo=  Pi8      &isFresher=         &AdmissionYear=   C	_      &passportNo=  :Y      &gender=  a}]      &universityRegNo=           &applicationNo=         addEditStudent.json   Z      #addStudentD  xn      startLoading  }      stopLoading   wK	      errorCode     i	      #addEditStudentNew    |      #isDevelopmentEnvironment           jObj  /      addStudentRecordGrid  !p      trigger   -      Response: Added successfully!     ](,      Contact to Developer Team ! 
  Error Code.:#  [x      foreignExStyle          isForeignExchangeStudent  %!      style="background-color:#FCB9B9;"      S      foreignExClass          foreignExStudent  l      " class="studentRow"      umG	      " value="     r.      " onclick="selectStudentBatchGrid('studentRow-    @}	      ')"></th>     v      tbody     $      prepend   !      studentInformationFormsForFsisPdf     p'82      instStrengthId    ^l	2      studentInformationFormsForFsisPdf.json?studentIds=    P_      &instStrengthId=  %l      validateAddStudentForm    9	      IMT_DUBAI     5^\      #cmbParentDepartmentUpload    ,j"      Please select parent department!!!    n      Please select course!     K	"      Please select academic batch name!    J      Please select semester!          Please select session!    i      Please select division!   P       Please select parent department!  =
      #firstName    /*      Please enter first name!   ?      #emailId!  a6      Please enter email id!"    Ma      allocateDivisionToStudent#     osU      studentInstiArray$     p      sizeOfNewList%     F@      studentHideDivToChechCall&     HM      #studentHideDivToChechCall'          studentHideDivToValidation(    \;      #studentHideDivToValidation)   /      capacity*  ,      countOfStudent+    
      totalCount,    @V	      allocationType-    7z      hasClass.  d      WEFDate/   4!      roleType0  "`      #roleNameFromHeaderlinktype1   U
      schemaLink2    6      allocateDivisionToStudent.json3    dYuG      academicadmin4     ?%"      asd_allocateDivisionToStudent.json5    }@	      headadmin6     -.'"      ihe_allocateDivisionToStudent.json7    H      ?studentInstiArray=8   na      &allocationType=9  W	      &WEFDate=:     *m      #btnStudentDivisionAllocation;     'w#      #divStudentDivisionAllocationDialog<   P	      responseParam=     6"3       student(s) are successfully allocated to division.>         studentList?   lT_      <br>Following students are not transfered as their attendance is already filled for dates after@   y      <br>A  D4       student(s) are successfully allocated to division: B  4`Q      Please select the WEF DateC    p      WarningD   xhv      Please select the batchE         First select the students!F          doSomethingOnDivAllocationClickG   >      batchH     (      #spnFresherOptionI     Q)n      For fresher(J  )Nw      ) batchK   `      #spnExistingOptionL    [      For existing(M     Y7      doSomethingOnPromotionClickN         #spnDefaultPromotionRadioLabelO    q      Default promotion for P    ;@       batchQ          #btnGetStudentForPromotionR     e      Get student for S  .bu      getFresherStudentCredentialT   6^      academicBatchIdU   Ad'      getCurrentAcademicBatchDetailForFresherV   \W      #txtSemesterIdW    OS
      semesterIdX    W5      getCurrentAcademicBatchForFresher.json?instiCourseId=Y     "      &academicBatchId=Z     
      GET[         sessionList\   m      divisionList]        divisionListBoilerplate^   
      yrBegining_    np/      academicYearBegining`  D]
      yrEndininga          academicYearEndb         #txtCurrAcademicSessionc   cV      currentAcademicSessionIdd  ti
      batchModele    v      #cbTargetBatchIdf  XhZ      Division has not been configured for Semester-1. Kindly create divisions for Term 1 first.g    R      verifyStudentPromotionh    {/      checkSemesterForActiveInactive.json?strengthId=i   +      showPromoteStudentOptionj        #trPromoteStudentk     pz      No student found for this batchl   %bl      promotStudentm     Y      studentlistn   GB      studentPromotion.jsono     i
      #divStudentPromotionDialogBodyp          .btnPromoteStudentq    u
      .loaderimgr    $      showStudentListInTargetPromotionGrids  
A      showStudentInSourceBatcht  9Z["      Please select student to promot!!!u    K       warningv   !NT#      allocateDefaultSubjectToStudentListw   :      studentListArrayx  _X      batchCapacityIdy         Select division!z        Select student(s)!{    9      studentSubjectAllocation.json|     jU      getBlockedStudent}     E       instituteCourseId~     >
      semesterID    nd)      getBlockedStudent.json?instituteCourseId=     yby      &semesterId=  Bdf      paintStudentManagementGrid    3 M      #divStudentManagementGrid     R      removeStudentManagementGrid   1/      showStudentPromotionDialog    -      getBlockedDivisionListByStrengthAndSemesterId     -      previousDivisionArray     W#-      getCurrentDivisionByInstituteCourseStrengthId     4      runningDivisionjArray     `      prevSemName   z      currSemName   $      initManageStudentPromotionSourceGrid  M$      initManageStudentPromotionTargetGrid  7      showDivisionInPromotionGrid   C3       showDivisionInTargetComboxInGrid  )      #cbPromotionBatch     S      Are you sure to promote?  "      getSelectedStudentToPromot    c1(      student-promotion-management-grid-source  I      Please select division    #O      Current Class has no running division! Please check the current Class division.   7eQ      Previous Class has no blocked division! Please check the previous Class division.     \r}?"      setStudentPromotionGridTargetTitle    )      #student-promotion-management-grid-target     |:
      setCaption    *"      setStudentPromotionGridSourceTitle    K)      #student-promotion-management-grid-source     uT      closeStudentPromotionDialog   _@      gSourceSemName    &b      gTargetSemName    w      targetSemName           #cbAcademicBatch :selected    c      targetBatchName   Uq      #cbBatchId :selected  Z      sourceBatchName   (5e      #cbPromotionBatch :selected   78      #tdPromotionHeader    v#      Promotion of student from <u>Class    	      </u> to <u>Class:     yj      </u>  F      Term:     ?      , Division:   -      userBatchName     $      unblockStudentYearDownStudent     "/      unBlockedStudent.json     ,       student(s) have been allocated to division   O"      getDivisionName   w      showErrorMessage  s9      Allocation failed!    K      Select student!   #a      validateStudentUpdate     L      colName   O      response  P?      showTargetBatchDialog     cc      Class:    T      getStudentBySemesterBatchId   y      showStudentInTargetBatch  A\)
      strengthId    (5>      getBlockedDivisionListByStrengthAndSemesterId.json?strengthId=    --,      getStudentPersonalInfoById    if&      getStudentPersonalInfoByStudentId.json    cW:#
      studentId=    w      &instituteCourseStrengthId=   V      jObject   m      showStudentCurrentInfoDialog  d      #frmEditStudent   I      #studentPesonalDetailId   3      #emailIdEditCurrent         editStudentPersonalInfoById   	s      Do you want to change username?   NXa      Confirm   ~q@      #emailIdEditChanged   >	      filter    #]      ^[a-zA-Z0-9]+[a-zA-Z0-9_.-]+[a-zA-Z0-9_-]+@[a-zA-Z0-9]+[a-zA-Z0-9.-]+[a-zA-Z0-9]+.[a-z]{2,4}$           Please enter valid email id   f'      editStudentPersonalInfoByStudentId.json   	      serialize     !U      User name updated successfully    6      Email id already exist    2+      In error        sendRegsitrationMailToStudent      G      isUploadAsApplicant   _@      emailIdsArray     e?"      sendRegsitrationMailToStudent.json    >d      tr#uploadResponseRow  2;	      .response           alert-error   Eb[
      alert-info    X&      <button type="button" class="close" onclick="$('#uploadResponseRow').hide()">X</button><strong>Mail sent with some failure.</strong><br />    ~      <button type="button" class="close" onclick="$('#uploadResponseRow').hide()">X</button><strong>Mail sent Successfully</strong>    >Y      refreshManageStudentPage  @w?$      No division found for selected batch  
*      No active session found for selected batch    ?~i(      No active Class found for selected batch        checkProgramIsForSchool   Hk      startUploading    +      populateSemesterByBatchAndInstituteCourseId   (d      checkForPromotionInDepartment           hasPromotionInDepartment  :      #cbInstiCourseId option   f s      convertComboToSearchable  #3P      showStudentUploadRow  B-#      INDIRA_PUNE   n      #trUploadStudentRow   b{su      slow  #!      getStudentPersonalInfoByStudentId     C$      getStudentPersonalInfoByStudentIdnew  2(Io      oldFeeStructureId     h`=/      getStudentPersonalInfoByStudentIdFeeItemId.json   3.      &oldFeeStructureId=   ?!      showSelectedStudentInSelectedList      2+v      studentObject     '      getDivisionForStudentDivisionAllocation   .2      populateCurrentDivisionByInstituteCourseStrengthId          cbTargetBatchId   1=      resetStudentUserPassword  :F      studentName   \0#      Are you sure to reset password of:    i      resetStudentPassword.json     rr'      Password has been reset successfully!!!	   vL2F      resetRollNoOfStudentByDivision
    %3      Are you sure to blank the roll nos of all students?   h!      resetStudentRollNo.json   4w      semesterBatchId=  &;<      Error occurred while removing roll number of the students!!!  s      studentIdArray    ?e%      Please select at least one student!!!     2[3      resetStudentRollNoNewIfSemesterBatchIdNotFound.json   
      recoverDeletedStudentByDivision         Are you sure to recover?  @!      recoverStudentListByDivision.json     ?      Please select division!!!     M!      getBlockedStudentListByDepartment     &(      getBlockedStudentListByDepartmentId.json  c      instituteCourseId=    2W-      showAdmissionCancelledStudentListByDepartment     &3      getAdmissionCancelledStudentListByDepartmentId.json   C$      getYearDownStudentListByDepartmentId  )      getYearDownStudentListByDepartmentId.json     `@      getCurrentDivisionByInstituteCourseStrengthIdForTransferDivision  >F:      getDivisionListByInstituteCourseStrengthIdForTransfer.json    7      instiCourseStrengthId=    $Z8      &currentDivisionId=    _       showBreakStudentListByDepartment!  &      getBreakStudentListByDepartmentId.json"          showLeftStudentListByDepartment#   8dD%      getLeftStudentListByDepartmentId.json$     %}       showStudentSubjectAllocationPage%  YH      deptVal&   }      batchVal'  mW	      batchText(     Px      semesterVal)   ub      divisionVal*         temp1+     ;,2h      temp2,           temp3-     
      temp.  cC      empadmin/  =      fac_hodemployee.htm?action=allocateSubject&redirected=yes&dp=0           &b=1   5      &d=2   9^      _blank3    ^=      ihe_hodemployee.htm?action=allocateSubject&redirected=yes&dp=4     2R=      asd_hodemployee.htm?action=allocateSubject&redirected=yes&dp=5     5G      admissionadmin6    $C5L      regadmin7  s      getBlockedStudentListDialog8   v+      getBlockedStudentListBySemesterBatchId.json9   )mp      #unBlockStudentDialog:     #      .preview-large;    JHI      loading-large<     PW0      Server error: Please refresh the page try again.=  _ Y      showBlockedStudentListDialog>  ;      #divBlockedStudentList?    Q!      <div class="preview-large"></div>@     1
      jArrayListA           studentJArrayB     Rh      blockedStudentListC    R      <table  class="table table-bordered table-condensed" id = "tblBlockedStudentList">D    s,F      <th style="vertical-align:middle;text-align:center" width="40px"></th>E    nO      <th style="vertical-align:middle;text-align:center" width="80px;">Roll No.</th>F   hfG      <th style="vertical-align:middle;text-align:center" width="40px;"></th>G   1>L      <th style="vertical-align:middle;text-align:center" width="200px;">Name</th>H  YU      <th style="vertical-align:middle;text-align:center" width="80px;">Current Status</th>I     WAC      <th style="vertical-align:middle;text-align:center" width="*"></th>J         Un-availableK  <:      <tr id = "trStudentRow-L   |      <td width="40px;" style="vertical-align:middle;text-align:center"><input type="checkbox" class="selectedStudentStatus"></td>M  -VQ      <td width="80px;" style="vertical-align:middle;text-align:center" class="rollNo">N           <td width="40px;" style="vertical-align:middle;text-align:center" class="profilePhoto"><div class="thumbnail" style="width:"42px;heigth:42px"><img src="getStudentProfileImageById.json?id=O   po      "><div></td>P  eP      <td width="200px;" style="vertical-align:middle;font-weight:bold;" class="name">Q  b@Q      <td width="80px;" style="vertical-align:middle;text-align:center" class="status">R     E?      <td width="*" style="vertical-align:middle;text-align:center" >S   5      <div style="margin-left:10px;" class="preview"></div>T     t      <input type="button" style="margin-top:3px;" class="btn btn-mini btn-inverse btn-changestatus" onclick="changeStatusToPursuing('trStudentRow-U           ','V   F!      ')"  value="Change status">&nbsp;W     x
      <input type="button" style="margin-top:3px;" class="btn btn-mini btn-inverse btn-deletestatus"  value="Delete" onclick="deleteStudentFromBlocked('trStudentRow-X   H
      ')">&nbsp;Y    ^      </div>Z    q      #tblBlockedStudentList[    u08      <'row'<'span4'l><'span4'f>r>t<'row'<'span4'i><'span4'p>>\  *hZ      <div class="alert alert-error"><strong>No Student found in blocked state!!!</strong></div>]    5>      changeStatusToPursuing^    %      trId_  HF      .name`     q      .btn-changestatusa     K       .btn-deletestatusb     @s      .unBlockStudentResponseInfoc   ZDb      <button type="button" class="close" onclick="$('.unBlockStudentResponseInfo').hide()" >&times;</button><strong>Status of <span style="color:blue">[d   E04      ]</span> is succesfully changed to PURSUING</strong>e        deleteStudentFromBlockedf  5      <div class = "alert alert-info" style="padding:2px;">g     Hk      <p style="font-weight:bold;"><i class="icon-hand-right"></i>&nbsp;&nbsp;<u>Please note the warning:</u></p>h   Mo]      The students which have been fetched from placement registration will NOT be deleted.<br><br>j     
      deleteStudent.jsonk    R3      studentBatchId=l   >{5      responseObjm   (      ]</span> is succesfully deleted</strong>n  ;      notDeletedStudentso          notDeletedStudentArrayr    s      Name: s    _?      &nbsp;&nbsp;Reason:-&nbsp;t    ]o      <button type="button" class="close" onclick="$('.unBlockStudentResponseInfo').hide()" >&times;</button><strong>u   r	      </strong>v     "#-      getSemestersWithAcademicBatchForPromotStudentw     kG      cmbIdx     u7      getScheduledSemesterByInsticourseId.json?instiCourseId=y   Q"      <option value= '0'>Select</option>z    9      <option value='{         '>|    
$      academicBatchSemNameSylPatrnAndPatrn}  c      #semesterBatchId~  g0      Something went wrong, Please try after some time  .      requiredMessageShow   
      department    3       Please select correct department  V      getDepartmentByQualificationId    #B      srcCmbId  lL      qualificationId   8      getAllDepartmentsByQualificationId.json?qualificationId=  X$*      <option value= '0'>--- Select ---</option>    S0      departmentName    D      In Programme  Combo error     K       getQualificationForLevelOne.json  mI)
      degreeName    sc#      fetchStreamListForExamLevelOne.json   -      streamId  (|
      StreamName    8]5      checkForPromotionInDepartmentByInstituteCourseId.json     QW      COURSE_TYPE_SCHOOL    VfWF      MEGHE     Qo      #heightWeightUploadId     @      loadDepartmentalPramotion     U>      loadDepartmentalPramotion.json    !      <option value="0">Select</option>     >c^      <option deptName= "   ;      deptName  'h      " value = "   p      " name="  chK%      departmentalPromotionEligibleCourseId           " >   -RN      InstituteCourseName         #cbDepartmentPramotion    &      #cbEditDepartmentPramotion    /X      factor    .A
      FIRST_NAME    e-
      First Name    "	      LAST_NAME     A_	      Last Name     H      GENDER    y.      Gender    1      ROLL_NO   }      Roll No   }}O      PCM   	      PCM Marks     k%      SHIFT     f	      Shift     -1#      selectFactor  '^      selectedBoiler    @      #orderByList :selected    e}      display   ,      none        #selectedOrderByList  B-      append    ~Q      specializationSelectFactor    KR$      #specializationOrderByList :selected  "      #specializationSelectedOrderByList    L3      specializationRemoveFactor    `r,      #specializationSelectedOrderByList :selected  A)      #specializationOrderByList option[value="           "]          block     *N      remove    L      #specializationOrderByList    #      removeFactor  ,      #selectedOrderByList :selected    x      #orderByList option[value="   w      #orderByList         allocateDivisionsAndRollNos   H      .selectedStudent : checked    2      prefix    5      #txtPrefixDivision    vzu      #txtInitialDivision   Mct      sufix           #txtSuffixDivision    	      separator           #txtSeparatorDivision     D       allocateDivisionsAndRollNos.json        instituteCourseStrengthId=          &arrangedStudentList=     o      &prefix=  5db      &startFrom=         &sufix=   )"      &seperator=   [$      &shiftType=   }Lu      Error in division allocation  r%B      selectStudentBatchGrid    0
      isSelected    <      input.selectedStudent     ''      getSubBatchesForStudentEditBox          getSubSubjectName.json    
      BatchCapacityId=  <      checkedItemsForStudentProfile     &      initAndShowUploadExcelSheetForUserName    D      .tblUploadChangeUserName   )      .tblChangeUserName    IC
      AjaxUpload          flFileDataToChangeUserName    	      action    5$      uploadTOUpdateUserNameOfStudent.json  X	
      flFileData          EXCELSHEET_UPLOAD     p~      onSubmit  =      file  0Gi	      extension     MUe      xls   W      Uploading...  $      Only Msexcel(.xls) file is permitted  
      onComplete    (4'
      errorArray    /      Uploaded Successfully     j^Vl      Uploaded with some errors:&nbsp;&nbsp;<a href="javascript:void(0)" onclick="showUploadError()">See error</a>  K^I      showChangeUserNameForm    |C      showUploadError   q      <p style="color:red">Row No.:     fj      RowNo           &nbsp;:&nbsp;     !      </p>  Kk      Errors    t      createStudentUser     H      #studentIdSrvr    "$*      createUserOnly.json?typeOfuser=Student&Id=    N]}      reply     S      In course error   IG      addNewState   <      addNewStateBoiler     in      </div></table></div><div id="Add" class="tab-pane"></table><table class="table table-bordered table-condensed" id="addProductTypes" ></div>	   VnP       #addNewStateDiv
   >      saveNewState  iOb	      countryId     %^P      #txtstudnationality   >		      stateName     \{l      #txtAddNewState   $      saveNewStateDomicile.json?stateName=  >s      &countryId=         AllreadyExist     fm      State already exist         State added successfully  GR      Successfully added..  \'$      getStateRelNationalityCatCityCountry  7      Error in Save Product Type    HG      getOpenElectiveSubjects   z{%      electiveSubjectType   z/      getOpenElectiveSubjects.json?instituteCourseId=         &electiveSubjectType=     u      majorSpList   ~f      minorSpList   sk
      majorCount    hv       isSpecializationMappedWithStream  wSl	      subjectId            #majorOpenElectiveSubjectId!   4      #minorOpenElectiveSubjectId"   k      exportStudentsAsForeignExchange#   x      outBoundUniversityId$  |      #cmbUniName%   '      #cmbSem option:selected&   Y^      Please select university name'     r1      .foreignExStudent:checked(     f      Please select semester)    e      Do you want to continue?*  M,$      exportStudentsAsForeignExchange.json+  i`      #outBoundUniversityListModal,  b Y      background-color-        #FCB9B9.   q      .outBoundUniversityId/     Q#K      outbounduniversityid0  (      .isForeignExchangeStudent1     ~::j      isforeignexchangestudent2  J \      Successfully done3     #0"      getExportStudentsAsForeignExchange4    &d      Error!!!5  
rz	      patternId6     (      Students marked successfully as 'Foreign Exchange Students' </br>Do you want to map this students with Foreign Exchange Subjects7         getForeignExchangeSubjects.json8   )`      spID9  v$K      #foreignExchangeSubjectModal:  n      850px=     bc}      subjectWiseStudentId>  yR      <td style="align-text:center"><input class="ckhForgienExchangeSubjectName" value="?    !      " type="checkbox" ></td>@  E	      <td></td>A           <td>B  h      subjectCodeC   #C      <tr><td colspan=4 style="text-align:center">No Data Found</td></tr>D   R|      <div><input type="button" class="btn btn-mini btn-inverse" onclick="assignForeignExchangeSubjectToStudent();" value="Save"/>E  N      #viewForeignExchangeSubjectF   0      #btnFresherG   4L*
      #btnSubmitH    c%      assignForeignExchangeSubjectToStudentI     TC]      studentIdArrJ  _C      foreignExhangeSubjectIdArrK    M&      .ckhForgienExchangeSubjectName:checkedL    "      outBoundstudentSubjectMapping.jsonM    h      subjectIdArrayN    4'      getSpecializationSubjectByInstiCourseIdO   @      #parentDepartmentIdP   pR5      getOpenElectiveSubjectsByInstituteCourseDetailId.jsonQ     H      specializationSubjectIdR   =gj      instituteSpecializationS   ;^      getOutBoundUniversityListT     N:      #subjectListU        outBoundUnivAll.jsonV        700pxW     e8      DcpUniX    M	
      " id="opt_Y    a      outBoundUniNameZ   _r      #opt_[           addr\  7      Please first select student]   \      getstudentSubjectMapping^  oh      getUnallocatedStudentDialogue_     '      #subjectWiseStudentListForDeletionList2`   c~      studentIdArray1a   MS/      getStudentSubjectAndBatchAllocationDetails.jsonb   z      <option value="0" lenSize="c   !      ">Select</option>d     9      batchSemesterCapacityIde   MK7      " id="opt1_f   q:      " lenSize="g   w	      " semId="h      h@      #opt1_i    B:#      studentUniversityExamMarksAttemtIdsj   -B:      <strong>Student is not allocated for any Subjects.<strong>k          redl   T2S6      subjListm  r      <tr><td style="text-align:center;display:none;"><input type="checkbox" class="subjectBatchIdForUnallocate" value="n    =M_      ~~o    {      " subjectNameDel="p    mU      "></td><td>q   
      </td></tr>r    1$      #selectAllChksubjectWiseStudentList2s  0
      hideShowTrt    L      #txtAdmissionCancelDateTRu           #trForAdmissionCancelDocUploadv    0x      getFacultyListw    I      initFiledailyMonitoringx   .      getSynopsisDocumenty   Y      getStudentExamFormDetilsz  O`      #tryearDown{         #trTermDown|   Q.      showStudentExamDetailsMultipleStudent.json?id=}    !
      mainjArray~    ?I      exBoiler  y5!      <div class="label label-default">     7\       :    	Y9      studentFull   1WH      <table style='color:#000;' class='table table-bordered table-condensed'>  (W      <tr><th></th><th>Exam Name</th><th>Exam Form Details</th><th>Delete Exam Form</th></tr>   2      <tr class="studStatus__   	.      examStudentFormId            "><td style="text-align:center">  H	      </td><td>     M      examScheduleName  <=m      </td><td style="text-align:center"><input type="button" value="Exam Form" onclick="showStudentExamFormDetail(     j      examScheduleId    Y`      ,'    'l      ')"></i></td></tr>    [      <tr><td colspan="2" style="text-align:center">"Exam Form Details Not Available.."</td></tr>   l.       </table><br><br><br><br><br><br>  "@      deleteStudentExamFormNoReason     .      Do you want to Cancel Exam Form of student <b>    z      </b> :    6-      cancelStudentExamForm.json?examStudentFormId=     w23      &CancelReason=FromiheManageStudent&putForFinance=No   2
=      You can not cancel exam from because marks entry already done     V      Success   S(      showStudentExamFormDetail     +f.      #editStudentExamFormModal     	:D      getStudentExamFormSubjectChoiceDetailsTocheckDetails.json?studentId=  9?      &examSheduleId=   11K      regularFlag   g      backlogFlag   A2!      #tlbRegularAndBacklogEditExamForm     p       #editStudentExamFormModalDiv  ]Y      semisterList  +3      semisterIdList    b?      studentSemisterList         studentSemisterIdList     V
e      examFormFeeArray  pp1      showEditBtnForExamAdmin   2      boilerRegularSubject  c+^      DES   # "      <th>ESSCA</th>          </tr></thead><tbody>  oq
      boilerBacklogSubject        cnt1  .Y      subjectStatus     ^      Current   (R      detainedStatus    M>VB      <td style="text-align:center"><input type="checkbox" id="detained_          optedId   93      " checked="checked" onclick="checkUnfairMeanStatus(   Q      )" class="detainedCls"></td>        " class="detainedCls"></td>   5      eSSCAStatus   <?      <td style="text-align:center"><input type="checkbox" id="eSSCA_   0E+      " checked="checked"  class="esscaCls"></td>   :J@      <td style="text-align:center"><input type="checkbox" id="eESSCA_        " class="esscaCls"></td>  BR      midtermStatus           <b>[MidTerm]</b></td></tr>    Xx	      boilerFee     '>      isPayNowButton    qi	      payStatus     f      totalAmount   Ng      regularAmount     l:      <tr><td>Regular Subject</td><td><span style="float:right">    8#      </span></td></tr>           backlogAmount     @C9      <tr><td>Makeup Subject</td><td><span style="float:right">     XI(      capFee    D2      <tr><td>Cap Fee</td><td><span style="float:right">    e      formFee   fL63      <tr><td>Form Fee</td><td><span style="float:right">   hX      internalExamFee   d><      <tr><td>Internal Exam Fee</td><td><span style="float:right">  7      practicalFee  2H8      <tr><td>Practical Fee</td><td><span style="float:right">   )x      lateFee   ux3      <tr><td>Late Fee</td><td><span style="float:right">   w
      projectFee    *P=6      <tr><td>Project Fee</td><td><span style="float:right">    &      passingCertificate    g>      <tr><td>Passing Certificate</td><td><span style="float:right">    m]      statementofMarksFee   (9A      <tr><td>Statement of Marks Fee</td><td><span style="float:right">     ~|      otherFee  ?4      <tr><td>Other Fee</td><td><span style="float:right">  H      departmentFee     >8      <tr><td>Programme Fee</td><td><span style="float:right">  
      specialFee    e:      <tr><td>Super Late Fees</td><td><span style="float:right">    z1vp      improvementGrades     <=      <tr><td>Improvement Grades</td><td><span style="float:right">     e#      examinationFee    ~:      <tr><td>Examination Fee</td><td><span style="float:right">    KO      <tr><td><b>Total Examination Fee(Rs.)</b></td><td><span style="float:right"><b>   )b      #examFeeStructDiv     GELQ      <center><span style="font-size:12px"> Exam Structure Not Defined </span></center>           printExamFormBoiler   i      #cmbMainExamSchedule :selected     t
      motherName    B2	      contactNo     w      domain    S
      Institute-    ',6      populateEmployeeListForSubjectAllocation2.json?domain=    y      &postTypes=-1     Y      contentType	   V      application/json; charset=utf-8
   J{]e       <option value="">Select</option>  &      #cmbMentorName    F      Name  	      #cbApprovedStatus     W      #cmbSemDel2 option:selected   /      semid     4m$	      lenOfTerm     X      lenSize   .6)      leftOrBreakManageStudent.json?studentIds=     6I      &reason=  !      &status=  ';/      &employeeId=  #_      &batchSemesterCapacityIdTerm=     g      &lenOfTerm=         txt         Error! Please try again later     _6      Save Successfully.    'M]      These subjects are not allowed for deletion because result is finalized for these subjects. :     ^      exportStudentsAsDCP   g      #cmbDCPUniName    knR      .DCPExStudent:checked           exportStudentsAsDCP.json   }      #DCPUniversityListModal!   W      #FFFFCC"   e      DCPExStudent#  &      .isDCPStudent$     5Kn      isDCPStudent%  =      getExportStudentsAsDCP&    .M      getDCPUniversitylist'  )4'      #subjectWiseStudentListForDeletionList3(   	      #subjectLis   tDCP)   ?X      msg*   |      Students marked successfully as 'Step Programme Students' </br>Do you want to map this students with Step Programme Subjects+  >2f      Students marked successfully as 'DCP Students' </br>Do you want to map this students with DCP Subjects,    [      getDCPSubjects.json-   rV       markAsStepProgramme.   !pF      studentIdArrayList/    7D8      setStepProgrammeStudent.json0  %      Student mark suceessfully1     T+      removeAsStepProgramme2           removeStepProgrammeStudent.json3   (>      Student remove suceessfully4   VV*      downloadMapStreamAndSpecializationTemplate5    B[B      downloadMapStreamAndSpecializationTemplate.json?instituteCourseId=6    ;['      initMapStreamAndSpecialization7    mo      studentUploadBar8   =L%      uploadMapStreamAndSpecialization.json9     Cl      fileData:  g%      Only Ms excel(.xls) file is permitted;     P      startMapStreamAndSpecialization<   1      array=     H      <div class="alert alert-success"><button type="button" class="close" data-dismiss="alert">X</button><i class = "icon-ok"></i>&nbsp;&nbsp;File has been uploaded successfully. Click here to<a href = "javascript:void(0)" onclick = "undoQuestionnairUpload('>     G      ')"> <span class="help-inline"><b>UNDO</b></span></a> this action</div>?   H7	      errorList@     5?v      <div class="alert alert-error"><button type="button" class="close" data-dismiss="alert">X</button>Uploading failed<br>A    mF      .</div>B   8      toFixedC   7*:      .fileSizeAllowedD  	5      #studentUploadBarE     ~>
      getInBoundF    S0      inBoundByStuentId.jsonG    L:      showStudentListByCourseSemeserAndDivisionForBranchTransferH    '|l/      showStudentListInGridForStudentBranchTransferffR   
      CHANAKYAS  .!      <th style="">PC no</th>V   b      <th>Application No.</th>W  @^      <th>Group Name</th>Y   9      countsZ    (e:      admissTypeArr[     eUc6      catArr\    w      studentUniqueNumber]   1z	      groupName^     
      DCPExStyle_    x*!      style="background-color:#FFFFCC;"`     G
      DCPExClassa    S>      cBatchb           stepProgrammec     RE!      style="background-color:#e6e6ff;"d     4-      clstoPromotee  D	      freezedByf           freezedStatusg     !      style="background-color:#dcedc7;"h     
m      admissiontypei     G      admissiontypeCategoriesj   `A      <tr admissiontype="k   )      " category="l  i1      " id="studentRow-m     `'      " n    0	      </th><th>o     X4      RCOEMp     .      <input type="checkbox" class="selectedStudent q    C,      " id="r    b15      <i class="fa fa-ban"></i></th>s    -Y4      isPromotionalStudentt  [!      <td class="studentUniqueNumber" >x     0x      " stud="y  CxG?      IMTApplicationNoz  R+8      <td class="groupName">{    1      <td class="atktCount" style="text-align:center;">|     nNL	      atktCount~     B      " style="display:none">   0y      studentOutBoundMapId  c       style="display:none">    	      isDualSpecialization  r       #fildofcolor  O.      bindFilterTobindDrop  F      typeCategoryDrop  U      admissionTypeDrop     4      #curryearid   h      invoiceFromYear   ~I      invoiceToYear     DS      #nextyearId   pQ      input[value='Transfer']   L.      _fromYr   2Q      _toyear   |i      input[value='Promotion']  V      .rollNo   S[      .studentUniqueNumber  
      .firstName    KP      .middleName   &k	      .lastName     \      .gender         .phoneNo        subbatch  U	      .subbatch           speli     s      .speli    1`m      .deptPromotionId  t      .parentInstituteCourseId  [      .admissionDate    ]      .majorOpenElectiveSubjectId   W      .minorOpenElectiveSubjectId   `3f\      showStudentEditRecordDialog   r      .studentRow         dblclick  '9      .studentoption          unbind    ]S^      option-changestatus   #      Please select at least one student.   0      option-addstudent     gIs)      <option value="0">--- Select ---</option>     !T      openAddStudentDialog        option-deletestudent        deleteStudent     U      option-unblockstudent     8Z      option-allocatedivision   !SS      studentBatchIdArray   \)      populateAcademicSessionByCourseStrengthId     E      cbTargetAcademicSession   }      #cbTargetAcademicSession  l6(      #cbTargetAcademicSession option:selected  8      No more division found for transfer in selected Class!!!  >$      userSemesterName        </b></span>
							   <hr style="border-bottom: 1px solid #b6b6b675;margin-top: 3px;border-bottom: 1px solid var(--juno-green)">  p      .exportStatus           stud  T(1      fresherStatus           Export    bpB      Student Already Exported<br>first Remove it,then allocate Division    d0$      No running academic session found!!!  .$U      .divStudentListGridInfo1  dd      <div style="color:green">Note: You are just assigning the fresher student to selected division</div>  Eux      <div style="color:green">Note: This utility can be used for transfering student(s) from to one division to another</div>  6?      option-changedept     -cu#      showStudentDepartmentTransferDialog   Xg[      Export student can't transfer the Department<br>Please unselect the export student checkbox   5	      Please select student!!!  U      ;error    m      option-importStudent  *R      showImportStudentDialog         option-promot     Aq'x      </b></span>
		<hr style="border-bottom: 1px solid #b6b6b675;margin-top: 3px;border-bottom: 1px solid var(--juno-green)">  Ex      btnGenerateStudentUniqueNo    4,      Are you sure? you want to generate Unique ID  ^/      generateStudentUniqueNoForSelectedStudents.json   ,K      getCustomAlertMessage           alert_error   p.      downloadChangeRollNoTemplate        typeFlag  {7      downloadChangeRollNoTemplateNew.json?instituteCourseId=   M
      &typeFlag=    HW<+       downloadSetAdmissionDateTemplate  ';      downloadSetAdmissionDateTemplateNew.json?instituteCourseId=   x[#      downloadParentLoginCreationTemplate   dzI      downloadChangeEmailIdTemplateforparentLoginUpload.json?instituteCourseId=     C	      uploadParentLoginCreation     .      uploadparentlogin     ,      uploadChangeEmailIdforparentLoginUpload.json  )      fileDataparentlogin   + i      xlsx  n      setData   X@	      ErrorList     L	      ErrorName     5      Successfully Uploaded     wp      #uploadparentlogin    s      downloadChangeEmailIdTemplate           EmailId   /      uploadAdmissionDate   t      uploadChangeAdmissionDate     N"      uploadstudentAdmissionDateNew.json    hJQ      uploadAndSaveChangeRollno     l      uploadChangeRollno    "      uploadChangeRollNoTemplateNew.json          fileDataChageRollNo   )      uploadAndSaveChangeEmailId    l      uploadChangeEmailId   Uw#      uploadChangeEmailIdTemplateNew.json   N      fileDataChangeEmail   1      showFresherStudentInStudentGridForTransferStudent     >'E.      showShiftsByInstituteStrengthForStudentTranser    G!      showFresherStudentByBatchTransfer           setJoiningDateOfStudent   B$      setJoiningDateOfStudentsByBatch.json  ej!      Please select section/batch...!!!     aD!      setJoiningDateOfStudentForFresher     ='      setJoiningDateOfStudentsforFresher.json   'U      Please select batch...!!!           downloadOrderNoTemplate   n'2      downloadOrderNoTemplateNew.json?instituteCourseId=    n      uploadOrderNo1    `      courseNameOnly    u      coursenameonly    rj
      CourseType          #allocateToEmpOppsd   ;G      uploadorderNo      /!      uploadOrderNumberTemplateNew.json           fileDataOrderNo    a      html2     yp      #cmbSem   5z
      #cmbDCPSem    w      " id="opt2_         #opt2_    3      getstudentAttendingSubjectList    pA      foreignExchange	   -      #cmbDCPSem option:selected    
&      valNew    *)      subName   vx      <td><i id="" class="icon-trash removeAc" title="Delete" onclick="deleteStudentSubjectAllocationOfForeignExchangeStudent(  X$%      ')" style="cursor:pointer;"></i></td>     6      <td class="subjectwiseStudentId" style="display:none">    y	:      <td><b>Can not delete subject. Modaration is done</b></td>    +N      <tr><td colspan="3" style="text-align:center;">Data not found !!!!!!</td></tr>    qT6      deleteStudentSubjectAllocationOfForeignExchangeStudent    ~      subjectwiseStudentId  ;      deleteStudentSubjectAllocationOfForeignExchangeStudent.json         alert_delete  F      hideselectedRows  [      .subjectwiseStudentId     -Y]
      arrangeSno    O      #tblStudentList tr    eh      .SrNoCls  #f      getMarkAs1Plus1StudentList    8      #txtSemesterName   Q      #tblStudentList!   ^      #markAs1Plus1StudentModel"     X.      #cmbOutBoundYniName#   z       getStudentSemesterAttendanceList$  `9      getStudentSubjectAndBatchAllocationDetailsForOnePlus.json%     !      #cmbSemName&   "      <option value="-1">Select</option>'          .subjectNameId(    7      chosen)    ~ep      no_results_text*          Oops, nothing found!,  }=      200px-     i'      .chzn-results.           height/    .\,      680px0     _D      .chzn-search1  G[      input[type="text"]2          25px3  )vN      #subjectNameId4    H      liszt:updated5     ,"      getMarksAsOnePlusOneStudentDetails6    z      #cmbSemName option:selected7   L      #subjectList18     /1      idArray9         idArray1:  ^      contains;  0Z!      exportMarksAs1Plus1StudentDetails<     #n
      semesterBatchArray=    3A'*      exportStudentsMarkAsOnePlusOneDetails.json>          alert_create?  af$      getTermDownStudentListByDepartmentId@  %u1      getYearDownTermDownStudentListByDepartmentId.jsonA     W      #divForDesSchoolButtonsB   \H      #unfrozenProfileC  U      #stuntEvalMappingD     Il      convertToStudentFunctionE  X6      studentIdlistF     dA      Please Select Student!!!G  R)      convertApplicentToStudent.jsonH    7I      allocateBranchI    SD      #allocateBatchModalL   &i      #allocateBatchModalDataDivM    dD       programListByRoleForAnnouncementN        boiler1O   :      " courseId = "P    g      " couseType = "Q   )+	      couseTypeR           " subCourseType="S     ,      subCourseTypeT           " isGenerateRandomNumber="U    _1      isGenerateRandomNumberV    Y      " courseNameOnly="W     
      courseNameX    n[      #branchNameListY   o,      Please Select Student !!!Z     	      changeBranch[        branchId\  +      Please Select Branch !!!]  )W      Are you sure to change branch?^    */      saveParentInstituteCourseIdForChangeBranch.json_   Q8      studentInsCourseSemBatchDetail`    o      gettermandsubForcoma   e       studentIdEmpArrb   TB      #divStudentCompartmentc    _      900pxd            - Evaluation Parameter Mappinge   E}      #divStudentCompartmentHeaderf  "
      doupBoilerm    r?%      #dropdownforSubcompartn          getStudentCompartmento     )      Please select only one student.p         studentdq  i      #studentCompartmentDivIdr  z8      subjectArrayss     c|      schemaArrayst  `[      universeTypeArraysu    3      studSubBatchArrayv     $      disabledevalIdsw   */3      tremtypex   i&(      input[name='subjectCompareTerm']:checkedy  U`-      getStudentCurrentSubjectAndParameterList.jsonz     U	      subjecta{  =      jarrayEvaluationDe|          subjectwiseBatchObject}          universeTypeArray~     vs+
      scheemarry    q"A      <option value="0">Select</option><option value="All">All</option>     R      #studSubjectCompartid     .R4      footerboiler  Gm      <input type="button" class="btn btn-inverse btn-mini  " value="Save"		id="" onclick="saveStudentCompartment('     y<J      #divStudentCompartmentFooter  .      subId     &      #studSubjectCompartid  option:selected    	      boilerTbl     
      All   E_      <div><b color:red>Click on 'No' button in order to remove student evalution parameter</b></div>   &/#      <div class="alert alert-info " ><b>         (     NTf      evalutionUsniverseName    6       )</b></div><br>        evaluationSchemaId    nV      subStudAndEvalid  v      evalSchemaId  `)      NOT_NOT   u}      studentsubId  `E      evalSchemaNaId    4      employeeNameSdate           facultyStatus     y/      <tr class="studEvaluationcls" idforevalschema="   1      " subjectIda="    [       "><td style="text-align:right;">  _.      evalSchemaName    ,>F1      <td><input type="radio" name="subjectapperingstud     b
      " id="yes_    R      "   value="yes_   k      markingsysyId     V
      "  id="no_          "  value="no_     qAu      "  value="yes_     -	      " id="no_     <S      "   value="no_    
\      #no_  r$      #yes_     *      saveStudentCompartment    "      saveStudComIds    0>      .studEvaluationcls    J      idforevalschema   L9F	      subjectid     ,/
      subjectIda    .      paramIds        input[name='subjectapperingstud   Ff
      ']:checked    	      parameOne     k	      parameTwo     Y.      parameThree   -f      subjectwiseStudId     0o5a      Once you submit the student Evalution Parameter Mapping can not edit.<br>Do you want to continue?     VT+'      saveStudentCompartmentEvaluationNa.json   gH      successfully save     Z
      Please Select Programme!!!    >      fetchSpecializationByInstituteCourseId.json?instituteCourseId=          qualificationSpecializationId     V;>      qualificationSpecializationName   lG      updateStudentMinBillDateAsAdmissionDate.json?instituteCourseStrengthId=   W(T&      update min Bill Date as Admission Date    B/      downloadChangeEmailIdTemplateUsingApplicationNo   } G      downloadChangeEmailIdTemplateUsingApplicationNo.json?instituteCourseId=   k,      uploadAndSaveChangeEmailIdUsingApplicationNo  ev%      uploadChangeEmailIdUsingApplicationNo     3k}2      uploadChangeEmailIdTemplateUsingApplicationNo.json    W%      fileDataChangeEmailUsingApplicationNo     yKNS&      #uploadChangeEmailIdUsingApplicationNo    \      uploadDailyMonitoringFile     0-      setAdmissionCancelledUploaded.json?studentId=     Q8z      getUploadedSynopsisDocument         showSynopsisDocument  H-      getAdmissionCancelledUploaded.json?studentId=     %      attachementBoiler     k      attachmentFileName    OMM
      documentId    3s>      fileType  VE      iconPath  ]      gFileTypeIconMapping  zV      <div align="center"><img src="    @      " />&nbsp;&nbsp;&nbsp;&nbsp;<a href = "downloadWithPath.json?id=        &n=   @RB      &t=   eO      </a>&nbsp;&nbsp;&nbsp;          <img class="trHideShow" style = "cursor:pointer" title = "remove" src = "img/remove-icon.png" onclick = "RemoveDocumentFromCloud('    ;      ')" />    _!q      No docs attached        #dailyMonitoringFileDiv   G[,      RemoveDocumentFromCloud   R,1      removeAdmissionCancelledUploaded.json?documentId=     La      downloadUtrNoTemplate     7-      downloadUtrNoTemplate.json?instituteCourseId=     O+_      uploadAndSaveUTRNo    TS      uploadUtrNo   o      uploadUtrNoTemplateNew.json   0T-      fileDataUpdateUtrNo   L:      #uploadUtrNo  5(
      selectStud    v^      studData  k      <table class = "table table-bordered table-condensed"><thead><th>Sr No.</th><th>Student Name</th><th>Email Id</th></thead></tbody>    bV      Obj   E#      <tr><td style="text-align: right;">   d      #selectedStudentData  M(      downloadZip   3      programName         acdamicbatch        sectionName   	.t      studentApplicant  W:b      admissionregisterdFlag    o      applicantid   !!      .selectedStudent:visible  (      windowOpenWithPostData    .c9&      restApi/downloadZipOfApplicantForm.zip    |D`E      downloadAbcIDTemplate     ^      AbcID     b-      downloadAbcIDTemplate.json?instituteCourseId=     k      uploadAndSaveAbcID    `      uploadAbcID   !      uploadChangeAbcIDTemplateNew.json     &#      fileDataChageAbcID    [
      resetCombo    =&      sendEmailtoSelectedStudentsInAPIForGCU    d      studentIdsArray    ~-*      Please select at least one applicant...!!!    u8"      sendEmailtoStudentInAPIForGCU.json    <      Successfully Sent Mail    .	      Error...!     Hj      resetStudentParentPassword    R8      parentResetList   @      .resetCheckbox:checked    *
      parentType    H      Both	  D)*      resetStudentParentPassword.json?studentId=
          &parentType=  1      dosaconfigBIT     G	      CheckDosa     ~      downloadHeightWeightTemplate  4      downloadHeightWeightTemplate.json?instituteCourseId=  t`}      uploadAndSaveHeightWeight     |l      uploadHeightWeight    #      uploadAndSaveHeightWeight.json    RzJ      fileDataChageHeightWeight     X      downloadAayushIDTemplate        AayushID  *Rn0      downloadAayushIDTemplate.json?instituteCourseId=  zU      uploadAndSaveAayushID     9      uploadAayushID    #j$      uploadChangeAayushIDTemplateNew.json        fileDataChageAayushID     '      getSortDataWithFilterBYType   |      catvalue        #typeCategoryDrop           admtypevalue  uu      #admissionTypeDrop    z      #pro1 tbody tr     %N      row!         category"  6d       <option value="All">All</option>#        selectAllCatgoryWise$        #selectAllCat%     (      toAllocateSectionAccordingToPreviousTerm&  ;      Are you sure to allocate section according to previous term'   F*      allocationToOrginalBatchFromPastBatch.json(    [      Successfully Allocated.)   Q&      downloadAntiRaggingReferenceIDTemplate*    ~      AntiRaggingReferenceID+    Q?>      downloadAntiRaggingReferenceIDTemplate.json?instituteCourseId=,    V#      uploadAndSaveAntiRaggingReferenceID-   h      uploadAntiRaggingReferenceID.  C|i2      uploadChangeAntiRaggingReferenceIDTemplateNew.json/    o(#      fileDataChageAntiRaggingReferenceID0   }	      -1:Select1     q      <div style='border:thin'><p class='alert alert-danger'  style='font-size:14px'>Students Converted to Alumni</p></div><table id='BlankId' class='table table-bordered table-condensed'><tr><th>Sr.No.</th><th>Roll No.</th><th>Remark</th></tr>2    ,      </table><div style='border:thin'><p class='alert alert-danger'  style='font-size:14px'>Students Not Converted to Alumni</p></div><table id='BlankId' class='table table-bordered table-condensed'><tr><th>Sr.No.</th><th>Roll No.</th><th>Remark</th></tr>3    e      <table class="table table-bordered table-condensed tblManageStudentGrid" id="pro"><thead><tr id="studentRow"><th>Sr.No.</th><th></th><th style="display:none"></th><th style="display:none"></th><th>4     R      </th><th style="display:none"></th><th style="display:none"></th><th style="display:none"></th><th width="20%" style="">Name</th><th style="">Email Id</th><th style="">Gender</th><th style="">Phone No.</th><th style="5     "9a      ">Batch</th><th style="6   SR      ">PCM marks</th><th style="7   8B"      ">Specialization</th><th style="">8    dr      </th><th style="display:none"></th><th style="display:none"></th><th style="">Section Joining Date</th><th style="9    dH5      ">Export Status</th><th>Edit</th></tr></thead><tbody>:     ZP      </td><td class="profilePhoto"><img class="pointer" height="35px" id="studentImg-;  V9      "></td><td class="hdnStudentIdClnt" style="display:none"><     	<      </td><td class="hdnStudentBatchIdClnt" style="display:none">=  >      </td><td class="rollNo" >>     g0      </td><td class="firstName" style="display:none">?  2<1      </td><td class="middleName" style="display:none">@     &/      </td><td class="lastName" style="display:none">A   `5!      </td><td class="gender" style="">B     m"      </td><td class="phoneNo" style="">C    - [!      </td><td class="subbatch" style="D     1E+Y2      </td><td class="pcmMarks" style="text-align:right;E    qeM      </td><td class="speli" style="F    &F-      </td><td class="parentDepartmentId" style="">G     L6      </td><td class="deptPromotionId" style="display:none">H    ^>      </td><td class="parentInstituteCourseId" style="display:none">I    wXzs(      </td><td class="admissionDate" style="">J  9      </td><td style="display:none" class="exportStatus" stud="K     rW.D      </td><td><a href="javascript:void(0)" class="editStudent" studentid=L  Ks       title="Edit Record"><i class="icon-edit"></i></a></td><td class="majorOpenElectiveSubjectId" style="display:none">M   rA      </td><td class="minorOpenElectiveSubjectId" style="display:none">N     2.       Male</th></tr><tr><th>Prefix</th><th>Starting Roll No</th><th>Suffix</th></tr><tr><td><input style="width:60px" type="text" id = "txtRolePrefixMaleO  PqI      "></td><td><input style="width:60px" type="text" id = "txtRoleInitialMaleP      H      "></td><td><input style="width:60px" type="text" id = "txtRoleSuffixMaleQ  C($      "></td></tr><tr><th colspan="3">For R  xo       Female</th></tr><tr><th>Prefix</th><th>Starting Roll No</th><th>Suffix</th></tr><tr><td><input style="width:60px" type="text" id = "txtRolePrefixFemaleS  AK      "></td><td><input style="width:60px" type="text" id = "txtRoleInitialFemaleT   jd!J      "></td><td><input style="width:60px" type="text" id = "txtRoleSuffixFemaleU          <div><table class="table table-bordered table-condensed"><tr><th>Specialization</th><td colspan="2"><select id="specializationTypeId">V    	pKY      </select></td></tr><tr><th colspan="3">For Male</th></tr><tr><th>Prefix</th><th>Starting W     UvR     </th><th>Suffix</th></tr><tr><td><input style="width:60px" id="txtRolePrefixMaleSpecial" type="text"></td><td><input style="width:60px" id="txtRoleInitialMaleSpecial" type="text"></td><td><input style="width:60px" id="txtRoleSuffixMaleSpecial" type="text"></td></tr><tr><th colspan="3">For Female</th></tr><tr><th>Prefix</th><th>Starting X    US     </th><th>Suffix</th></tr><tr><td><input style="width:60px" id="txtRolePrefixFemaleSpecial" type="text"></td><td><input style="width:60px" id="txtRoleInitialFemaleSpecial" type="text"></td><td><input style="width:60px" id="txtRoleSuffixFemaleSpecial" type="text"></td></tr><tr><th colspan="3">Other</th></tr><tr><th>Prefix</th><th>Starting Y   !OQX     </th><th>Suffix</th></tr><tr><td><input style="width:60px" id="txtRolePrefixOtherSpecial" type="text"></td><td><input style="width:60px" id="txtRoleInitialOtherSpecial" type="text"></td><td><input style="width:60px" id="txtRoleSuffixOtherSpecial" type="text"></td></tr></table></div></br><div class="modal-header"><h3>Arrange student</h3></div>Z  2u     <table class = "smalltable"><tbody><tr><th colspan="2" style = "text-align: left">Arrange by:</th></tr><tr><td><select id="specializationOrderByList" class="skipChoosen" ondblclick="specializationSelectFactor()" size="6"><option value="FIRST_NAME">First Name</option><option value="LAST_NAME">Last Name</option><option value="GENDER">Gender</option><option value="ROLL_NO">[          </option></select></td><td><select id="specializationSelectedOrderByList" ondblclick="specializationRemoveFactor()" size="6"></select></td></tr><tr><th colspan="2" style = "text-align: left">Which one would you like to be first in student name?</th></tr><tr><td><input id = "specializationChkStudentNamingOrderFirstName" type = "checkbox" name = "suchkStudentNamingOrder" value = "1" onclick = "sUnSelectAllNamingOrderParameter('specializationChkStudentNamingOrderFirstName')"></td><td>First name</td></tr><tr><td><input id = "specializationChkStudentNamingOrderLastname" type = "checkbox" name = "suchkStudentNamingOrder" value = "3" onclick = "sUnSelectAllNamingOrderParameter('specializationChkStudentNamingOrderLastname')"></td><td>Last name</td></tr><tr><td colspan="2"><input type="button" class="btn btn-inverse btn-mini" value="Ok" onclick="getspecializationFormattedStudentList()" style="float:right"></td></tr></tbody></table>\  (=      ><td>-</th><th><input type="checkbox" class="selectedStudent ]     _*^T      ')"></th><td class="profilePhoto"><img class="pointer" height="35px" id="studentImg-^  B9      "></th><td class="hdnStudentIdClnt" style="display:none">_     [;      </td><td class="name" width="20%" style="font-size:11.5px">`   lO	       </td><td class="email" style="">a  X%#      </td><td class="subbatch" style="">b   N_l3      </td><td class="pcmMarks" style="text-align:right">c   )       </td><td class="speli" style="">d  .9      </td><td class="parentDepartmentId" style="display:none">e     @u      </td><td><a href="javascript:void(0)" class="editStudent" title="Edit Record"><i class="icon-edit"></i></a></td></tr>f     BW      <table id="student-management-grid"></table><div id="student-management-toolbar"></div>g   *      <table class = "table table-bordered table-condensed" style="margin-top:-10px;width:100%" ><tbody><tr><th width="20%">Source batch/division&nbsp;(h    n       )</th><td width="30%"><select class="" title = "Select Division/Batch to promote" id = "cbPromotionBatch" onchange = "showStudentInSourceBatch()"><option value = "0">Select</option></select></td><th width="20%">Target batch/division&nbsp;(i   ?K     )</th><td width="30%"><select class="" title = "Select Division/Batch to promote" id = "cbBatchId" onchange = "showStudentInTargetBatch()"><option value = "0">Select</option></select></td></tr></tbody></table><table class="table table-bordered table-condensed" style="margin-top:0px;height:320px"></tbody><tr><td width = "45%">	<table id="student-promotion-management-grid-source"></table><div id="student-promotion-management-toolbar-source"></div></td><td width = "10%" style = "text-align:center"><input type = "button" class = "btn btn-inverse btn-mini btnPromoteStudent" value = "Promot" /><img  src="img/ajax-loader-moving.gif" class="loaderimg" style="display:none"></td><td width = "45%"><table id="student-promotion-management-grid-target"></table><div id="student-promotion-management-toolbar-target"></div></td></tr></tbody></table>j         <div class = "alert alert-info" style="padding:2px;"><p style="font-weight:bold;"><i class="icon-hand-right"></i>&nbsp;&nbsp;<u>Please note the warning:</u></p>The students which have been fetched from placement registration will NOT be deleted.<br><br><b>Are you sure to delete<b>?</div>k  `^      Deletion failed!!! Following student(s) could be deleted due to specified reasons:- <br>Roll: l    (]     < d i v   c l a s s = " m o d a l - h e a d e r " > < b u t t o n   t y p e = " b u t t o n "   c l a s s = " c l o s e "   d a t a - d i s m i s s = " m o d a l " >   < / b u t t o n > < h 3 > A d d   N e w   S t a t e < / h 3 > < / d i v > < d i v   c l a s s = " m o d a l - b o d y "   a l i g n = " c e n t e r "   > < u l   i d = " m y T a b "   c l a s s = " n a v   n a v - t a b s " > < d i v   i d = " m y T a b C o n t e n t "   c l a s s = " t a b - c o n t e n t " > < t a b l e   c l a s s = " t a b l e   t a b l e - i n f o " > < t r > < t d > < l a b e l > S t a t e   N a m e : < / l a b e l > < / t d > < t d > < i n p u t   t y p e = " t e x t "   i d = " t x t A d d N e w S t a t e " / > < / t d > < / t r > < t r > < t d   c o l s p a n = " 2 " > < c e n t e r > < a   c l a s s = " b t n   b t n - i n v e r s e   b t n - m i n i "   h r e f = " # "   o n c l i c k = " s a v e N e w S t a t e ( ) " > S a v e < / a > < a   c l a s s = " b t n   b t n - i n v e r s e   b t n - m i n i "   d a t a - d i s m i s s = " m o d a l "   h r e f = " # " > C l o s e < / a > & n b s p ; & n b s p ; & n b s p ; < / c e n t e r > < / t d > < / t r > < t r > < b r > < / t r > < / t a b l e > m    	n3      </table><table class="table table-bordered"><thead><tr><th></th><th>Course Code</th><th>Course Name</th><th></th><th>Course Code</th><th>Course Name</th></tr></thead>n    ,     <b> Do you want to cancel student current Year result?</b><input type="radio" name="studentSubjectCancelId"  value="yes" id="idstudentSubjectCancelyes" > Yes </input><input type="radio"  name="studentSubjectCancelId" value="no" id="idstudentSubjectCancelno" checked="checked"> No &nbsp;&nbsp;&nbsp;</input><br><div class='modal-header' style='padding:5px'><h3 id='' class='studentName' style='color:#6A7480'><img src='img/leave.png' alt=''> Exam Details</h3></div><div class='slimScrollDiv' style='position: relative; overflow: hidden; width: 100%; height: 1000px;'><div class='modal-body studentdashboard' style='padding: 0px; overflow: hidden; width: 100%; height: 1000px; max-height: 900px; min-height: 2%;'>o   O1      )" class="btn btn-danger btn-mini btnColorBlack" ></td><td style="text-align:center;"><i class="icon icon-remove" title="Cancel Admission" onclick="deleteStudentExamFormNoReason(p    t-      <table class="table table-bordered"><thead><tr><th colspan="6">Regular Subject</th></tr><tr><th>Sr.No</th><th>Term</th><th>Course Code</th><th>Course Name</th><th>Detained</th>q  (      <table class="table table-bordered"><thead><tr><th colspan="4">Backlog Subject</th></tr><tr><th>Sr.No</th><th>Term</th><th>Course Code</th><th>Course Name</th></tr></thead><tbody>r   x      <table class="table table-bordered"><thead><tr><th colspan="2">Exam Fee</th></tr><tr><th>Contains</th><th>Amount(In Rs.)</th></tr></thead><tbody>s     |,\      </b></span></td></tr><tr><td>Receipt No.</td><td></td></tr><tr><td>Date :</td><td></td></tr>t  $Vo      <tr><td colspan="2" style="text-align:center;" ><div id="examPayNowBtn" style="display:none;" ></div></td></tr>u   #      <br><table class="table table-bordered" ><tr><td colspan="2" ><table class="table table-bordered" ><tr><td style="width:10%" rowspan="4" ><div class="thumbnail"><img  height="80" width="80" src="getApplStudentProfileImage.json?type=profile&studentId=v    	^      "></img></div></td></tr><tr><td colspan="2" ><b>Name of Examination:</b></td><td colspan="2" >w    /</      </td></tr><tr><td><b>Student Name:</b></td><td>x   v4=%      </td><td><b>Mother Name:</b></td><td>y     ;qE-      </td></tr><tr><td><b>Contact No:</b></td><td>z     R]       </td><td><b>Gender:</b></td><td>{        </td></tr></table></td></tr>|  LTE     <fieldset id="fildofcolor" style="border: 1px solid gray;padding: 5px;margin-top: 10px;display:none">  <legend style="width: auto;font-weight: bold;padding: 2px;">Colour Indicators</legend><span class="label" style="background-color:#dcedc7;color:#000"><i class="fa fa-hand-o-right"></i>This color indicate freezed. </span><span class="label" style="color:#000"><i class="fa fa-ban"></i>  Indicate not freezed. </span><span class="label" style="background-color:#d8a38e;color:#000"><i class="fa fa-hand-o-right"></i> Can not allow promotional student to transfer </span></fieldset>}     uW     <div><table class="table table-bordered"><th>Category:<br><span float:left><select id="typeCategoryDrop" onchange="getSortDataWithFilterBYType()"></select></th><th>Admission Type:<br><span float:left><select id="admissionTypeDrop" onchange="getSortDataWithFilterBYType()"></select></th></tr></table></div><br/><table class="table table-bordered table-condensed tblManageStudentGrid" id="pro1"><thead><tr id="studentRow"><th>Sr.No.</th><th><input type="checkbox" id="selectAllCat" onclick="selectAllCatgoryWise()"></input></th><th></th><th style="display:none"></th><th style="display:none"></th><th>~   Du_      </th><th style="display:none"></th><th style="display:none"></th><th style="display:none"></th>   =      <th width="20%" style="">Name</th><th style="">Email Id</th><th style="">Gender</th><th style="">Phone No.</th><th style="">Admission Type</th><th style="">Admission Type Categories</th><th style="     +     <th>STUDENT LIVE ATKT</th><th>Edit</th><th style="display:none"></th><th style="display:none"></th><th style="display:none"></th><th style="display:none"></th><th style="display:none"></th><th style="display:none"></th><th style="display:none"></th><th style="display:none"></th></tr></thead><tbody>   })      </td><td class="admissiontype" style="" >     ?T3      </td><td class="admissiontypeCategories" style="" >   U%      </td><td class="exportStatus" style="     pP      </td><td><a href="javascript:void(0)" class="editStudent" title="Edit Record"><i class="icon-edit"></i></a></td><td class="majorOpenElectiveSubjectId" style="display:none">  b9Z&      </td><td class="studentId" studentId="    D      </td><td class="isForeignExchangeStudent" isForeignExchangeStudent="  a6<      </td><td class="outBoundUniversityId" outBoundUniversityId="  f<8      </td><td class="studentOutBoundMapId" studentOutboundId=  ;      </td><td class="isDualSpecialization" isDualSpecialization=   d%,      </td><td class="isDCPStudent" isDCPStudent="  ')#      <b>Are you sure to delete<b>?</div>   )@      <table class="table table-bordered" id="tblStudentList"><thead><tr><th>Sr. No.</th><th>Course Name</th><th></th></tr></thead><tbody>  `      <tr><td class="SrNoCls">  SN      .subjectNameId_chzn   n      <table class="table table-bordered"><tr><th>Branch List</th><td><select id="branchNameList"><option value="">Select</option></select></td></tr></table>   V      <table class="table table-bordered table-condensed"><tr><th>Term</th><td ><input type="radio" name="subjectCompareTerm" onclick="getStudentCompartment('  1E      ');" value="0" checked="checked" ></input> <b>I</b>   <input type="radio"  name="subjectCompareTerm" onclick="getStudentCompartment('           ')" value="1" ></input><b> II </b></td></tr><tr><th>Course</th><td ><select id="studSubjectCompartid" ><option value="0">Select</option></select></td></tr></table>   xV      ')"> <input type="button" class="btn  btn-mini"		data-dismiss="modal" value="Close" />    F}      <table class="table table-bordered table-condensed"><tr><th>Sr.no</th><th>Parameter Name</th><th></th><th>Added By </th></tr>     +
[      " checked="checked" ></input> <b>Yes  </b>    <input type="radio" name="subjectapperingstud   WM      " ></input><b> No </b></td>         ddd#no_   58      downloadBonafideCertifiction/<    fm      showFresherStudentByBatch/<   w      getSelectedStudentId/<    fHI      setSelectedStudentBatchId/<   h]O      getSelectedStudentGridRowId/<           populateStudentStatus/success/<   w      changeStudentStatus/<     	      changeStudentStatus/</<   !      changeStudentStatus/success/<     WB      showStudentListInGrid/<   n'       showStudentListInGrid/</<           unSelectAllArrangeParameter/<     1!      unSelectAllNamingOrderParameter/<     vY"      sUnSelectAllNamingOrderParameter/<    FBe      getFormattedStudentList/<     J'      getspecializationFormattedStudentList/<   :=      allocateDefaultRollToDivision/<          allocateDefaultRollNoToFresher/<  y;#      studentInformationFormsForFsisPdf/<   /)      getCurrentAcademicBatchDetailForFresher/<     UX      showStudentPromotionDialog/<  o*      showStudentPromotionDialog/</<    /C       showStudentPromotionDialog/</</< 	  P"      showStudentPromotionDialog/</</</<	    Z&      validateStudentUpdate/<	   28      showStudentInSourceBatch/<	    id      showStudentInTargetBatch/<	          showStudentCurrentInfoDialog/<	    hz      editStudentPersonalInfoById/<	     ,V      checkForActiveSemester/<	        checkForActiveSemester/</<	    `      checkForActiveSemester/</</<	        showStudentUploadRow/<	    7h?)      getDivisionForStudentDivisionAllocation/<	     P      resetStudentUserPassword/<	    m       resetRollNoOfStudentByDivision/<"	  "!      recoverDeletedStudentByDivision/<:	     Y&A      showBlockedStudentListDialog/<?	    q      deleteStudentFromBlocked/<V	    kY      selectFactor/<W	    ?'      selectFactor/</<X	  gS=      specializationSelectFactor/<Y	  \0       specializationSelectFactor/</<Z	    Oj      specializationRemoveFactor/<[	  Q      removeFactor/<q	    !      exportStudentsAsForeignExchange/<v	     $      getExportStudentsAsForeignExchange/<|	  7'      assignForeignExchangeSubjectToStudent/<	         getOutBoundUniversityList/<	   y      getUnallocatedStudentDialogue/<	   Mi      getStudentExamFormDetils/<	    _?      deleteStudentExamFormNoReason/<	   Y      exportStudentsAsDCP/<	     )      getDCPUniversitylist/<	    !_      getExportStudentsAsDCP/<	  n8      markAsStepProgramme/<	     #      removeAsStepProgramme/<	          initMapStreamAndSpecialization/<	  }!!      startMapStreamAndSpecialization/<	     :      getInBound/<	  -      getInBound/</<	    Svl1      showStudentListInGridForStudentBranchTransferff/<	     LK3      showStudentListInGridForStudentBranchTransferff/</<	   85      showStudentListInGridForStudentBranchTransferff/</</<	     *7      showStudentListInGridForStudentBranchTransferff/</</</<	   Oa      btnGenerateStudentUniqueNo/<	  =q#      setJoiningDateOfStudentForFresher/<	   #+      getstudentSubjectMapping/<	    ]k      hideselectedRows/<	    N      arrangeSno/<	  F      getMarkAs1Plus1StudentList/<	  Ya"      getStudentSemesterAttendanceList/<	    s#      exportMarksAs1Plus1StudentDetails/<	   I      convertToStudentFunction/<
    s-      changeBranch/<	
    -*J      gettermandsubForcom/<
     :      getStudentCompartment/<
   t      saveStudentCompartment/<
  L      initFiledailyMonitoring/< 
           getSynopsisDocument/<!
     D      getUploadedSynopsisDocument/<&
     -      selectedStudentStatusChange/<'
     D      downloadZip/<*
     (      sendEmailtoSelectedStudentsInAPIForGCU/</
  a      resetStudentParentPassword/<8
  6u      getSortDataWithFilterBYType/<9
     #      selectAllCatgoryWise/<:
    O$*      toAllocateSectionAccordingToPreviousTerm/<;
    ^Y,      toAllocateSectionAccordingToPreviousTerm/</<       p                 %,                                                                                                                                                                                                    
                                                                                                                                                                                                                                                        !                 "                 #                 $                  %                  &                 '                 (                 )      !           *      "           +      "           ,      "           -      "           .                  /      '           0      '           1      '           2      '           3                  4      ,           5      ,           6      ,           7      ,           8                  9      1           :      1           ;      1           <      1           =                  >                  ?                  @      8           A                  B                  C                  D                 E      =           F                  G                 H      @           I                 J      B           K      C           L      B           M                  N      F           O                 P      H          Q      I           R      I           S      H           T      H          U      M           V      M           W      H          X      H           Y      H           Z                  [      S           \      S           ]      S           ^      S           _                  `                  a                  b                  c                  d                  e                  f                  g                  h                  i                  j                  k                  l                  m                  n                  o                  p                  q                  r                  s                  t                 u      m           v      m           w      m          x      p           y                  z                  {                  |                 }      u           ~                       w                                  y                                  {                                  }                 }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                	                                                                                                      	               
                                                                                                                                                                                                                                                        !               !                               $               $                                '          !     '          "                #     *          $     *          %     *          &     *                           '     /          (     /          )                *     2          +     2          ,     2          -     2          .                 /                0     8          1     8          2     8          3     8          4     8                            5     >          6                7     @          8     @          9     @          :     @          ;                <     E          =     F          >     F          ?     F          @     F          A     F                           B     L          C     L          D     L          E     L          F                G     Q          H     Q          I     Q          J     Q          K                L     V          M     V          N     V          O     V          P                Q     [          R     [          S     [          T     [          U                V     `          W                X     b          Y     c                          Z     e         [     f          \                ]     h         ^     i          _                 `     k          a                 b     m          c                 d     o          e     o          f     o          g     o          h                 i                j     u          k     u          l     u          m     u          n                 o                p     {          q     {         r                 s                 t                 u               v               w               x               y                 z                 {               |               }               ~                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          $                                                                   	              
               	               	                                                            	                                                                                      	               
                                                                                                                                                                     !               !                               $               $                               '               '                                                 +               +                           !     .          "     .          #     .          $     .          %                 &     3          '     3          (     3          )     3          *                +     8          ,     8          -     8          .     8          /     8          0                 1                 2     ?                          3     A          4     A          5                6     D          7     D          8     D          9     D          :                ;                <     J          =     J          >     J          ?                @     N          A                B     P          C                D     R          E     R          F     R          G     R          H     V          I                J     X          K     X          L     X          M     X          N                O                P     ^          Q     ^          R     ^          S     ^          T     ^          U     ^          V     ^          W                X     f          Y     f          Z                 [                \     j          ]     j          ^     j          _     j          `     j          a                 b                c     q          d     r          e     r          f     r          g     r          h                i     w          j     w          k                l     z          m     z          n     z          o     z          p     z          q     z          r                s               t               u               v               w               x               y                 z               {                 |               }               ~                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              	                
                                                      Oc         4   ? r  $   P Z /       n     3           i    ] 6 =  P   v H 1 `  %      P     w     g  " y    t  P     1  (       3 ; 5   P ;        & v  H     M 6              P7       "     F    ,  E S   3 x  L          Py      H   s     f  8      )      Pb  ^  "   G  - v $ ] =  #  ? s      ^ G U   PW P       B    P  P  M     
  5 : | e N    g u     2   }   K    #    S  l    D % 	                              S  T  U  i                                                c               0              h  c  i                                               S           e                              v  w  Px  y  PJ `X                                                 S           e                           e           e           e                  P                                 c                                               S                                N  c                  X              S  U  i                               0 `c  P  P                                                             S                                    c                                                                                                                                                                                                                                                  T    i                                                                                                                          P                                                  P                                 U  PJ               S               i  v                                                                 % P  P `& P( P) P* P0 P `1 P3 P  PC PO P  `  `  `                 P                              >                              S  F H P                              r                 P PQ P  `  `  `            S    i  U  c                               0 m o r                                                                                                   ~                   ~                                                                                                                                     ~                                                                                                                                                                                              T       A    U  W   i  {             " ( P                                                      ) P            e                                                                       4 P                              4 P                              4 P                               w  v  P                               > Pw  v  Pi                                                  C Px  E F G H I J K L M 0  O P i                                                                S                           e                   `  `  `              0  x  U                                              S  U  i                               C  x               C x                                                S                           e               C                                               S                           e                C PE F G H I J 0                                                                S                           e              S                                       x                 l                                              S                            e              l  {       U                   P                               A                                               # Px  P$ P% P' P) P* P+ P, P. P/ P1 P  `  `  `                                            S  ]           e                            e `              G               G              N  T              N  T > P                             S  [ \ > ] ^ ` i                           e               c               S           e                              m c                                               S              w x                                              S                           e               } T ~              S                           e                U                                c  Ph                P               U                               >                                                           S  U  i                 S  U  i              %  T              S  > T           e               P                                               c                S                c                S               x  y  P                                             S                W y  P                                             S                 X  y  P                       e                PX                                            r                                               S    i               S                                } X  A  ] `            S      "              A  U  P              /                                    A                 X  y  P                       e                 X   y  P                                                       e                               X                  "                P              >                                             x   P            > x                                                                                              >                                                                             x              > x                                                                             } y  P             S                               } y  P             S                               } y  P             S                               X   y  P                                             S           e               } y  P             S                               } y  P                                             S                  	   	           % & ' ( ) * + , -              x  y  P                                             S                           e                x              @ A U  i                 ^ P   P                                                                            ^ P  P P]               >                                             l > n U               e           e              w P}                                             S  U  i                               w P                                             S  U  i                               w P                                            S  U  i                               w P                                            S  U  i                              y  P}                           y  P             S  U  i           e                  P              - P                i  v                  P              - P                i  v                U                                 U                                 C X                                                                                      ^              y  Px                                              S                                                   `  `  `                             P P P  `  `  `                             U  i                                                                                                                                                            S                               }                                             S    T   i                `# Px  P P                                               r                                                 S  i                                   5 PW P P                              r                                              S  j  U   i                                                  W PI PJ P                                                                               S                }                                              Q                 P                                                             S    T  i                                   P` P                                                                              S    T  i                l U  i                                                      P  `  `  `                                                              } P~ Pk `S  Pi `  `  `  `              P              r                                               S                P  P  `  `  `                                             S  Pj ` P P P P P P P P  P Pi ` P P P  `  `  `                              }                                              S  U  i  	              0     1 C X  W                                                                              `# Px  P P                                               r                                              S  i                                    P                                                             S    T  i                                 5 PW P P)                               r                                              S  j  U  $ i                                                  . P                                                              S                 . P                                                              S                } X               } PX  Py  P  `  `  `                 `  `  `                             P P P  `  `  `            } X                 <  S  i  ?              } X                              r  . P                                                              S              v  w  Px  y  PJ  X                                                 S           e                           e  "              P" P  `U  P` P  P  `  P P P P{ `  Pb P PT  PZ P P P] Pd P( P\ PA  PY P  Pa P[ P `i `  ` P^ P) P                                     \     {                                   A         {                                   ]   > P                 U  P              /                    >             S     " ]  > P              X                                                                  e                         } PX  Px  P  P                              r                                               S                                } X  x                } X  x                } X  x                   `  `  `              } X  x                   P P P  `  `  `              } X  x                                 X  x                                   } P              X  x                                   } P              X  x                                                  X              S  U  i                              0 `c                                                 S                                x                                               ]                                > PX  x                                                                ]                                } X  x                X             e               X  P} Px  P                                               ` P                                                             S     T  i  
              `F Pi PU  P Ps ` P  `  `  `              P                                             S                P              [                   i `                                 P                                                             S    T  i                                 ` PX  W  `                                                             S    T  i                `F Pi P8 P9 PU  P Ps ` P  `  `  `              # < P  P                                                                                                ]                               } y  P             S                                                 E P                                                                ]                                > U  N i                 > P[ P             >                                              ]                                a PP P{   f                                   
            p x  r Ps Pt Pu Pv Pw  m                                                               S  N i                                   i  j  W   k       m                 Px  P P	   	                                   >                                              ]                                }             S  i               X                                                 S                                } X  x                 } PX  Px  P  `  `  `                               P P P  `  `  `                  P                                                                                           y  P    P                                           S   i                                                 } X  x                 } PX  Px  P                                                P Pi `                              P                                 X      P  P              {                   } X  x                 } P              X  x                                                  X   P                                                                                               P  P P                              >                                              )                                              } X  x                 } P              X  x                                  } X  x                 } P              X  x                                    P P                !                 S   U  i                                                                                > X    P                                                              )                               } X  x                 } P              X  x                                     P0  PA  P  `  `  `                 `  `  `                                                                                                                                                                                         0             I$KE         J     Q  R  ]     #     J  l  Q  n  p  R  ]        m  c  i     #   J  Q     n  p  R  ]     #   J  l  Q  n  p  R  ]        c          J  l  Q  R  ]          X     #     J  l  Q  n  p  R  ]     
   c           J  l  n  p  R  ]             c              J  n  p  R  ]          J  n  p  R  ]  
   2                {               J  Q     R  ]     
                J  l  Q  0     R     
      0    #    J  l  Q  0     R  ]     #   %   & 3 ( ) *    #   J  Q     n  p  R  ]                         (     J     n  p  Q  0  R  ]           J  n  p  Q  R  ]     #    J  n  p  Q  0  R  ]     #   J  n  p  Q  0  R  ]     #   J  n  p  Q  0  R  ]     (   J  l  Q  0  n  p  R  ]     #      J  Q  0  n  p  R  ]        J  Q  0  R  ]          J  Q  0  R     #      J  l  Q  0  n  p  R     
   > c     (    J  l  0  Q  n  p  R  ]     
      w x        J  Q  R  ]           J  l  Q  0  R     
     %         J  Q     n  p  R         J  Q  n  p  R          J  l  0  Q  R          J  l  Q  0  R  ]         J  l  Q  R     
               J  Q  l  R           J  Q  l  n  p  R         J  l  0  R  ]     (     J  l  0  Q  n  p  R  ]     (      J  l  0  Q  n  p  R  ]               (     J  l  0  Q  n  p  R  ]           J  Q  l  0  R  ]         J  Q  l  0  R  ]         J  Q  l  0  R  ]         J  Q  l  n  p  R         J  Q  l  0  R  ]     (    J  Q  l  0  n  p  R  ]     (      J  Q  l  0  n  p  R  ]                     	   -     J  l  Q  0     n  p  R  ]     
     %      (    J  l  Q  0  n  p  R  ]           J  Q  n  p  R  ]         J  Q  n  p  R  ]         J  Q  n  p  R  ]         J  Q  n  p  R  ]         J  Q     l  R          J  Q  0     l  R                      (     J  Q     l  n  p  R  ]     #      J  Q  l  n  p  R  ]         l  {                 #   J  Q     n  p  R  ]     (   J  0  Q     n  p  R  ]           J  Q     n  p  R     (    J  Q  l  0  n  p  R  ]              # x           ,    (     J  Q  l  0  n  p  R  ]           W 5 8     
             #    J  Q  l     n  p  R     
    M    #    J  Q  l     n  p  R        }         J  Q     n  p  R     
           #    J  l  Q     n  p  R        `         J  Q     n  p  R         J  Q     n  p  R     #    J  Q  0  n  p  R  ]     #   J  Q  0   n  p  R     #   J  Q     n  p  R  ]     (   J  Q  l  0  n  p  R  ]              # x           ,         J  Q     n  p  R     
           (    J  Q  l  0  n  p  R  ]           W 5 8     
             #    J  Q  l     n  p  R            #     J  Q  l     n  p  R                  l  {         
    } X     #    J  Q  l     n  p  R            #     J  Q     n  p  R  ]                         U       \          {               P                {            	   -      J  Q  0  l     n  p  R  ]            } X  x     #       l  {  0                         } X  x     #       l  {  0                         X  x     #    l  {  0                         X  x  }    #       l  {  0                         X  x  }          J  l  Q  R  ]          X     #     J  l  Q  n  p  R  ]     
   c       (    J  l  Q  0  n  p  R  ]           x     (     J  l  Q  0  n  p  R  ]     
      > X     #     l  {  0                         X  } x     #      J  l  Q     n  p  R        `    #     J  l  Q     n  p  R                 J  Q     n  p  R     
           #    J  l  Q     n  p  R     
     X         )              (     J  Q  l  0  n  p  R  ]              # <          J  Q  l  0  R  ]     (    J  Q  l  0  n  p  R  ]           E    (     J  Q  l  0  n  p  R  ]     
       _    
                        
          (    J  Q  l  0  n  p  R  ]           x  w p    (   J  Q  l  0  n  p  R  ]              x        J  Q     R     #      J  Q     n  p  R  ]     #    l  {  0                         } X  x            {                        J  Q  R        J  Q  0  R     #       l  {  0                         } X  x     
      J  l         X         #      l  {  0                         X  x  } 	   -      J  l  Q  0     n  p  R  ]     
      X         J  0  n  p  R  ]     #     l  {  0                         X  x  }    #       l  {  0                         X  x  }    #      J  l  0  n  p  R  ]     
   X       #     l  {  0                         X  x  }                   
                       
                       
                       
                       
                       
              !          !          !                   
              !  >  ?  @     6                  &!!                        %                                                                                s J   m   w                                                :               Ee@
e e+e+eKe;`P
PD e@ e0 @ 
{e+eK geK !e; rP  Gk                                5      J   	  +          s J      w        s J   m   w     	   s J
   9      <   <   <   s J   9      <   m   <   w        s J
   9      <   <   <   s J   9      <   m   <   w        s J
   9      <   <   <   s J   9      <   m   <   w        s J
   9      <   <   <   s J   9    !   <   m"   <   w     #   s J
   9$      <   <   <   s J   9%      <   m&   <   w     '   s J
   9(      <   <   <   s J   9)   *   <   m+   <   w     ,   s J-   9.   /   <0   w     1   s J-   92   /   <0   w     3   s J-   94   /   <0   w     5   s J6   7   s J8   m9   w     :   s J;   s        <   (      =    >   w ?    @   w        A   s J
   9B      <   <   <   s J   9C   !   <   mD   <   w     E   s J   mF   w     G   s J-   9H   I   <0   <J   <K   <L   w     M   s J;   s        N   ,         O            P      L          Q   s JR   S   w T    w      U   s JV   w         W   s J   mX   w  `@`P
PD`P
"PD`P
(%*&F%PJ	%*JPD`P
'%*&F$PJ	%*JPD"`P
*%*&F"'PJ&	%*J&PD.`P
%*&F.PJ2	%*J2PD9`P
%*&F9PJ=	%*J=PDD`P
%%*&FD"PJH	%*JHPDV`P
%JVPDZ`P
 %JZPD^`P
%J^PDb`PP
PDm`P
PIo` `$P$`+PIt`P
#%*&Ft PJx	%*JxPD`P
PD  `P
)%*&&F  !PD  "`P
P)` `P "P$`*`P
P `P
P4  P   D   Z                               5          z                               `)`P)`P)PX   X   #                                  s J   s  +&` P
P'QX   X   #                                  s J   s  +&` P
P'QX   X   #                                  s J   s  +&` P
P'QX   X   #                                  s J   s  +&` P
P'QX   X   #                                  s J   s  +&` P
P'QX   X   #                                  s J   s  +&` P
P'Q\   kZ\   $                                  s J   m   w &`P
PD	P   ~;                                  w         s J      s    V             s KL          s KL       	   s J
      w    &`*`PP `P,`P,`PPIPX   X   #                                  s J   s  +&` P
P'Q      n                                 s J   .             s J      w )   	          s J      w     `P `P P `P PIP4   ` 4                                 w   `JP  d                                  s J   s           J      s K          s             S         J   9	   
      &<   <      <   m   <   m   <   w     `P
P(` P+`P@`%2+&*JJP9P   K                           J                     f               KJ   &   &    KJ   &   &    KJ   &	   &&.    0(     
       s J     w  `-`* `f/`)	 	 	@`@	`P
"P$P             u   (   l(                               @@   +q@                                J      w  ` PP|   PZ(}|   E                 
               s J   s           J      s K       `P
P(` P,`Q$   `$=$                               ,  \Ie,                                 s J   s          )                      	   ~   
      J   9      <	   9
     <    <      <   <      <   m   <   m   <   m   <   m   <   w     `P
PH` `%*%((N*JJJJP9!P4   nj4                                 w   `JP4   )rq4                                 w   `*P   	   E                       $            w        w                  `.`!`%P @P         3                    (   l(                               @D  W                 m      $               s J   w          &   &   &   & &   &   &   &   	   
       	      
                            s                     s J   s  J      s K      J   s        '          s J   s           s J      s Y   0         &   &  &      /   5         &   &  &   &  &   :   i   :     Z   <       &         ?        @   #   A       &   &  &   D      J      s f   H      J    9!      <"   #   <$   <%   m&   <'   m(   <)   m*   <+   m,   <-   w p   W   .      J/      s .   0       w 1       w     .   w    b        b      b        .      J/      s .   0       w 1       w     .   w    m        m   m   @`P
P$`
C

 `P)`P)`+`,`PL
`,#`P
PP*`P `P
PH`PP-`3$+	`,`3.
@`,`.*` `,
$?A`P-`%**&J%J(J4JP>8 ` 0P)`P!`P$`	P @@+` 0P)`P!`P$`	P 0HPD    2        3     w   4                     #           V  #           %     4   A4                                 w   `*P4   A4                                 w   `*P   x   q                 
      $   J        w                w        w       w    
          
   @`PD`N`P!`P$`	P  P         _              6   !   <   7<                                    w  `P$P   %L                                             s J   s  J      s K          s J   m	   w    J
   :         J   J         &   &   &w              w     ` `P
PP*`P
"PD` ` 3#P `P9Pp   p   3                              J          s J      s w &`PPP$P  6I                  (                     w         s J   s        J      s K       	   s J
         w     	   s J
      w        s J
      w    J   9      <   9      <   <      <   m   <   m   <   m   <   m   <   w  ` `*`P
P(` P*`P P$`P P$`P PD	`%*%N*JJJJ	P4P4   3
4                                 w   `*P4   3
4                                 w   `*PD   u3D                                        w   `.`*P(   )(                               @(  <w(  M                S            s            s J   s          J      s Ks        	       s ;      	      s "                    t     
      
       w      w         s KL          s KL          s KL          s J      w        s J      w        s J      w        s J      w        s J   w         s J   w         s J      w         s J   w      !   s J   w  2   M   "    #   w     $   s J   w  S    `.`P
P(` PP(`*`PP@` `*`*`P,`P,`P,`P P$`PP$`P"P$`P"P$`P
 P$`P
P$`P P$`P
P$`P
P `P$`P
P9P   M                                   s J   s  J   s  J      s K         Z         J   9	   
   <   9      <   <      <   m   <   m   <   w    @"`P
P
PPJ` `%*.*JJP9Pt  d                                         J   R                KJ   &   &    KJ   &   &&.     0(            s J	      w     
   s J   w    J                w              w    @`*	 `f `	 @"`@`P
P$`P
PD	` `PN`P)Pt            e   <   <                                    w  `P$P8  +@8     	                                   &   &          s J   s  J   s  J   	   s K       
   s J   s            s J   s                     w        m   w I`
3 `P
P
PP+`P
P)`P
P `PI`5*CP4-P   B                                   y         J   9      <   9      <      <	   <
      <   m   <   m   <   m   <   m   <   w     ` `%*
/*J	JJJPI"P4   A4                                 w   `*P4   A4                                 w   `*P   >f(                                          J      Q             s K +   
          s KL       w     "                  w      	` 
`P `P,`0
 `.`OP<   7<                                    w  `P$Pt  7t           
       &            s            s J   s           s J   s           s J   s           s J   s       J   9	   
   <   9      <     <     <     <     <   <   m   <   m   <   m   <   m   <   w @`.`P
P(`P
P(`P
P(`P
!PH`E
*%))))NJJJJP4P4   3
4                                 w   `*P4   3
4                                 w   `*P(   )(                               @(   )(                               @   ()   L                            J   9        &<   m   <   m   <	   m
   <   m   <   w  `%/)JJ
JJP4P4   BeQ4                                 w   `JP4   3
4                                 w   `*P<   0<                                    w @`P$P(   )(                               @   r-@   L                            J   9        &<   m   <   m   <	   m
   <   m   <   w  `%/)JJ
JJP4P4   BeQ4                                 w   `JP4   3
4                                 w   `*P<   T<                                    w @`P$P(   )(                               @  %x           	       U          J                            KJ   J   J   J   s     s     9     <	        KJ   J
   J   <        KJ   J   J   <        KJ   J
   J   <        KJ   J   J   <        KJ   J   J   <        KJ   J   J      &     KJ   J   J   &<        KJ   J   J   <        KJ   J   J   <        KJ   J   J   <            s J        &  w Q     0(    0(  0U    `/`& `f/` 1P `%)     &  @@`P2PI`K`0P              L   !\L                                    s J      w  `PPPh   6h   /                                 s J   m   w    J   s  @`P
PD`PQ   $w1   ^                                  s J      s 6         J          s J      s w    &`PP `PPPIP8  Q^8                                  s J         s           s J         s     J            J   a             s J         s           s J         s     J       `P P(`P2P(`	,`9; `P P(`P0P(`9V<   k<                                J   s  @`PQ   zMt   X                 	               s J         s           s J         s     J    `P P(`P2P(`Q   p+                                         (              J      w             &s J   	   s J
   m   w          J      s &    ` `
,`)` PI`PP
!PD`
 PP|   1'|   =                              J          s J      s J   s  w &`PP
PP$PH   H                                    s J   s   `P
P3Q   oa   G                  	                        s J      s J   m   w     `@`PP
PD`Q|   m|   =                              J          s J      s J   s  w &`PP
PP$PD  0-PD                                  s J      w        s J      s       	                
   J   J   J   s             J   9         &   &  &<      <   <   m   <   m   <   w  `PP$`P%P(`P)`+
` P(`+`%.J
*&J JP4#P   U   u                            J      w    J     m   w       J      s        	   s J
      w     w   ` P$`PD` *P)`P
P$`JPd  d                             J    J      & J   &w  J         
          J   &   &&.    J      )      	    
   s J   s        !            &.   3          J   J         s &.            &.       `	P$` `
  	` P
P ` ` P@	`@P$   g$                                  8                  `               s J   w         s J      w        s J   w         s J	   
   w        s J   w         s J   w         s J	   
   w        s J      
   w        s J      s J   9      <   m   <   w        s J      s J      s K   1   4                 s J!      w 8       "   s J	   
   w     #   s J	   
   w     $   s J   w      %   s J   w      &   s J   w      '   s J   w      (   s J   w      )   s J   w      (   s J   w      )   s J   w   `P
P$`P P$`P
P$`PP$`P
P$`P
P$`PP$`P P$`PP
%*J	0PD`PPP `*`P
*PI`PP$`PP$`P
P$`P
P$`P
P$`P
P$`P
P$`P
P$`P
P$`P
P4PX   X   #                                  s J   s  +&` P
P'Q    j                              5       s         s         s            s J   s            s J   s         	   s J   s         
   s J      s                                   w            s J   s     Q   "          s J   s     (   (         *         +   :   ,      J   s        0          w  2          s J   s   	         s J   s   
         s J   s           (   @          s J   s     D    	        F         G      H          w  J         K   L           s J!   "   w     #   s J$   m%   w   U      &      W      '   X   (  Y    
        [       (   w  ]   )              *   s J+   m,   w     -   s J   s        J.   z   k      J/   90   1   <2   93      J4   s  <5    	  <6   <7   8   <9   :   <;   <<   m=   <>   w    {       ?   w }   4  }         )             s J   s  @      O             A   s J+   mB   w              C   w        J/   9D   E   <2   9F      <G      <H      <I      <J      <K      <L      <M   <7   8   <9   :   <;   <<   mN   <>   mO   <P   w     `/`/`/`P
'P)`P
P)`P
P)`PP)` `P$`1  F`P
P P
P `P `P$`1  F`P
P)`P
P)`P
&P@`@`P
,PN` `P$`1  F!`@#`P&PD%`P
.PN>`@B` `P$`1  FK` `P
PDQ%`P
PIX` `%J\%P(Ob**&JYP>y `P0} ` P
P ` `P
"PD  `/`P$`1  F  `% %****** **&J  J  P9  P   =                                              s J   m   w    J   (   
          	   m
   w              w     ` `P
PD` ` (P> `PIP      Y                                  s J      s 1         J          s J   s  w    &`PP-`P
PP)P`   5I`   '                                        	  w     	`M`PIP   /)7   Y                                  s J      s 1         J          s J   s  w    &`PP-`P
PP)P\  xBR.\                   "               K         K      p        KJ   2   
     KJ            KJ         #        KJ   J   s                         s J   m	   w 
          &   &   m   w  `*	` 
` : ` %PM` `P
&PD`	   "JPDP   cg   d                                  s J      s    6         J          s J      s w    &
`PP `PPP)Px   &qx   ;                           2            	    
      w     
`-`PIPX   X                                 5          s J   s               &   &s J   s           t         b            L            6         	          
       z                      `P
P)`P
.P)` G P `@P  Pl  e                ~                                  KJ                  KJ   w     s               J   U      	    
   s J           K       &KJ   w   0(     	       s J      w 	       s J      w               )          w   +            -   	       s J   s     %   3   	       s J   s  8   f   9            ;          w .   =            ?          w A      A          w C   ,  C            E     KJ      H   q  I        &.      J       J   v   M       KJ      D   Q           &!   &    KJ"   &#   &&.    0(  Z     0(  |\     $   &.      ]       J   v   `       KJ      D   d           &!   &    KJ"   &%   &&.    0(  m     0(  |o         w    q            s     KJ   &   v   -   w     '   &.        w .   z      (      |       )   w ~    `P)`P)	` `P$`N `f `P/PD'`@`PP$`PPD`*` `P.` 	`P
P P
P 
` `P.` `P0 `P@` `@ `& `f ` 	`	 	`@!'`@'`@*`& `f ` 	`	 	`@+'`@1`P.` ` `P.` `PI8P         u   i                      8     $   $                                p  ?p                  %              s J   s                 s J      s    	        	       	   s J   s       J
   9        &   & &   &   &   &  &   &  &<      <   <   m   <   m   <   m   <   m   <   w  `P
P(`*`PP-`O!`P
3PH	`%5
#
%$0**&JJJJ	P4P4   3
4                                 w   `*P4   3
4                                 w   `*Px   P>Ox   =                              w            w        s J      w @`*` P$`PP$P$   g$                                H   hVH                                    s J   w   `P
PPT  1T                                  s J         s           s J         s     J    "        J       j             s J         s           s J         s     J           `PE/PH`P2P(`	 `.`4;
 `PE.PH`P0P(`.`4V   P/   a                 	               s J         s           s J         s     J        `PE-PH`P0P(`.`QX  *X                  ,               s J         s           s J         s            J            J               	   &&.      J
            J
               	   &&.      J            J      &            &.      J            J      &            &.      J       #     J      &   %      %   &.      J       )     J      &   +      +   &.     `P P(`P2P(`*`#-`#-` ` ` `@`Q<  %'<                                  s J         s           s J         s     J            J   a             s J         s           s J         s     J       `PE/PH`P2PH`	,`9; `PE	.PH`P0P(`9V<  t<                                  s J         s           s J         s     J            J   a             s J         s           s J         s     J       `PE/PH`P2PH`	,`9; `PE	.PH`P0P(`9V8  x8                                  s J         s           s J         s     J            J   a             s J         s           s J         s     J       `P P(`P2PH`	,`9; `P P(`P0P(`9V   6:   u                               s J         s           s J              w        
   	     L       `PE/PH`P.	PD`,`0P   F'                                  s J         s        9             s J              w )   
   	          	     L
       `P PH`,`P.	P ` ,`0P@  @                                 s J         s           s J              w     	   s J         s        	   s J              w     )      
          
     L       `P P(`P.	PD`P P(`P,	PD`,` ,`0P   4'                                  s J         s           s J              w     	   s J         s        	   s J              w  `P P(`P.	PD`P P(`P,	PP@  Y@                                 s J         s           s J              w     	   s J         s        	   s J              w     )      
          
     L       `P P(`P.	PD`P P(`P,	PD`,` ,`0P<  Po<                                  s J         s           s J         s     J            J   a             s J         s           s J         s     J       `PE/PH`P2PH`	,`9; `PE.PH
`P0P(`9V   zMt   X                 	               s J         s           s J         s     J    `P P(`P2P(`Q8  U%I8                                  s J         s           s J         s     J            J   a             s J         s           s J         s     J       `P P(`P2PH`	,`9; `P P(`P0P(`9V8   8                                  s J         s           s J         s     J            J   a             s J         s           s J         s     J       `P P(`P2PH`	,`9; `P P(`P0P(`9V   zMt   X                 	               s J         s           s J         s     J    `P P(`P2P(`Q8  P )8                                  s J         s           s J         s     J            J   a             s J         s           s J         s     J       `P P(`P2PH`	,`9; `P P(`P0P(`9V   $   X                 	               s J         s           s J         s     J    `P P(`P0P(`Q$   ;$                               0   ]/   K                                s J      s       J                  @`PP(` `1; `1V  5  f	                `            s J   w         s J   w         s J      s           s J   	   s                 
    w     J                    J         w                             s J   s            "         "      "             $         $      $        	  	        J      s &   &  &   &  &   &  &   &  &    &  &!   &&.	  
    4         6               O   8        KJ   "   &     KJ   &"   &     KJ#   &  J   E        KJ   "   &     KJ#   &"   &     KJ   &  R        KJ$   J%   s        Y        KJ$      \   &   \               KJ'       a        KJ'     d        KJ(        J   )            k       l   w          o       p     q   	  *        KJ+   &,   &&.	  	  -   
  &.   &     KJ+   &/   &     KJ+   &0   &     KJ+   &1   &     KJ2   &3   &  &4   &     KJ   &5   &     KJ#   &6   &     KJ   &7   &&.	       KJ8      [      9         KJ8   J:   l;   "   s s   	  <     &7   &&.	  %      	  <     &7   &&.	     	  =        KJ>   &?   &     KJ@   &A   &  &B   &  &C   &     KJD   &E   &  &C   &     KJF   &G   &  &C   &     KJH   &I   &     KJJ   &K   &     KJL   &M   &     KJN   &O   &     KJP   &Q   &     KJ+   &R   &     KJS   &C   &     KJT   &U   &     KJ+   &V   &     KJW   &X   &     KJY   &Z   &&.	  
  0(
      0(  	  	  [   &.	         s J\   	  w     ]   s J^   9_   `   <a   b   <c   9d   e   <f   <g   <h   s       i   s J   w         s Jj   k   s Jl   m   mn   w        s Jj   o   s Jl   m   mp   w        s Jq   s        r   s Jq   s        s   s Jq   s        t   s Jq   s      Ju   s  v      ?  w     w   A    Ju   s  v   &   E  w   w   x     &&.w   J    Ju   s  v   &   N  w   w   x     &&.w   S      y   s J\   z   w   1&{   &w        |   s J}   m~   w @`P
!P$`P
PD`P%P(`P%P(`,`*`*`/`&`*`` $P$` `*`O"`P
P("` `@`J`I! PJ)+++K0@7`& `f/`*`*` ` 1 '@>` 2 (@@`  P `*`) `@G` ` 2 
P$`  `	 `	&+R ] 9 > +2 3 1 ` ` -
PP(`	A0X `	A@]`	' # $+# 4   / 8 @ * ; 1 & F C C@l`@8`@p`@t`P
"PDv`P
$%	*	*	%O|Gv*PH~`P
P `PP#PD  `PP"PD  `P
%P(`P
"P(`P
)P(`P
P `
P ` `P `@  `P ` `P
!$PD  ` `P
P4  P                z   p                                s J      s           s J      s J   s             &  	   w &`PP(`PP
P(	`
	P$PL  L                 :                s J      s           s J   w         s J   w         s J   w         s J	   
   w        w        s J      s J      w        s J      s J   s  J      w        s J      s J      s J      w        s J      s J      s J   s  J      w        s J   w  F`PPH`P
P$`P
PD`P
P$`PP$`PD`P PP$`P P
PPD`P PPP$`P PP
PPD`P
PDP`   I`   *                                 s       J   m   w  `P)`PDP  {6          
       1           J   n        J     s       J     s      J      J        s    J        s &s J        J   w   J   m         J      J        s    J        s &s J	   
   s J      w h   !      J      J        s    J        s &s J	   
   s J      w .       w       1        1       &` `P(`P(`	P	PPC
P$` `	P	PP3PP `	P	PP3PPI`*`/`*`AF`*PL   x\L                                    s J      w  `PPPL   x\L                                    s J      w  `PPPL   ELL                                    s J      w  `P$PP\   O\   (   	                                 s J   m   w )`P
1P4P   /)?   V                
                  s J      s    (             s J      w 
   &`PP `P PIP\   *\   (   	                                 s J   m   w )`P
/P4P   /)?   V                
                  s J      s    (             s J      w 
   &`PP `P PIP\   O\   (   	                                 s J   m   w )`P
1P4P   /)?   V                
                  s J      s    (             s J      w 
   &`PP `P PIP                                    s J   s                      s J   w         s J   m   w        J	   s     w     
   s J      w @`P
2P(` `P
 PD`P
%PD
`*PP$`P$PPh   4}Wh   .                              J          s J   s  w &`P
PP$P  jam   L                ,                        s J   m   w        s J   s                      s J   w         s J   m	   w 
       J   s     w        s J      w           J   X   !               K&s J      w          Kw   0(  ,    ` `P
"PD`P
4P(` `P
.PD
`P
3PD`*PP$`P$PD `f `P P$`
PD,`0P            m   h   xVSh   .                              J          s J   s  w &`P
PP$Ph   vsvh   .                              J          s J   s  w &`P
PP$P
  F$q\
                  "      $                 s J   m   w     s                                                                                    	         s J   s  
  	         
   s J   s    
        %     J          s J   s  w   J          s J   s  w   J          s J   s  w   J   w 	  9   
       ;      J   s      >        J   F  B     J               K&s J   s  w   J               K&s J   s  w   J               K&s J   s  w   J               K&s J   s  w   J               K&s J   s  w   J               K&s J   s  w   0(  z   q  z   
     n  |     J          s J   s  w   J          s J   s  w   J          s J   s  w   J          s J   s  w   J          s J   s  w   J           s J   s  w   J       !   s J   s  w   J       "   s J   s  w 	  J       #   s J   s  w         J          s J   s  w   J          s J   s  w   J          s J   s  w   J          s J   s  w   J          s J   s  w   J          s J   s  w    $       s =          ,        J           J              J%   9&   '      J   s  &(   &  J   s  &)   &   &*   &  J   s  &+   &  J   s  &,   &  J   s  &-   &  J   s  &.   &  J   s  &/   &	  J   s  &0   &  &1   &  J   s  &2   &  J   s  &3   &
  &4   &  &5   &<6   <7   m8   <9   m:   <;   <   <=   >   <?   m@   <A   mB   <C   w    "       "   ` `P
"PD`.` ` ` ` ` ` ` ` `@`P
-P(`*`P
*PH` `[
PP$`[
PP$`[
PPD`P.` `!P( `f `P
.PP$`P
-PP$`P
-PP$`P
,PP$`P
+PP$`P
+PPD*`@$` `[
 PP$`[
PP$`[
PP$`[
"PP$`[
!PP$`[
!PP$`[
!PP$`[
 PP$`[
 PP `[
PP$`[
PP$`[
PP$`[
PP$`[
PP$`[
PPI7`P -!`%:P
$P$ P
P
$P$ P
P
P
$% P
P
 &JDJI**JYJ9P@[0]P
  l
  D                 [          '  e     8E?   L                
              J          s J      s J      s J   s  w &`PPP
PP$P   0+m   j                              w         s J      s J      w        s J      s J	   
   
   w  `*`P"PP$`P"P P$P   U   e                              w         s J      s J      w        s J      s J	   
   w  `*`P"PP$`P"PP$P                               KJ   /            KJ   w     w   >   
         KJ      &  J   '&   w     w       KJ   J	   s  
               w     	` `
P$`*`A; `&@PD	`O
` P `P)P$   59$                                   l                                  5          s J      s           w            w  	          z   	   
       	      
          @`PP-` `O`)`P)`PP    *                R               s J      w        s J   w         s J   s            s J   w      	      &s J
   w                     s J   s  J      s K     J   9        &<   m   <   m   <      <   m   <   m   <   w    -            /       w                &!   &"   J#   $   s &%   &"   J#   $   s &&   &"   J#   $   s &'   &&.    (   "   J#   $   s &)   &&.         s J     w        s J
   w  R    `PP$`P
P$`P
-P(`P
P$`P
PD` `P
PP+`%G*JJ*J)J	PN+` `*`*`)SL2& PJ9& PJ@& P@I`IP P@]`P
P$`P
P9`P4   )rq4                                 w   `*P4   )rq4                                 w   `*P  j{                  :                     J   ;                    J      
      J       KJ   w           KJ   &   &    KJ   &	   &    KJ   &
   &    KJ   &   &    KJ   &   &    KJ   &   &    KJ   &   &    KJ   &   &&.     0(  2          s J      w (   6          s J      w :    `P)` `*
 `f `P$`	$@	K L K "@M N M@$`@`P
PN`PP)P         <      $   59$                                   7   Z                  	              s J      s              w               w 	    `PP-`P `P9P  Qt                   &      $  J   M             s 3          !               s s             J   9        &	   &   &
   & &<   m   <   m   <      <      <   m   <   m   <   w    &          &    ` "P/ 	PP0!`%C
+&/JJ**JJP@0!P                     g   z   4   A4                                 w   `*P4   A4                                 w   `*P   )S   k                               KJ      &  J   '&   w     w    KJ   J   s  	         
      w     `&@PD`*
` P `P)P(   Nd(                               @L  T7'<,                         $  J   !               s s       	      J   9        &   & &<	   m
   <   m   <      <      <   m   <   m   <   w                  ` "	PP!`%%*)JJ**JJP@0!PL  <                   ;   n   4   H4                                 w   `JP4   U4                                 w   `*P   &}   k                               KJ      &  J   '&   w     w    KJ   J   s  	         
      w     `&@PD`*` P `P)P(   j(                               @  `                  _       $                 s J   m   w        s J   s            s J   s        	   s J   s        
   s J   s           s J   s           s J   s           s J   s         g   %          s J   s            s J   s           s J   s      1      J   D   4              s s "   :             s s ?      @      J   9         &   &   &   &  &   &  &   &  &   &  &   &  &   &  &   &<    m!   <"   m#   <$   %   <&   '   <(   m)   <*   m+   <,   w    _        _   @` `P
"PD	`P
P(`P
P(`P
P(`P
P(`P
P(`P
PH`P
-P(` `P
P(`P
P(`P
PH`K` "	PP&	PP!`%@-% $%  J$J'**J1JP@60:P    -                        gQ
   L                
              J          s J      s J      s J   s  w F`PPP
PP$P4   @a4                                 w   `JP4   A4                                 w   `*P   )S   k                               KJ      &  J   '&   w     w    KJ   J   s  	         
      w     `&@PD`*
` P `P)P(   Nd(                               @t   d            	                    s J         s                              s J        s       J   J	   s      KJ
   J	   s  >             s J               KJ   w      0(  A    `PE/PH `f	/` 	P3P)` P P.`P/)M"PI*`0Pt         -      P   vP                           l         J     s  `*`PQ    k                      $                            s J      s "                        s    
      
          w          	    s       
    s                      s J   s           s J   s      J      s K               	         s J      s a   "          s J   s           s J   s           s J   s  	  .          s J   s  
  
    s           s J      s 6   9          s J   s         &  >          s J      s    C        &   &  &   & &   &  &   &  &   &  &   & &    & &!   & &"   &  &  &#   &  &$   &  &%   &
  &&   &	  &'   &   &     a        &   &  &   & &   &  &   & &   & &   & &    & &!   & &"   &  &  &#   &  &$   &  &%   &
  &&   &	  &'   &   &        J(   9)   *   <+     <,   -   <.   /   <0   m1   <2   m3   <4   m5   <6   m7   <8   w                     @`*`,`M`PP-`(`(`M`P0 `P$`1iF`*`!` `N`P
P( `P
P(` .PJ`*`*`*`PP-`P
P(`P
P(`P
PM'`P
#PH)`N+`PP-`P
 P(`*O0`PP-`#%#+ % *
#" `#%"+ 

$ *
#"O@`%*)**JIJMJ_J@P@c0f0iP    9   O                  t   Uot   =                                 s J      s J         w     w   `PP P$`*Pl   %l   8                                 s J      s J      w     w   `PPP$`*P  h F                  6         KJ                  s J   s     s   
          s J   s  N             s J   s     %             s J   s           "        K          w        	   s J
      w        'w x   %     KJ       )     KJ      ,   #   -         KJ   w $   1            KJ   &w 6    
` 
`P
P P
P P
P P
P0 `*`PI`PP$`P> 
`
 `
PN`0PIP<   7<                                    w  `P$PH  PH           	       f         J      &  J   &   &  J   &     J   J   s             J                   J	   
           J	                               J	   
           J	                                  J   &   &  &   &  &   &  J   &   &  J   &   &  J   &   &  J   &   &  J   &   &  J   &   &  &   &  J   &   &  J   &   &  J   &   &   &   &  J   &   &  J    &!   &  J"   &#   &  J$   &%   &  J&   &'   &  J(   &)   &  J*   &+   &  J,   &-   &  J.   &/   &  0    1   s J2   3   s J4     w 5   6       5   7   6       7   @`.`P ` ` `(K	9A/RI/9/>/+2/3/1/=+"/#/$/%/5/"/;/8/@@ `PP
PD"`P)`PP                                      s J   s  J      s K                    s J   m	   w 
   J         &   &   &w  `P
%PPJ`@`P
"PD`5P4Pp   Cp   3                              J          s J      s w  `PPP$P   ]   <                E               s J   s           ?            *               
            j             s J	   
   s C             s J   s                  w        s                   w 0            s J   s  J      s K       (          w    *       s     -          s J   s         3          w    5          s J   s         ;          w C   =          s J   s        C          w E    "`P
P(` `PP-`P
P `P$`1F` `P$`1K`P
PP `P$`1K`P-`P
P `P$`1K`P
P `P$`1K`P
P `P$`1F`Q  'R                   !               s J      s C             s J   s               	   w        
   s J   s  J   s                   w Y             s J   s  J   s                   w    !   !   @`PP-`P
 P `P$`1F	`P
P
P `P$`1K`P
P
P `P$`1; `1V   * R   h                  
               s J      s (             s J      s 	      
      
   
    `PP PP `1; `1V  M4A    '              \      $               5      J      s J             s J   s              	          s J   s        J   	   s K      J   	   s K   
       z   
       z   & 	                     
         s J      s            
             
       
        "    
     $   3  %      J     (         ,   +            -         .     /          s J   s           @  5          s J   s                    ;         *   ;            =         =      J   9         &   &   &   &   & 
  &   &   &<       <!   "   <#   m$   <%   m&   <'   m(   <)   m*   <+   w (   T    ,      -       w V      V   .    /   0   w X      X   .    1   0   w Z      Z   .    2   w \      \   @` P."`P
PI` $`P
 P)` P+` P+`P@`@`+`P"P-` `@!` * ` `@%`P
P)	`A)`P
 P)`+` ` ` `@1`%((& +**J9	J=JTJ1P@Z+`P@^` P@`` P `P0d0gP    ,   B             -       mD   Q                  
               s J         w        s J      s J   	   w  `P "P$`P(PP$P   sa   L                  
               s J      w        s J      s J   	   w  `P"P$`P(PP$P   o`N                   6      $  KJ   J      L               s J      s    
   	    w        
     K
          w    KJ   J   J      &     KJ   J   J   J   ;               &   &  KJ   J   J   &&.   %         KJ   J   J      &w ,      ,        ,         KJ   J   J   w        s J      w !` `PP-`@`@
`J
` ` `	m@
` P@ ` P$`P(P$P        1                (  (   #B(                               @   `U   p                                s J   s            s J         &   &w        s J   	      &   &w  `P
%P(`P
P$`P
   PP   YK   p                                s J   s            s J         &   &w        s J	   
      &   &w  `P
%P(`P*K&PD`P
#PPD   KD                                   w  `(PPP  O0                         $          s J   m   w    d         J   9        &   & &<	   
   <      <   m   <   m   <   w              w                    !`'`P
PD
`/`,
%%&)**J3JP>7 `P@:0=PP  @                           $T                                    s J   s     v             s J             s J   s  w        s J          s J   s  w       &`P
P `P&P
PP$`P
P
PP$`LPt  +ad                  :        K     K    K          J   R         KJ        KJ            s J        &  &w           s J	   
      KJ   w          J             KJ    I               KJ   &   &    KJ   &   &&.  I   &            KJ   &   &    KJ   J   &   &&.  0     0(  52          s J     w             w   `*`*`+%`*` ` ` `P*

E%PI`P%	K$PD `f ` ,	`)&
@	`)&
@1`@`P
P$`/`*Pt               (   j(                               @   =   a                 
      $   J   9        &<      <      <	   m
   <   w    
          
   !`%:)**JP@	0P         O                 F   $   Sn$                                  g                                w         s J         s       (             s J   w  2             s J	   w  
       w     `*`PE/PH` `P
P `P
P$`P9
P   Qn>                              J   z         J   9      <   9     <    <	   <
      <      <   m   <   m   <   m   <   w                 w    @` `%*%(M	**JJJP> ` P9!P   q   Q                                 s J      s J   w         s J      s J   w   `P#P
P$`P#P
PDP   N	[   Q                                 s J      s J   w         s J      s J   w   `P#P
P$`P#P
P$P   b\   u                           J   K            KJ   J   J      w       Kw     w            	   
   w     ` ` P$`%P$` ` PIP  'l                         $    s                        w         J      	          w          J   9	   
   <   9     <      <   <      <      <   m   <   m   <   m   <   m   <   w                `.` `P.` `P!`%*%(N**JJJJP@0!P  |                   i   {   4   A4                                 w   `*P4   A4                                 w   `*PP   
oP                                  KJ   J   J   w  ` P$P(   Nd(                               @,  |                         $     (                       _         J   9        &   & &   & &<   	   <
   m   <   m   <   w                    !` `%%*
#)*JJP@0P,                           D   iSD                                        w   `.`*P(   j(                               @`   vl`   (                                      s J      w  `J`P
#PPL   L                                    s J      w  `PPP   
                                   s J   s  J      s K              s J   s  J      s Ks              'm   w  `P
PP+`	[
PPP(`.
P4JPP   #P      	                                m   w )`.PDDP  ~  S                +          J   (       J            KJ        KJ           &   &  &   &         s J     w 	    w  
    w         s J      w        s J   w         w       w        s J   m   w    '             w )      )             w +    `@`@` `?@`E8K8@(`P
(P$`*`*`PP$`P
P$`P$`!PD0`P
P>< ` P0? ` PIBP   gx7    `                                 s J   s     (                m   w    	   	    
   w     
`P
P ` 3P> `PIP   >u   U                           L                 s        s J   s  J      s Kw     `-
`[G[
PPPIPT   h6T   "                                s J        w  `PBPPT   h6T   "                                s J        w  `PBPP   1   V                                 s J      w        s J      w        s J   w   `PP$`PP$`P
PPt  (`td           	       B                      J                   KJ   &   &    KJ   &   &    KJ   &   &    KJ   &	   &    KJ
   &   &&.          KJ        0(  L          s J      w        s J   s           s J   s           s J   s           s J         &   &  &   &w          &   &  &w           &   &  &w  `* `f `	   !  `@&`@`P
P$`P
P(`P
P(`P
 P(`P
&&P$`#	P$`#	PPt               \  .L                   "                      J                   KJ   &   &    KJ   &   &    KJ   &   &    KJ   &	   &    KJ
   &   &&.          KJ        0(  L          s J      w  `* `f `	   !  `@&`@`P
PP\               |  a\                         $  J      s J                            J   9      <	   9
     <    <   <      <      <   m   <   w                            w                 w     `P-` `!`%*%(M**JP@0 `P0" `P9%P|  l                   @   \      /                             KJ   J   J            I        KJ         w           &	    s  &0uw       
       0uw     ` ` `/`*`&
&VGP>	 `C
PIPd   pd   -                                          m   w    @` `P9P      I                           %      h   i       i          h   i       i       `-`@; `@VL   {[0L                                    s J      w  `P(PP   c                                   s J   s  J      s K         Z   	          s J   s    	    
      &   &  &w        m   w     `P
PP+` `P
 P(`#
P$`P9
P@   p,@                                  w  `%P$P   Ag                                   s J   s  J      s K         Z   	          s J   s    	    
      &   &  &w        m   w     `P
PP+` `P
P(`#
P$`P9
P@   p,@                                  w  `%P$P   b   [   	                            J   9        &<      <   <   m	   <
   m   <   m   <   w I`%,)*&J	JJP4P4   3
4                                 w   `*P4   3
4                                 w   `*P@   @                                  w  `	P$P   B   _   	                            J   9        &   & &<      <   m	   <
   m   <   m   <   w )`%E
)*JJ
JP4P4   3
4                                 w   `*P4   3
4                                 w   `*P@   @                                  w  `	P$P   
l^   _   	                            J   9      <        &   & &<   	   <
      <   m   <   w )`%*
()**JP4P   l   -                       $      w                 !`	P  P   |                             v(      	                                s J      w        s J   w         s J   s  J	   
   s K             m   w I`PP$`P
P$"`P
PP*`
P4
P   hy   I                 	         J             s J      w        s J      w  `-`P
 P$`P
P$PL   vNL                                       m   w  ` 7P4PX  u#X                                         s J   s     l                   J      s 
                w       J	   9
      <          s J   s  <      <      <   m   <   m   <   w     `-`P
P(`*` P `P$`AF`%*P
P(**JJPIP   -   ^                  
         J                   w 1        J                   w 
   @	` `PN` `PI	P<   jD<                                    w  `P$P,  75S                                            J   1         J       Kw   0(  
      J   9      <   9	      J
   s  <    <   <      <   m   <   w  `@ `f `PD&`@`%*P-*JP4P,            D       <                 )         J                s J      s J      w        s J      s J      w        s J      s J	   
     &   &w              s J      s J      w        s J      s J      w        s J      s J	      w )    ` `PPP$`PPP$`PP*  J1P> `PPP$`PPP$`PPE
1PIP  q  m                 1               s J      w        s K "  	          s KL          s J   	   w     
   s K           
   s KL          s J   	   w        s K D   #          s KL          s J   	   w    +          w -      -          w /      /          w 1   @`P P$`P,`P,`PP$`P&,`P,`PP$`P,`P,`PP `P0 `P0 `P9P    *                &            w         s J   w         s J   w         s J   s            s J   s  J	   
   s K         s J   s       ?           *                             !            w #             m   w @`J`P
P$`P
PD`P
P("`P
PP*"`P
P(` `PI`+`,P4<P                    B           w    J             w         s J      w        s J   	   w     
   s J   s            s J   s           s J   s           s J   s          &  &   &  &   w   #       w         s J   	   w        s J      w     
   s J   s           1          s J   w         s J   w      m   w        s J         1&   &w  `*` `J`P"P$`P"P$`P
%P(`P
"P(`P
)P(`P
P(`
  `J`P"P$`P"P$`P
%P(`O`P
P$`P
 PD`PD*`P
!$PD,P  /E  $                !         J                s J   s           ?            *   
                        y          	   s J
   w               s J   m   w        s J      w        w    #          	   s J   w  !    ` %`P
P(` `P
P$`+`P
!PD`P
$P$`P0 `P
PIP      x                                s J   s  J      s K         s J   s             &   &  &   &&.   &`P
PP*`P
P(`
	 P@   KU@                                 m   w  `P4PX  X                                 s J   s           T            ?            *   
                        X        J	   (          
   s J   w  #          
   s J   w            s J      w  #`P
P(` ` `P
P `P
PI`PP$P   F,   U   	                            J   9      <      <        &	   & &<
   m   <   w )`%**
()JP4P   l   -                       $      w                 !`	P  P   |                             XF(J   s   	                            J   9      <      <        &	   & &
   & &<   m   <   m   <   m   <   w )`%**
(
0)JJJP4P4   3
4                                 w   `*P4   3
4                                 w   `*P   l   -                       $      w                 !`	P  P   |                          $   `U$                              0   %   B                 
               s J   s  J      s K          m   w  "`P
PP*`.P4P                              J           KJ        KJ      &  KJ   &    KJ              &  &   	    
   s J         1&   &w          w     ` `/` 2 `/`$+`P
!$PD`3PI
P\   8Q(\   '   	                                  &   m   w )`	&	P4P   6g   `                           W         J   9      <         &<      <	   m
   <   m   <   w     `-`%*+*JJPIP<   }<                                   w  `P$P<   7<                                    w  `P$PT  -T                                  s J   s  J      s K       (   	             m	   w       
                 s J   m   w    J                w               m   w     `P
PPK`,` NP>@!` `P
"PD&` `P$`1FF+` NP9FP   M                                          s J   s  J      s K      J   9      <	   
      &<      <      <   m   <   m   <   m   <   m   <   w     `-`P
PP+`%****JJJJPIP4   U4                                 w   `*P4   U4                                 w   `*P      ]                           J   J   s     +          w        J   w    
          w     
`P `*`P `PIP<   TA<                                    w  `P$Ph   EZh   .                              J          s J   s  w &`P
PP$P   D7                                       J   9      <   9      J   s  <   <	   
   <      <   m   <   m   <   m   <   m   <   w     `-`%*P-**J
JJJPIP4   U4                                 w   `*P4   U4                                 w   `*P      ]                           J   J   s     +          w        J   w    
          w     
`P `*`P `PIP<   TA<                                    w  `P$P   4$   w                                s J   s  J      s K       (   	             m	   w       
       w     `P
PPK`L` 3P>  `P9#P   M                                          s J   s  J      s K      J   9      <	   
      &<      <      <   m   <   m   <   m   <   m   <   w     `-`P
PP+`%****JJJJPIP4   U4                                 w   `*P4   U4                                 w   `*P      ]                           J   J   s     +          w        J   w    
          w     
`P `*`P `PIP<   TA<                                    w  `P$P   h1.   _   	                            J   9      <      <        &<	   
   <   m   <   m   <   w )`%**)*JJP4P@   @                                  w  `	P$P<   i[j<                                    w  `P$P   h1.   _   	                            J   9      <      <        &<	   
   <   m   <   m   <   w )`%**)*JJP4P@   @                                  w  `	P$P<   i[j<                                    w  `P$P   h1.   _   	                            J   9      <      <        &<	   
   <   m   <   m   <   w )`%**)*JJP4P@   @                                  w  `	P$P<   i[j<                                    w  `P$P   :d      	                   $       J   9      <      <        &	   & &<
   m   <   m   <   m   <   w                 !`%**
0)**JP@P         v              
   d   $   P$                                $   P$                                @   QI@                                  w  `	P$P   h1.   _   	                            J   9      <      <        &<	   
   <   m   <   m   <   w )`%**)*JJP4P@   @                                  w  `	P$P<   i[j<                                    w  `P$P   	N   s   	                            J   9      <      <        &<	   
   <   m   <   m   <   m   <   m   <   w )`%**)*J	JJJP4P4   3
4                                 w   `*P4   3
4                                 w   `*P@   @                                  w  `	P$P<   i[j<                                    w  `P$P  {        	          a               s J   s            s J   s           s J   s           s J   s           s J   s              J	   
   s K       &  &   &  &         s J   s     ?   !      J         &   &  &   &  &   w )          s J   s     ?   /      J         &   &  &   &  &   w 7          s J   s     ?   =      J         &   &  &   &  &   w E          s J   s     ?   K      J         &   &  &   &  &   w S          s J   s     ?   Y      J         &   &  &   &  &   w a   @`P
P(`P
P(`P
%P(`P
PH`P
PH	`)`)` 	PJ`


J`P
P `@
P)`P
P `@
P)`P
P `@
P)`P
P `@
P)`P
P `@
PPH  rh'(     	                   $                J   9      <      <        &<	   
   <   m   <   m   <   m   <   m   <   w                                  w     )`!`%**)*J
JJJP@ ` P$`1VH  8                      n   `   |3<`   .                                 s J      s J      w  `PPP$P`   |3<`   .                                 s J      s J      w  `PPP$P@   =2t@                                  w  `	P$P<   7<                                    w  `P$P                                      s J   s  J      s K          s J      w     	   s J
      w        m   w  `P
PP+`PP$`PP$`P45P  (x  z         	       \        J         J   9               &.       &.       &.       &.       &.    	   &.    
   &.       &.       &.       &.       &.            J             KJ               KJ                           KJ   &   &&.       &.         &   &&.            KJ   &   &&.            KJ   &   &&.            KJ   &   &&.       &.       &.             KJ   &!   &     KJ   &"   &&.    #        KJ   &!   &     KJ   &$   &&.       &.       &.    0(  #H     %   &.    &   &.  '    (   s J)     w '    *   s J+   9,   -   <.   /   <0   91   2   <3   <4   w (   X   '    (   s J)   5   w \    `M` `*` ` ` ` ` ` ` ` ` ` `  `f ` `	$ ` `	^@`	   `	] `	^ ` ` `	   ( `	   (@` `@/`@"` ` `P
 PD&`P
&%**%O& P>- `PPI0P                UM     	                                    &s J      s J   s        J   9      <	   9
    <      <   <      <      <   <   m   <   m   <   m   <   m   <   w )`PP
P)`%*%(O**&JJJJP4 P  r                                      &s J      s J      w           &s J      s J   	   	   w           &s J   
   s J   	   	   w  `PPP$`PP P$`PP P$P   fD
                                       &s J      s J      w           &s J      s J   	   w           &s J   
   s J   	   w  `PPP$`PPP$`PPP$P   P3   h                                    &s J      w        s J         &   &w        s J	   w   `PPD`P*  L%PD`P
 P$P<   i[j<                                    w  `P$P                                                &s J      s J   s         1   	                   m	   w       
       w     `PP
PI` `J
`		P>; `P9>P                            $           J   9      <         &<      <	   
   <   m   <   m   <   m   <   m   <   w                  `!`%*+**J	JJ&	JP@+@/P                         p     4                                      &s J      s J      w           &s J      s J   	   	   w           &s J   
   s J   	   	   w  `PPP$`PP P$`PP P$P                                          &s J      s J      w           &s J      s J   	   w           &s J   
   s J   	   w  `PPP$`PPP$`PPP$P  P?                  4         J             s J   w                        &s J      w        s J	   
      &   &w        s J      w        s J      w         J          KJ   &   &  KJ   &   &  KJ   &         s J	        &   &w        s J      w        s J      w 4    `-`P
 P$` 	`PP$	`P*  L*PD	`P P$	`P P "` 
`% & 8 	`P*tK*PD	`P P$	`P PIP<   jP<                                   w  `P$P$  p$     	                                s J   s  J      s KJ   s        e         J   9   	      &<
      <   m   <   m   <   m   <   m   <   w                 w    )`P
PPP(` `%>**J	JJJPN ` PP4   )rq4                                 w   `*P4   )rq4                                 w   `*P   d                  "                      J   f                KJ   &   &    KJ   &   &    KJ   &	   &&.     0(         ;      
       s J      w        w B      
          &s J      w           &w "    `*	 `f `	 + @#`@`	,`P
P$`P `P
P$`PIP            y   @   1`B@                                       w  ` P$P   8      	                                 &s J   s        `         J   9         &<      <	   m
   <   m   <   m   <   m   <   w    I`P
PH` `%?**JJJJP9P4   )rq4                                 w   `*P4   )rq4                                 w   `*P  	U                                          J   R                KJ   &   &    KJ   &   &&.     0(         	      &s J
      w  `*	 `f `	 !@#`@`P
P$P            e   @   1`B@                                       w  ` P$P   }   [   	                             J   9      <      <   m   <	   m
   <   m   <   m   <   w )`%**JJ
JJP4P4   3
4                                 w   `*P4   3
4                                 w   `*P\  L                                         J   R                KJ   &   &    KJ   &   &&.     0(         ,          	   s J
      w -                &s J
      w     `* `f `	 #@"`@`	,`P
P `P
PI
P\            e   @   @                                       w  ` P$P   }   [   	                             J   9      <      <   m   <	   m
   <   m   <   m   <   w )`%**JJ
JJP4P4   3
4                                 w   `*P4   3
4                                 w   `*P\  4L                                         J   R                KJ   &   &    KJ   &   &&.     0(         ,          	   s J
      w -                &s J
      w     `* `f `	 @"`@`	,`P
P `P
PI
P\            e   @   @                                       w  ` P$P   s      	                                s J   s  J      s KJ   s        J   9   	   <
      <   <         &<   m   <   w )`P
PPP(`%**&*JP4P                                     w        s J      s    )             s J   s        #          	   s J
   w      `	P$`P%P -P
P `P
PIP   0?      	                                s J   s  J      s KJ   s        J   9   	   <
      <      <   <         &<   m   <   w )`P
PPP(`%***&*JP4P  o  	                      $                J   z                KJ   &   &    KJ   &   &    KJ   &	   &    KJ
   &   &&.     0(  x          s J      w        s J      w       w                `* `f `	  $ * 9@ `@`P
 P$`P
$P4!`	P  P                                           6o%   H                  	                     s J   m   w        s J      w  `+`P
 PD`P
 PP   g(zF   e                                  s J   s        J      m   w        s J   9      <	   w &`P
P)`PD`P

P$Pp   {}dp   ?                              0             &   & &   &&.      `.`
$
 P   &Mc   H                  	                     s J   m   w        s J      w  `+`P
.PD`P
.PP   g(zF   e                                  s J   s        J      m   w        s J   9      <	   w &`P
P)`PD`P

P$Pp   {}dp   ?                              0             &   & &   &&.      `.`
$
 P   G   F                 	                     s J   m   w        s J      w  `*`P
6PD`P
&PP   *X   `                                         s J   s  &   &s J         w        s J   w  &`,P
P
P AP$`P
P$P   $j   F                 	                     s J   m   w        s J      w  `*`P
(PD`P
PP   B   `                                         s J   s  &   &s J         w        s J   w  &`P
P
P 3P$`P
P$P  S                 J                       J         s J      s J   s  w        s J   s  J	   
   s K         s J   s  J   s           s J   s  J   s           s J   s  J   s           s J   s  J   s           s J   s       J   9      <      <   <        &   &   &   &  &   &  &   &  &   &  &   &  &<   m   <    m!   <"   m#   <$   m%   <&   w @` `PP
#PPD"`P
PP*`P
P
P(`P
P
P(`P
P
P(`P
P
P(`P
PH`%**&"2% *JJJ JP4%P4   3
4                                 w   `*P4   3
4                                 w   `*P   ^)   J                  
              s J      w       w        s J      w @`P!P$`P$`PPDP@   @                                       w  ` P$P                                       &s J      s J      s       1               &s J      w ,               &s J	      w     `PPP(`.`PP> `PP9P   d      	                                s J   s  J      s K      J   9      <	   
   <         &<   m   <   m   <   m   <   m   <   w I`P
PP+`%***J	JJJP4P$   g$                                $   g$                                @   @                                  w  `	P$P@   @                                       w  ` P$P   Hs   s                               s J      s .             s J      w )   	          s J      w     `P
P-`P P> `P P9P   )                                  5          s J   w         s J   w        9   	   <
   9   <      <      J   <   m   <   m   <       `P
P$`P
P$`-%***/JN4P                                J   s  J   s     i             s J      s J   	   w        s J   
   s J      w              w     `

P
P `PPP$`PPP `P$`AVX  ZPX     '                                    5             &   &z         J   <             s J      s J	   
   w 7             s J      s J      w           s J      s J      w  `.` `PPP `PPPI`PPPD	Ph   h   3                                 s J   w         s J   w   `P
P$`P
PP   8                                          J   S                KJ   &   &    KJ   &&.        0(            	   w  `* `f `	+ $ `G)`@`	PP             f                                         s J   s        f         J   9         &<      <	   <
   m   <   m   <   m   <   m   <   w     `P
PH` `%1**&JJJJP9P4   )rq4                                 w   `*P4   )rq4                                 w   `*PD   ,ID                                     w  `P$P<   G)2<                                    w  `P$P      f                 
                    &.         &.          s J      w        s J      w  `J` ` `P
P$`PPP  *4|                                  s J   s            s J   s       J   9        &   &   &<	   
   <      <   <   m   <   m   <   m   <   m   <   w  `P
P(`P
PH`%+***&JJJJP4#P4   )rq4                                 w   `*P4   )rq4                                 w   `*P  Pt                             KJ      #                w x                w        s J	   
   w        s J      w           w     w      ` ` P> ` P$`PP$`PP$` P$`OP<   m<                                    w  `P$P      z                               s J   s        J   9         &   &  &<   	   <
   <   m   <   m   <   m   <   w  `P
PH`%8*)*&J
JJP4!P4   3
4                                 w   `*P4   3
4                                 w   `*P  AY           	       .                   J                          KJ              KJ   	   W   
             KJ   &   &    KJ   J   s  &	   &&.     0(              KJ   &   &    KJ   J   s  &	   &&.    0(  $   
       s J        )         )     )   w 
       s J     w @`*`*`-`&
 `f/`1 `	!  P `@`	!  P@`@`P
& P$`P
%PDP         -      8  8    	              *                   s J   s            s J   s              
      
                            w                                 -          	   s J
   m   w (             s J
   m   w                        w  "      J   (   %             m   w    (          w *   I`P
P)`P
PI	` `P$`1QF`@` `P
"P> `P
#PI` `P$`1QF` ` 0P>N `P9QPh   |h   .                              J          s J   s  w &`P
PP$Ph   |h   .                              J          s J   s  w &`P
PP$P   Ln=                                       J   9      <      <   9      J	   s  <
      <      <      <   <      <   m   <   m   <   m   <   m   <   w     `-`%** P

+/*J
JJ'JPI-P4   U4                                 w   `*P4   U4                                 w   `*P                    R             s J      w                   &                 J      
         K           &s J   9	   
   <   w          &s J        &s J      w          &s J      s J         w          &s J      s J      w    0(   *   "  *             w    ,         J      /         K           &s J      w          &s J        &s J      w          &s J      s J      w          &s J      s J      w    0(   M            O      O      P       w  R    `P!P$
`  `f `/	`P

P$	`P
 PP$	`PP;P$	`PP "PD2`0 ` P$ `f `/	`PP$	`P
 PP$	`PP P$	`PP "PD2`@
` `OP         N                 <   TA<                                    w  `P$P   l6u                                    s J   s  J      s K          s J   s                      s J	   m
   w           m   w @`P
PP+`P
P)`@`P
"PD	`   nP4RPh   2
h   .                              J          s J   s  w &`P
PP$Pp  p                   "                  J   9      <      <   9      <	      <
   <      J   s  <   <      <   m   <   m   <   m   <   m   <   w a         -             s J      w (             s J      w "    `-`%**

P-*J
JJ;JP>@ ` `PP `PPIHP4   A4                                 w   `*P4   A4                                 w   `*P                    N             s J      s J   9      <   m	   <
   w                s J      s J      s J      s        &.    J                 J   s        ,           &.         KJ   3   !            KJ   &   &&.  s   &         (        )   3   *            KJ   &   &&.     /        &.  0            KJ   &   &    KJ   J    s  &!   &&.     0(      +!   @     "   &.     B     0(  D      D     #   &.  E     $   &.    J      I     %   &.  J       &   s J'     w @`P!P
%*J6PD`&`*%`PPP"PH
`@	`@ `f ` 	`@` `	] ` 	`	]0 	`@`	  P@`+` 	` 	`L#`0% `@(` 	` `@,`P
%P$P              X   ef:X   #                                  s J   s  +` P
PQ<   7<                                    w  `P$Px  Sm^x                    '               s J   s                                s J   m   w        s J   m	   w    J
   9      <      <   9      J   s  <      J   s  <   <   <   m   <   m   <   m   <   w  `P
P)` #`@`P
"PD
`P
0PD`%**P*P-&JJJP4%Ph   vsvh   .                              J          s J   s  w &`P
PP$Ph   h   .                              J          s J   s  w &` P
PP$P4   3
4                                 w   `*P4   3
4                                 w   `*P   ;                                      w        s J      w    -             s J	   
   w (             s J	   
   w    @` P$`P!P$` `PP `PPI
P   O                                   s J   s  J   s  J      s K      J   9   	   <
      <   9      <   <   <   m   <   m   <   m   <   w  `P
P
PPJ`%**.&JJJP4P4   3
4                                 w   `*P4   3
4                                 w   `*P`   zL`   +                          J             s J      w  "`-`P
$P$PD  kD                                  s J      w                  s J   m   w    J	   \         J
   9      <      <   <   m   <   m   <   m   <   w              w        w   `PP$`@`P
"PD
`@`%**&JJJP>2 `PI5`Pl   Ool   .                              J          s J   s  w F`P
PP$P4   BeQ4                                 w   `JP4   3
4                                 w   `*P0  m!                   4             s J      s J   9      <   m	   <
   w         J            s J      w        s J      w                    KJ                   KJ   &   &    KJ   &   &    KJ   &   &          s J      w            KJ   &s J          KJ   w 2     0(  4   @`P!P
%*J4PD`*`-`PP$`PP$
 `f/` ` / ' `P
P$`P9PI`@P0               X   DX   #                                  s J   s  +&` P
P'Q  !N  \                 3              s J      w                  s J   m   w                  s J   m	   w    J
   z         J   9      <   9      J   s  <   <      <   <   m   <   m   <   m   <   w    '          w )          s J   m    w     !   s J"   m#   w  `P,PD`@`P
"PD` `P
"PD`@`%* P-*&J'J*JP>E `PIJ`P
PD[`P
/P4bPl   Ool   .                              J          s J   s  w F`P
PP$Pl   3il   .                              J          s J   s  w F`P
PP$P4   BeQ4                                 w   `JP4   3
4                                 w   `*Pt  C+7d  x                W              J            s J      w        s J        &   &w               	       KJ
   &   &    KJ
   &   &  &   &    KJ   &   &    KJ   &   &          s J      w            KJ
   &s J          KJ   J   s  w            KJ
   &s J          KJ   w   0(  9     s   ;          s J      s J   w         s J         w        s J   w  n   I          s J   w         s J         w        s J      s J   w  W   @`*`-`PPD`P
PD	
 `f/` 3 3  `P
PD`	PE PP$`	P\PD	`@` `PP
CP$`P P$`P
P `P
P$`P P$`PP
	PIPt         d   '     MY"  o        
       1               s J   s     *             s J      w  
                s J   s  &s J   	   s J
      s                   J                   KJ
      s K&   &     KJ
      s K&   &     KJ
      s K&   &&.    0(  d-          s J     w F`P
P `P,P$`AF`	P
PPPP(`* `f `	 P$ P P@	'`@`P
1PDP                   Q(                                     s J      s    .             s J      w )   
          s J      w    &`PP `P !P `P !PIP  70  k                               s J   w      s            s J   w         s J   	   w    
                               s J   w         s J   w         s J   w         s J   w         s J   w      w     w  *         ?   ,         *   .            0         1   	  2          s J   s     )   8          s J   s     =   #   >          s J   w  B          s J   w        A   H          s J   w      w      w      w  R         (   T          s J   w  #   X          s J   w  \          s J   w         s J   w         s J   w         s J   w         s J   w          s J!   "   	   w       #   v          s J   w  z         s   |       #   s J   w      $   s J   w      %   s J   w      &   s J   w  n          %   s J   w      &   s J   w      %   s J   w      &   s J   w      `P
P$`.`P
#P$`PP$` `P
P$`P
P$`P
P$`P
P$`P
PD`P$`O` `P
P P
P `P
PI`P
P$` `P
#P$`*`*`O` `P
P `P
PI `P
P$`P
P$`P
P$`P
P$`P
P$`P PD'` `P
PI,` `P
P$`P
P$`P
P$`P
P `P
P$`P
P$`P
P$`P
P98P<  *"<                                 5                    s J   m   w    J   l   
      J   9   	      J
   s  &<      <   <   m   <   m   <   m   <   w              w    @`@`P
"PD`@`%5PI*&JJJP>A `P9GPl   Ool   .                              J          s J   s  w F`P
PP$P4   BeQ4                                 w   `JP4   3
4                                 w   `*PT  vbt4  p                F                 5 	         s J   w           J                    J     
         K      J   T                  &z ~  &   &   KJ	   &
   &&.         &.         &.               J                  KJ   &   &       &z   &   &      KJ   &   &      KJ   &   &      KJ   &   &   KJ   &   &   KJ	   &   &&.      0(   '=         &.      0(   K@      @         &.   A         &.          s J      w  `P
P$`K
` 	 `f `@	` `
.P `@`@ `f `
% BP         %@#`@`@(`0 `@!` `P
#PD%PT                     _     d   sd   -   	                                  &   &   m   w @`	1P4.P   <P   n                           c         J   9         &   &<      <   <	   m
   <   m   <   m   <   w     ` `%4 *&JJJPIP4   A4                                 w   `*P4   A4                                 w   `*P   $F   l                           KJ                w A            KJ      w        s J   	   w     	` `P `P$`PPIP  Rl     '                                    5          s J      w    J   9         &   &   &<	   
   <      <   m   <   m   <   m   <   m   <   w  `PPD`ELK**JJJ  JP4  P4   3
4                                 w   `*P4   3
4                                 w   `*PT  oD                                  5      K            KJ                            s J   w         s J   w                 KJ	      ,         KJ	   J
      s          KJ      ,         KJ   J
      s           B  "      K    	      
         s J   s        )    
     &. 
  *    
     &. 
                 +         KJ     /      K   KJ      {  4       
            0(   z   &   &   K   KJ   &   &   K   KJ   &   &   K   KJ   J   s  &   &&. 
     K   KJ         Q    
         K   KJ!   &"   &   K   KJ!   &#   &   K   KJ!   &   &$   &   &%   &&   &&. 
  N   g    
         K   KJ!   &"   &   K   KJ!   &'   &&. 
  r          s J   s        x      K   KJ(      S   }    
  )      K   KJ!   &"   &   K   KJ!   &*   &&. 
  N       
  +      K   KJ!   &"   &   K   KJ!   &,   &&. 
      
  -   &. 
  @        .   .                0(   z   &   &   K   KJ   &   &   K   KJ   &   &&.      K   KJ/      #         K   KJ/         D         0      K   KJ   J   s  &1   &&.   ?         0      K   KJ   J   s  &2   &&.         0(       
  3   &. 
     3   &.            KJ   T                    K               KJ4                  KKJ5        6         KKJ7   1         8      KKJ7   &9   &&.         KKJ:   1         ;      KKJ:   &9   &&.         KKJ<   1         =      KKJ<   &9   &&.         KKJ>   1         ?      KKJ>   &9   &&.        KKJ@   1        A      KKJ@   &9   &&.        KKJB   1        C      KKJB   &9   &&.        KKJD   1        E      KKJD   &9   &&.   $     KKJF   1   )     G      KKJF   &9   &&.   /     KKJH   1   4     I      KKJH   &9   &&.   :     KKJJ   1   ?     K      KKJJ   &9   &&.   E     KKJL   1   J     M      KKJL   &9   &&.   P     KKJN   1   U     O      KKJN   &9   &&.   [     KKJP   1   `     Q      KKJP   &9   &&.   f     KKJR   1   k     S      KKJR   &9   &&.   q     KKJT   1   v     U      KKJT   &9   &&.   |     V      KKJ5   &W   &&.              X   &.        3   &.   (         Y   s JZ   [   w   \      KKJ%   &]   &    ^   s J_   s  &`   &   KKJa   &b   &   KKJc   &d   &   KKJe   &f   &   KKJg   &h   &      9            
  &   &   &2   &&.   (            
  &2   &&.        i   &.          s JZ      w   3                  s JZ      w    ` `'`'`P
&P$`P
!PD`+`+`" ` 0PN`$ ` 4PN` `.%`' `K
`P
P `@`@ `K`'`'	 `f 	` `'`*P ) ) P ` 	`
\ $ N @+	`
\ $@-`P
P ` 
`
Y $@1
`
Z $@7`0: `'`,`*P/  
` `
  P0F `
  P@!$`@L` `@O`+` ` $@T	` `KZ
` `
I 
` `
H 
` `
A 
` `
B 
` `
K 
` `
G 
` `
B 
` `
E 
` `
M 
` `
P 
` `
C 
` `
G 
` `
I 
` `
L@w
` `
I@z`
^@  `/	`@  ` `PP  `E  n@  &[
$P    @  	` `*, `* ` `P
&P `+`P!P PT             (   )(                               @   y                                   s J   s           &     J   9        &   &<	   
   <      <      <   m   <   m   <   m   <   w @`P
%P(`*`%= ***JJJP4P4   3
4                                 w   `*P4   3
4                                 w   `*PX  H                                 J                  J                s J   s      KJ   B                KJ   &   &    KJ	   &
   &&.        0(  k          s J      w  `*` 	 `f 	`P
P `	 @!`@
`P
P$PX         $        td  <                1              s J   s  J      s K          s J      s          s J   	   s                    J
   9        &   & &   & &   & &   & &   & &   &   &   &  &   &  &<      <   <   m   <   m   <   m   <   m   <    w @"`P
%PP*`P P(`P P(`,`+`%1
#



+
:)**&JJJ'JP4+P4   3
4                                 w   `*P4   3
4                                 w   `*P   Q\]                                              w N           #                w                &w        w  	    
   s J      w @` `P.` ` P@`aPI`*`PPDP$   g$                                  t    	              )                   s J   s            s J   s  J      s K                                           	   w     
                            -             s J   m   w (             s J   m   w !      J   (   $             m   w    '          w )   I`P
P)`P
PPL	` `P$`1LF`@` `P
"P> `P
PI` ` 0P>I `P9LPh   |h   .                              J          s J   s  w &`P
PP$Ph   |h   .                              J          s J   s  w &`P
PP$P   Ln=                                       J   9      <      <   9      J	   s  <
      <      <      <   <      <   m   <   m   <   m   <   m   <   w     `-`%** P

+/*J
JJ'JPI-P4   U4                                 w   `*P4   U4                                 w   `*P  9                  R             s J      w                   &                 J      
         K           &s J   9	   
   <   w          &s J        &s J      w          &s J      s J         w          &s J      s J      w    0(   *   "  *             w    ,         J      /         K           &s J      w          &s J        &s J      w          &s J      s J      w          &s J      s J      w    0(   M            O      O      P       w  R    `PP$
`  `f `/	`P

P$	`P
 PP$	`PP;P$	`PP PD2`0 ` P$ `f `/	`PP$	`P
 PP$	`PP P$	`PP PD2`@
` `OP         N                 <   TA<                                    w  `P$Pl  
Ol                    #           w         s J      w        s J      w                  s J	   m
   w    J   \         J   9      <      <   <   m   <   m   <   m   <   w    !          w #    `*`P,P$`PPD`@`P
"PD`@!`%**&J)J,J!P>H `P9KPl   Ool   .                              J          s J   s  w F`P
PP$P4   BeQ4                                 w   `JP4   3
4                                 w   `*P0  P~                   4             s J      s J   9      <   m	   <
   w         J            s J      w        s J      w                    KJ                   KJ   &   &    KJ   &   &    KJ   &   &          s J      w            KJ   &s J          KJ   w 2     0(  4   @`PP
%*J/PD`*`-`PP$`PP$
 `f/` ` / '@`P
P$`P9PI`@P0               X   DX   #                                  s J   s  +&` P
P'Q  "  .                $               s J   s  J      s K          s J   s                         	   s J
   m   w        s J   s     )             s J   s                                      J      w           m   w @`P
PP+`P
P)` `*`P
"PD	`P
P P
 P ` `O`P$`		P4WPh   2
h   .                              J          s J   s  w &`P
PP$Pp  2p                   "                  J   9      <      <   9      <	      <
   <      J   s  <   <      <   m   <   m   <   m   <   m   <   w a         -             s J      w (             s J      w "    `-`%**

P-*J
JJ:JP>? ` `PP `PPIGP4   A4                                 w   `*P4   A4                                 w   `*P  \                  N             s J      s J   9      <   m	   <
   w                s J      s J      s J      s        &.    J                 J   s        ,           &.         KJ   3   !            KJ   &   &&.  s   &         (        )   3   *            KJ   &   &&.     /        &.  0            KJ   &   &    KJ   J    s  &!   &&.     0(      +!   @     "   &.     B     0(  D      D     #   &.  E     $   &.    J      I     %   &.  J       &   s J'     w @`P!P
%*J6PD`&`*`PPPP(`@	`@ `f ` 	`@` 	`	] ` 	`	]0 	`@`	  P@`+` 	` 	`L#`0$ `@'` 	` `@+`P
%P$P              X   ef:X   #                                  s J   s  +` P
PQ<   7<                                    w  `P$P8  s8                                             s J   m   w    J   z   
      J   9   	   <
      <   9      J   s  <   <   <   m   <   m   <   m   <   w              w    @`@`P
"PD	`@`%**$P-&JJJP> `P9 Ph   xVSh   .                              J          s J   s  w &`P
PP$P4   )rq4                                 w   `*P4   )rq4                                 w   `*PH   YKNH                                w         w  `*`P$P8  {s>8                                             s J   m   w    J   z   
      J   9   	   <
      <   9      J   s  <   <   <   m   <   m   <   m   <   w              w     `@`P
"PD`@
`%**$P-&JJJ
P> `P9 Ph   xVSh   .                              J          s J   s  w &`P
PP$P4   )rq4                                 w   `*P4   )rq4                                 w   `*PH   YKNH                                w         w  `*`P$P   ^#R   q                                s J   s            s J   s  J      s K     J   	      &
   &  &w  `P
P("`P
PP*`E0PP   @>   O   0                                        5          s J   m   w  `P
P4P   _,W                                  5         9      <   9     <     <   <	   
   <      J   <   m   <   m   <       `#%*%*O*/JNDP   C)d   R                  
        J   s  J   s               w               w 
    	`

P
P ` `P$`AV   (*   f   '                                    5             &   &z <         w         w  `.`*`	P$P   V   d                               m   w    J   	 x+          s J   s           s J	      w @`PD` `PP(`P
PP  i}           	                         J       B             s J         &   &w     w          J	              J
   7         J       KJ   w   0(        J      s          s J        &   &w     ` `-` `P
 P$` `- `f `PD(`@` P(`P
yPIP            K   l   Nl   0                                s J      w        w  `P P$` PPL   /8>L                                      m   w  ` 0P4"PD  2D                                                    s J   m   w    J   z         J   9   	   <
      <   9      J   s  <   <   <   m   <   m   <   m   <   w              w     `-`@`P
"PD` `%**$P-&JJJ	P> `PIPl   :l   .                              J          s J   s  w F`P
PP$P4   Ig4                                 w   `JP4   4                                 w   `*PD   GD                                      w  ` PDPl  L  |               O      $                &   &   &   & &   &   &   &                             	              
    s                     s J   s  J      s K    J   s        #          s J   s           s J      s W   ,        &   &  &      .   1        &   &  &   &  &   6   g   6     X   8       &         ;        <   "   =       &   &  &   @      J   9      <      <    <!      m"   <#   m$   <%   m&   <'   m(   <)   w    O        O    `
C

 `P)`P)`*`,`PL`,$`P
PP*`P `P
PH	`PP-`3$*
`,`3.
@`,`.)` `,
$>!`%)*&J J#J8JP@<@?Pl  \  *   j               [   (   Nd(                               @(   Nd(                               @   x   Y                       $               w        w       w                  `N`0PA`P$`	P @P         G                 !   <   7<                                    w  `P$Pt  o>d                                  5           s J   w                        w     J               	                	                   
   s J   s           ,                                                 
        ,                                                                  J      s &   &&.          s J   s        )         &.   *          
  &   & 
  &   & 
  &   &   &    & 
  &!   &&.       
   s J   s     {   ;       
   s J   s  "   R   A       
   s J   s     )   G       
   s J   s     L   !   M      #   &.      N      $   &.   O      %   &.      &          &             T         B  V            S   X         KJ	   '   &      KJ   &'   &      KJ(   &   N   e         KJ   '   &      KJ(   &'   &      KJ	   &   r         KJ)   J*   s        y         KJ)      |   +   |            KJ,   J*   s                 KJ,         +                     KJ-                   KJ-                     KJ.                   KJ.               KJ/   0               KJ/            1                        KJ/   0               KJ/            2                        KJ3   0               KJ3            4                "        KJ3   0               KJ3            5                        KJ6            +               KJ6               KJ7   0               KJ7            8                        KJ9   +   >            KJ:   ;               KJ:            <                        KJ9   +   >            KJ:   ;               KJ:               0(         J=         KJ>   s *         J?         KJ>   w       J=         KJ@   s *        J?         KJ@   w      A         KJ>   &B   &      KJ@   &C   &      KJD   &E   &   &'   & "  &'   &   &'   &   &F   &&.      G      &&H   &&.          s J   s  I     )        KJ9   +   >   .        KJ:   ;      3        KJ:   7  ~   8     J      &'   &   &K   &      KJD   &L   &      KJD   &M   &      KJD   &N   &&.      L     O   &.   M     M        KJP      !   R     Q   &.   y   S     J      &'   &   &K   &      KJD   &L   &      KJD   &M   &      KJD   &N   &&.   g     R         KJD   &S   &      KJD   &T   &      KJD   &U   &      KJV   &W   &   &X   &&.          s J   s     (        Y      &X   &&.        Z         KJ   &[   &      KJ(   &\   &      KJ	   &]   &   &^   &      KJ_   &`   &      KJa   &b   &   &c   &      KJ>   &d   &      KJ@   &e   & 
  &f   &   &g   & 
  &f   &      KJh   &i   & 
  &f   &      KJj   &k   &      KJl   &m   &      KJn   &o   &      KJp   &q   &      KJr   &s   & 
  &t   &      KJD   &u   &      KJv   &f   &      KJw   &X   &&.       
   s J   s     {         
   s J   s  "   R         
   s J   s     )         
   s J   s       8        G         KJx   &X   &&.   (        y      &X   &&.        z         KJ{   &|   &      KJ}   &~   &      KJ   &   &      KJD   &   &      KJD   &   &      KJ/   &   &      KJ/   &   &      KJ   &   &      KJ   &   &      KJ   &   &      KJ   &   &      KJ   &   &      KJ   &   &      KJ3   &   &      KJ3   &   &&.      0(   U        &.          s J      w    #   \         s J   w  `            s J   9      <      <   9      <   <   <   s           s J   w            w           w        s J         KJ   &+   &   KJ   &   &w    KJ              KJ        n            s J             KJ   z   &&+   &       KJ   z   &&   &w          s J         KJ   w        s J         KJ   w        s J             KJ   z   &w        s J             KJ   z   &w        s J      s J      m   w        s J      s J      m   w        s J      s J      m   w        s J   w         s J      m   w        s J   s   !         s J   s            s J   s   	         s J   s      !  J   s              !          J   s     (                 &&.         J   s     (                 &&.   	         s J         1&   &w           s  #   #  J   m   w  `P
!PD` `,`*` `'`+`K` `+`@#`P
P)$`  ` `K`J% P@)	`P
P `@-`J6,,,L= `P
P P
 P P
 P P
 P ` `@C`@P`'` `  `f@V`+` ` 1 '@Z` 2 (@\`  P ` -P `+` ) `@d`+` & `@l` ` ` ` ` # ` `Ct` `@z` P-` PI}` P-` P `
 6 E ) `
 `P
P ` `
: , U ` ` ` `
: , U `
W ] : ?  `P
P `
- `
7 4 2 >,# $ % , 6 $,5 ! 0 9 A + (% 1 & `P
P P
 P P
 P P
 P `
 `
" `
= D D ) = G L ? H ; G > G / @@S`@  ` `P
"P$` 	`P
P ` 	P
%%
*
*
% G  'PI  `P
P `
P$	`
P$`P
 - P$` `P
P 9P P `P+P$`P+P$
`P,P
P$`P,P
P$	`PP#PD  	`PP"PD 	`PP$PD S	`P
P$	`P PD `P
%P)`P
"P)`P
)P)`P
P `
P ` `P ` @ `P `  `P
!$PD #` `P)`PD <Pt           S     8   p                                s J      s           s J      s J   s             &  	   w &`PP(`PP
P(
`
	P$	P  +                                 s J      s           s J      s J   s                s J	   s  
   5             s J      s J   s              s J      s J   s           s J      s J   s           s J      s J   s           s J      s J   s           s J      s J   s           s J      s J   s           s J      s J   s  	         s J      s J   s  
         s J      s J   s           s J      s J   s           s J      s J   s           s J      s J   s           s J      s J   s           s J      s J   s           s J      s J   s    9     <     <     <     <     <      <!     <"     <#   	  <$   
  <%     <&     <'     <(     <)     <*     <+     <,     -         w F`PP(`PP
PH$`*`P
P `P	P
PM	!`PP
P(&`PP
P(`PP
P(`PP
P(`PP
P(`PP
PH`PP
P(`PP
P(`PP
P(`PP
P( `PP
P((`PP
!P(`PP
P(+`PP
$P(+`PP
$PH`%))))))))))))))))N.
`P$	P                   y                 s J   s           s         s J      s J   s          s J      s J   s          s J      s J   s          s J   	   s J   s          s J   
   s J   s          s J      s J   s          s J      s J   s          s J      s J   s  	        s J      s J   s  
        s J      s J   s          s J      s J   s          s J      s J   s          s J      s J   s          s J      s J   s          s J      s J   s          s J      s J   s    9     <     <     <     <     <     <     <   	  <   
  <     <      <!     <"     <#     <$     <%     <&     '        w F*`P
P(`P(`PP
P(!`PP
P(&`PP
P(`PP
P(`PP
P(`PP
P(`PP
PH`PP
P(`PP
P(`PP
P(`PP
P( `PP
P((`PP
!P(`PP
P(+`PP
$P(+`PP
$P(`%)))))))))))))))N'
`P$	P4  84  x        	                       s J      s T          s  #          w      w               w               s J      s T          s  #          w      w               w               s J   	   s 6   !   
    s     $       m   w '   5  '         s J      s   ,                s J   s     {   2          s J   s     R   8          s J   s     )   >          s J   s     C   *   D         &.         &.   F         &.             m   w   J         s J      s    O       w    Q         s J      s    V       s      J      [        !   "   !   m#   w     $   s J%   &   s '   -   f       (   s J)   *   w (   j       (   s J)   +   w n      n     n         s J   ,   s    s       s      J   r   x          -   s J.   m/   w          0    w            1   2   w              3   4   w                s J   5   s _          s      J         6    w            3   4   w                s J   7   s Z          s      J         0    8   w           3   4   w    &`PP-` `*`0 `P@	`PP-` `*` `P@`PP-` `P@#`PP `*	`P
P P
 P P
 P P
 P ` `@*`@,`		PN1`PPM5`@@`PP-%`.`@D`*
$
PDh`P"P `PP `PP0mJp`PP-%`Ns` `'`P
PD|` `@` P ` P `PP-%` ` ` ` P `PP-%`.` `#P ` P 	P  ;                             J   ~                   s J   m   w        s J      w 	       w     
   s J   w  #          
   s J   w         w   ` `+`P
!PD`P
%P$`P$`P
P `P
PI`*P   )   x                                s J   s  J      s K         s J   s             &   &  &   &&.   &`P
PP*`P
P(`
	 P\   \   &                                         s  w     `-`VPIP  w  \                -         J   3            s J   w         s J   m   w   KJ        KJ   	   &  KJ
   &         s J   s          &  &         s J        1&   &w           s J   m   w       '       w     )             w +      +             w -    ` `P
P$`P
$PD!`/ ` # !`P
P(`
*`P
!$PD`'`P
PD` `@` P ` PI#P   /   h                                s J      s           s J   s  J      s K  	         m
   w  /`P-P(!`P
PP*`APD
P   9c   E                           J   !               w              w     ` `3P `PIP$  Hc$                                  s J      s          s J      s         s J   s     B                &s J   	   s                           & `PP('`PP(`P
P PP `LP   |K                                   s J      s          s J   s     -   
             &s J      s                 &`PP(`P
P PP `'`AV  T
          
       1           J   n      #  J     s     #  J      s    #  J      J        s    J        s &s J         J   w    J   m       #  J      J        s    J        s &s J	   
   s J      w h   !    #  J      J        s    J        s &s J	   
   s J      w .       w        1         1        &`  `P(`P(`	P	PPC
P$` `	P	PP3PP `	P	PP3PPI`*`/`*`AF`*P  RcR                   #               s J   s            s J   s  J      s K          s J   s  J      s K                                  	              
   s J   m   w    J   #                 m   w #   @`P
P)#`P
PP+`P
PP,` / `L	` `P
PD` ` ;PI2P      ^                                  s J      s 6         J          s J      s w    &`PP-`PPP)P  7W                                      J   9      <      <      <	   9
      J   s  <      <      <      <   <   <   m   <   m   <   m   <   m   <   w     `-`%***%P(**O&JJJJPI P4   4                                 w   `*P4   4                                 w   `*P@   u<@                                  w @	`PDP@   n@                                       w  ` P$Ph  Jh                   #               s J   s            s J   s  J      s K         s J   s  J      s K                              	   
   	      J         &   &  &   &  &   &	   &w  `P
P(#`P
PP*`P
PP+` / `K`@
`:0.FP$PD  wRD                                  s J   s            s J   s  J      s K         s J   s  J      s K                              	   J
         &   &  &   &  &w  `P
P(#`P
PP*`P
PP+` / `K`>0._P$PD  >D                                  s J   s            s J   s  J      s K         s J   s  J      s K                              	   J
         &   &  &   &  &w  `P
P(#`P
PP*`P
PP+` / `K`L0.QP$P   | l   y                               5         9      <   9   <      <	   
   <      J   <   m   <   m   <       `$%****OJND8P  
  v               /          J   s  J   s     (       J   s  J   s        
         w         s J   s         	   s J   s  J
      s K         s J   s  J
      s K        "        #      $        $     J   9      J   <      <     <     <   w    -          w /   &	`

P
P $P
P `*`P
P(2`P
PP*`P
PP+	` `O
`%/))I
P> `P$`AV          '                                    5       w            &   &z |        J      *   	          J   KJ	   w           
   w           s J      w  `*`.	`@
` P> `PI`PPDP\  ]\                                   s J   s            s J   s  J      s K         s J   s  J      s K                              	     
   J         &   &  &   &  &   &  &w  `P
P("`P
PP*`P
PP+` `+`J	`:0.FP$P   y^   d                                9      <   9   <      <	   
   <      J   <   m   <   m   <      @`,%****O	JND#P  r  P               *          J   s  J   s     (       J   s  J   s                  w         s J   s  J	   
   s K          s J   s  J	   
   s K                                     J   9      J   <      <     <   w    (          w *   &	`

P
P $P
P `*&`P
PP*`P
PP+	` `O	`%/)I	P> `P$`AVX   InX   "                             w      w       w  `*`*`P$P   '                                    s J   s           9      <   9	   <
      <      <      J   <   m   <   m   <       `P
%P)`%%****O	JND"P    g               0          J   s  J   s     (       J   s  J   s                  w         s J   s  J	   
   s K          s J   s  J	   
   s K 9             s J   s  J	   
   s K   %   %       J   9      J   <      <     <      <   w    .          w 0   &	`

P
P $P
P `J&`P
PP*`P
PP P
PP@`%/))JP> `P$`AVX   InX   "                             w      w       w  `*`*`P$P   qJQ                                    s J   s           9      <   9	   <
      <      <      J   <   m   <   m   <       `P
%P)`&%****O	JND"P    g               0          J   s  J   s     (       J   s  J   s                  w         s J   s  J	   
   s K          s J   s  J	   
   s K 9             s J   s  J	   
   s K   %   %       J   9      J   <      <     <      <   w    .          w 0   &	`

P
P $P
P `J&`P
PP*`P
PP P
PP@`%/))JP> `P$`AVX   InX   "                             w      w       w  `*`*`P$P  EF  4                 .                     w      w         s KL          s KL       	   s KL       
   s J      w        s J      w        s J      w        s J      w        s J   w         s J   w         s J      w  ` `*`*`P,`P,`P,`P P$`PP$`P"P$`P"P$`P
 P$`P
P$`P P$P   M                                   s J   s  J   s  J      s K         Z         J   9	   
   <   9      <   <      <   m   <   m   <   w    @"`P
P
PPJ` `%*.*JJP9Pt  o)d                                         J   R                KJ   &   &    KJ   &   &&.     0(            s J	      w     
   s J   w    J                w              w    @`*	 `f `	 @"`@`P
P$`P
PD	` `!PN`P)Pt            e   <   <                                    w  `P$PX  	RX     	             #                            s J   s  J   s  J      s K       	   s J   s       
   w         J   9      <   9      <     <   <      <   m   <   m   <   m   <   m   <   w #   )` `P
P
PP*`P
P(` `%*	.*JJJJP9#P4   )rq4                                 w   `*P4   )rq4                                 w   `*P   tc                                          J      Q             s K +   
          s KL       w     "                  w      ` 	`P `P,`0
 `.`OP<   <                                    w  `P$PD  yD                                  s J   s  J      s K          	         
   }         J   9   	   <
   9      <   <      <      <   m   <   m   <   m   <   m   <   w              w     `P
PP+` `%*.**JJJJP> `P9P4   )rq4                                 w   `*P4   )rq4                                 w   `*PL   L                                  w     w  @`P$`*P<   <                                    w  `P$P$   $                  5                         s J   m   w    J      
      
          w        	   s J
   s  J      s K          s J
   s  J      s K                              J   9      <   9      J   s  <      <   <      <      <   m   <   m   <   m    <!   m"   <#   w    3       $   w 5    ` `P
"PD` `P$`1&F
"`P
%PP*`P
PP+` `%*P.**JJJJP># `P9&Ph   4[h   .                              J          s J   s  w &`P
PP$P4   )rq4                                 w   `*P4   )rq4                                 w   `*PL   !cL                                  w     w   `P$`*P<   <                                    w  `P$P  RX"                                  s J   s            s J   s  J      s K         s J   s  J      s K     J	   
      &   &  &   &  &w  `P
P(#`P
%PP*`P
PPK`50.hPP<  g+                          $       s J   s  J      s K          s J      s          s J   	   s       
   s J   w                       w  #`P
%PP!`P%P(`P%P(`P
P  `PP<  ,                   /   b   H  EH     	              !                   s J   s            s J   s  J      s K          s J   s  J      s K      	   9
      <   9   <      <      <      J   <   m   <   m   <      )`P
%P)#`P
%PP+`P
PPL` %****OJN4%P  SFe                             J   s  J   s     (       J   s  J   s        Z          w     J   9      J	   <
      <      <      <   w              w    &`

P
P $P
P `J`%/**J
P> `P$`AVX   X   "                             w      w       w @`*`*`P$P  (                                              s J   m   w    J   u   
      J   9   	   <
   9      J   s  <   <      <   <   m   <   m   <   m   <   w     ` `P
"PD` `%* P-*&JJJ	P9/Pl   k)l   .                              J          s J   s  w F`P
PP$P4   BeQ4                                 w   `JP4   3
4                                 w   `*P  0N           	       ]                   J            s J      w        s J      w        s J      w        s J      w                      KJ	   &
   &    KJ	   &   &    KJ   &   &          KJ	   &   &    KJ	   &   &    KJ   &   &         s J      w        s J     w            KJ	   &s J          KJ   J   s  w            KJ	   &s J          KJ   w            KJ	   &s J          KJ   J   s  w            KJ	   &s J          KJ   w   0(  ]   @`*`*`-`PP$`PP$`PP$`PPD

 `f/` 3 * ` 3 *@`P
P$`P
P$`	PE PP$`	P\P$`	PE PP$`	P\PD
`@P                
  v                U            	   
  5                                  s J   s     *             s J      w            s J	   
   s           s J	      s                 s J   s     *             s J      w            s J	   
   s           s J	      s    &            J      s       (         J   >  +         KJ      s             0                &z B  &   &   K&   &&.      [   ;            K&   &   &   &&.            K&   &&.      E         &.   F      F         &.   G         &.      0(   J         &.         -   M          s J      w (   Q          s J      w U   @`+,`+` `P
P `PP$`1@F
`PP)`&PP `P
P `PP$`1@F`P P)`&P PN`K ` PI" `f ` 
P)` `*P/ ` `
   `
C0, `00 `@3`@"`@6`M9` `P
P `P
P9@P           T     :   k   	                             J   9      <   9      <   <   	   <
   <   m   <   m   <   m   <   w  `%*/*&JJJP4P4   BeQ4                                 w   `JP4   3
4                                 w   `*PX   rX                                   w        w @`PD`PDP\   "M>\   (   	                                 s J   m   w  `P
P4
P   Q   v                                s J   s     M            s J      s           s J   w      w     &`P
P@`PP(`P
P$`OP`   LVu`   &                                    s J   m   w 0 `'	`P
P4P   #   @                                  s J      s J      w    0(   &`PP
P$`-
P  Ftz@                   '               s J      w        s J      w        s J      w 	              
   s J   m   w    J   \         J   9      <      <   <   m   <   m   <   m   <   w    #          w %       w   `PP$`PP$`PPD`@`P
"PD`@`%**&JJJP>. `PI1`Ph   h   .                              J          s J   s  w &`P
PP$P4   nj4                                 w   `JP4   )rq4                                 w   `*P  =ON  e                0             s J      s J   9      <   m	   <
   w         J            s J      w        s J      w                       KJ   &   &    KJ   &   &    KJ   &   &          s J      w            KJ   &s J          KJ   w   0(  @0    `PP
%*J2PD`*`-`PP$`PP$ `f/` / ' `P
P$`P9PD`@P               X   8*X   #                                  s J   s  +&` P
P'Q                    B                         s J   s  J      s K             s J   m	   w    J
   _        J   9      <   9      J   s  <      <   <      <   <   m   <   m   <   m   <   w        s J   9       <!   w     "   s J#   9$   %   <&   w     "   s J'   (   s J#   )   *   w     "   s J'   +   s J'   ,   s J#   )   -   w     .   s J/   0   w B   @` "`P
PP*`'`P
"PD` `%*P.*&JJJPD(`P

P$`P

P$`PP P$`PPP P$`PP9.P   =;   Q                
              1         J          s J   s  w       0(   &` `P
PP)`-P4   nj4                                 w   `JP4   )rq4                                 w   `*P  ,M  g                1              J            s J      w        s J      w   	                    KJ	   &
   &    KJ	   &   &    KJ   &   &          s J      w            KJ	   &s J          KJ   J   s  w            KJ	   &s J          KJ   w   0(  1   @`*`-`PP$`PPD `f/` 3 * `P
P$`	PE PP$`	P\PD`@P         Y                         G                 5                      s J   s     *             s J      w  
             	          s J   s  	      J
   	   w                  s J      s       J
      w        s J      s                         $      J      s &   $   '      J      s    )    	  )    	     J      ,       	  KJ      s  
             	  &z   &   & 
  K&   &&.      /   :          
  K&   &&.      >         &.   ?         &.    	  0( 	  B         &.          s J      w @`+,`K`P
 P `PP$`16F
` ` P
!P)`P$` `P!PI`P$`&P!PI`K`K` P ` PN" `f ` 
P)`*P/
 `@)`
C0+ `@.`@"`@1`M4`P
P46P                ]Rn  H                I              s J   s                      s J   m   w        s J   s      	                                
       w                 	              -             s J   m   w (              s J   m   w %            (   
       w  *      J      -      J   9      <      <   9      J   s  <     <      <      J   s  <     <    <!   "   <#   m$   <%   m&   <'   m(   <)   m*   <+   w    G   
    ,   w I   @`P
PH` `P
%PD`P
PH` `P$`1;F`@` `P
"P> `P
#PI` `P$`1;F`@!`%** P	+&P.*J)J,J1J!P>7 `P9;P|   =|   ?                	              J          s J   s  J      s Kw &`P
PPP$Ph   Noh   .                              J          s J   s  w &`P
PP$Ph   Noh   .                              J          s J   s  w &`P
PP$P4   )rq4                                 w   `*P4   )rq4                                 w   `*Pl   l   3                                w        s J   w      w   `P$`P
P$`*P<   <                                    w  `P$P   h1.   _   	                            J   9      <      <        &<	   
   <   m   <   m   <   w )`%**)*JJP4P@   @                                  w  `	P$P<   i[j<                                    w  `P$PD  iD                                  s J      s          Z             s J   w         s J   w      	   s J   w  U             s J
   w         s J
   w      	   s J
   w      `P%P(` `P
P$`P
P$`P
P `P
P$`P
P$`P
P9PD  'D                                             s J   m   w          	          w          J	   9
      <      <   9      J   s  <   <      <   m   <   m   <   m   <   m   <   w     ` `P
"PD` `P `%**P-*JJJJ	P9Pt   <t   7                                s J   s        J      w &`P
P(`P$P4   )rq4                                 w   `*P4   )rq4                                 w   `*P@   7m@                                  w  `P$P@   1`B@                                       w  ` P$Px  h                  C           s        J               s J      w               	   s J
     w    J   $                    J                   KJ   &   &     KJ   &   &     KJ   &   &     KJ   &   &     KJ   &   &     KJ   &   &     KJ   &   &&.    0(  ,;          s J
     w        w A      A          w  C    `.` `PP$`*`J`P
$PD
` `* `f `	 J B E R S ;@:`@`P
P$`P0 `P$`1Vx                                                   s        J   m             s J   s                     w         	   
   m   w              w      `/`@`P
P)` `P$`1&F
` 9P>" `P$`1&V   )                                       J   9      <      <   9      <	      <
   <      <   m   <   m   <   m   <   m   <   w     `-`%**
!/*J
JJJPIP4   U4                                 w   `*P4   U4                                 w   `*PL    ,L                                  w     w   `P$`*P@   2e@                                       w  ` P$PD  D                  5                               s J   m   w    J      
      J                  s J	   
   s J   9      <   m   <   w           &s J      s J   s           &         s J     w       J   s  &   &   J   s  &   &         s J     w        J   s  w    3          w 5   @` `+`P
"PD	` `PP
%JJ
-PD`PP
P(`/`P
&P$`%ZP*YPO`P
 PD`PP `P9"P      K                
              J          s J   s  w        s J   s     &`P
PP$`P
P)PX   QX   #                                  s J   s  +&` P
P'Q  zg                               s J      w        s J   s  J      s K   	          	          	          	          	                 s J      w     
   s J   9      <   <   <   s J   9      <   m   <   w        s J   s       J   9      <      <   9      <     <      <!   <"   #   <$   m%   <&   m'   <(   m)   <*   m+   <,   w        -     &.   &&.      /   s J     w     0   s J1   2   w     0   s J2   m3   w    J4   8  R     R        J4     U   5   J6       7        KJ8   &   &s J   s  9   &     KJ8   &   &w     7        KJ8   &   &s J:   ;   w     7        KJ8   &   &s J:   <   w     =        KJ8   &   &s J:   <   w   0(      `PP$`P
PP+` ` ` ` ` `PP$`P
#%*&F	 PJ	%*JPD`P
/P(`%**%))MJJ"J%J7JPD=`*`	@@`P
&PDB`PP$`P
!PD  `  `f ` P
6P	 P$` P 5P$` P 5P ` P 6PD  (`0  P         V  (  X   X   #                                  s J   s  +&` P
P'Q4   3
4                                 w   `*P4   3
4                                 w   `*P  )                                s J      w        s J      w   J        J        J        J        J	      
                J   V                 KJ   &   &     KJ   &   &&.     0(            s J      w @`PP$`PPD`.`.`.`.`.`* `f `	 #@'`@`P
PDP            k   @   @                                       w  ` P$P  a@  	                A             s J   s            s J   s                s J      w       &       	   &.            J
                  J
             KJ        KJ   R               KJ   &   &     KJ   &   &&.       &.      %        J
     (        KJ        KJ     .           KJ   K $   3           KJ   K   6      6       J      s K    J      s K	    J      s K
       KJ               KJ   &   &     KJ   &   &  &   &     KJ   &   &&.     J     s       U             KJ   &    &     KJ   &!   &     KJ   &   &     KJ"   &   &  &   &	  &#   &     KJ   &$   &     KJ   &%   &     KJ   &   &     KJ"   &   &  &   &	  &&   &&.  %   ~     '     &   &&.       '   
  &   &&.    (   &.    0(       0(  *     )   &.       0(  `     0(  &          s J     w                  s J      w   	   &.            J
   z             KJ   G            &   &     KJ   &   &&.       &.              J
             KJ        KJ                KJ   K $              KJ   K                J      s K    J      s K	    J      s K
       KJ               KJ   &   &     KJ   &   &  &   &     KJ   &   &&.     J     s                    KJ   &    &     KJ   &*   &     KJ   &   &     KJ"   &   &  &   &	  &#   &     KJ   &+   &     KJ   &,   &     KJ   &   &     KJ"   &   &  &   &	  &&   &&.  %        '     &   &&.      '   
  &   &&.    (   &.    0(      0(  *
    )   &.      0(  v         s J     w      J
   8             J
       -   J.       /        KJ   &   &s J   s  0   &     KJ   &   &w     /        KJ   &   &s J1   2   w     /        KJ   &   &s J1   3   w     4        KJ   &   &s J1   3   w   0(  A   `P
+P(`P
+P(`*`PP$` `@ `f 	 `f 	`! `	1 % `@`& `f `)  ` 4@` P*` P*!` P+` 	`	= 1 F+ `P 
`	? - 2 $ %+; - 0 $ %0 
`	@ 	`	 	` 	`@)`@%`@	-`@'`@)`P
"P `*`PP$`  `f `	@1`	1 `@4`&
 `f 
`) ` 4@9` P*` P* ` P+`@>`	= 1 F+ `P 	`	? - 1 $ %+: , 1 $ %0D 	`	@G`	 ` `@5(`@L`@.,`@P`P
"PIS`  `f ` P
6P	 P$` P 5P$` P 5PDY` P 6PDT)`@\P         Q                                   _                        (  (  =(     	                                 s J   s  J      s K                    s J   m	   w    J
   (                m   w (             s J      w    )`P
PP,` `P
PD`@` |P>/ `PP92P  yI
  i     	          +                s J      s          s J      s             &   &s J   s      J   	   s K    J   	   s K    J   	   s K    J   	   s K    J   	   s K    
                  J   !      J        &  &   &  &   &  &   &  &w +   &`PP(`PPH`"P
@P(` 	P*` 	P*` 	P+` 	P+` 	P+` `
PIP   9}N                                       J   9      <      <   9      <	      J
   s  <      <   <      <   m   <   m   <   m   <   m   <   w     `-`%***P(/*JJJJPIP4   U4                                 w   `*P4   U4                                 w   `*Pd   kd   .                                s J      w        w  `PP$`PDP@   2e@                                       w  ` P$P   /~                                   s J   s  J      s K         	          w        J   9	   
      &<      <   <   m   <   w  `P
PP*` `P$`1F`%E**&JP4P   Q                                     J   |                 J   Y                    KJ   &   &     KJ   &   &&.      0(       ` ` 	 `f `1 0@!`@P          *   l      I9T                                   s J   s     o         J   9        &   & &<	   
   <   <   m   <   m   <   m   <   m   <   w     `P
P `%N
$I*&J
JJJP9P4   )rq4                                 w   `*P4   )rq4                                 w   `*PD   0A7D                               J      w  ` P$P<   m<                                    w  `P$P@  ^q@                                  s J   s            s J   s  J      s K         s J   s  J      s K                              	   J
         &   &  &   &  &w  `P
P("`P
PP*`P
PP+` `+`J0.SPP  Ue  .                %              5          s J   s            s J   s  J      s K          s J   s  J      s K                                  	   
   9      <   9   <      <      <      J   <   m   <   m   <       `P
P)&`P
PP+`P
PP,` / `L`8%****OJ N42P                               J   s  J   s     (       J   s  J   s        Z          w     J   9      J	   <
      <      <      <   w              w    &`

P
P $P
P `J	`%/**JP> `P$`AV0  [d0     '                                    5       w            &   &z ;        J      *   	          J   KJ	   w #          
   w     w            s J      w  `J`.
`@` P> `P$	`O`P+PDP\  \                   "               s J   s  J      s K                    s J   m	   w    J
   o            9         &   &   &<      <      J   <   m   <   m   <                    w "    `P
PP*` `P
PD` `+%8#**/JN> `P9P   A   Y                                  s J      s 1         J          s J   s  w    &`PP-`P
PP)Ph   qh   4                              w     J   9      J   <   w &`*`%O
PDP@   #+@                                w      w   `*`*P@   U.@                                 m   w  `P4P@   E@                                  w  `P$P  /     	                                s J   s  J      s K                    s J   m	   w    J
   9         &   &   &<      <   m   <   w )`P
PP*` `P
PD`%4#**JP4P   v(XT   Y                                  s J      s 1         J          s J   s  w    &`PP-`P
PP)P@   @                                  w  `	P$P                    +                      J   >         KJ   J   s        KJ         KJ             K        *                                  	      &
   &  &   &  &   &  &   &  &   &&.           &   &&.         &.      %         %     0(  '          s J      w  `* `f ` P(` ` `@` `	6L `	   ` `O%`@`P
!PP            Q  |   D|   B                  
          J   9        &<      <      <	   m
   <   w  `%8)**JP4	P4   3
4                                 w   `*P@  -y=@                                  s J   s            s J   s  J      s K         s J   s  J      s K                              	   J
         &   &  &   &  &w  `P
P("`P
PP*`P
PP+` `+`00.mP$P  w                   %               s J   s            s J   s  J      s K          s J   s  J      s K                                  	   
   9      <   9   <      <      <      J   <   m   <   m   <       `P
P)#`P
PP+`P
PP,` / `L`%****OJ ND0P                               J   s  J   s     (       J   s  J   s        Z          w     J   9      J	   <
      <      <      <   w              w    &`

P
P $P
P `J	`%/**JP> `P$`AVt   2t   6                             w       w        s J      w  `*`PD`PPDP   DE                             h              s J   m   w             J   m   w    	   &.       
   s J      w  `+`P
"PD`+`'`PD	` 	`P
PPp   q)p   3                              J          s J      s w &`PPP$P,  >                                   eJ     J     J     J       J   s        J      s Z   	            1&	   &  1&
   &  1&	   &  1&   &&.      0(        A` `
P(	`P-`
0 `@	P,              /Y9           
       &               s J   s  J      s K          s J   s           s J   s        	   s J   s    
                   s J   m   w    J   9      <   9      <      <     <     <     <   <   w @"`P
PP*`P
%P(`P
%P(`P
P(` ` `P
"PD`%*%)*))NP4P   ge   n                                s J      s F            s J   s              J      w    &`PP-`P
P)`*`PIPd  2wjd                   #               s J   s            s J   s  J      s K         s J   s  J      s K                              	   
   	      J         &   &  &   &  &   &	   &w  `P
P(#`P
PP*`P
PP+` / `K` `00.PP$P   2-                                    s J   s           9      <   9	   <
      <      <      J   <   m   <   m   <       `P
%P)`%****O	JND"P    g               0          J   s  J   s     (       J   s  J   s                  w         s J   s  J	   
   s K          s J   s  J	   
   s K 9             s J   s  J	   
   s K   %   %       J   9      J   <      <     <      <   w    .          w 0   &	`

P
P $P
P `J&`P
PP*`P
PP P
PP@`%/))JP> `P$`AVX   InX   "                             w      w       w  `*`*`P$PL   EL                                    s J      w  `PPP  iA                  +               s J   s  J   s  J      s K                    s J	   m
   w    J                w        J   9      <   9      J   s  <      <   <      <      <   <   m   <   m   <   m   <    m!   <"   w @"`P
P
PPJ` `P
PD` `P$`1,F`%*E P(N**&J J$J(JP4,P   !4(                                     s J      s a         J          s J   s  s 1         J          s J   s  w    &`PP-`P
PP-`P
PPIP4   8 4                                 w   `*P4   8 4                                 w   `*P<   A|<                                   w  `P$P<   i[j<                                    w  `P$P   V{~      	                          h              s J   m   w          J      	            	         	       	    &
   &   &   &   m   w )`+	`P
 PD`+` `@	` 	`	&
 #P4 Ph   d1h   .                              J          s J   s  w &`P
PP$	P      v                           m         J   9         &   &   &<      <   m	   <
   m   <   m   <   m   <   w     `-`%1+*J	JJJPIP4   24                                 w   `*P4   24                                 w   `*PX   &=X   (                                           w     	` `P)P<   7<                                    w  `P$P   kv   r                                s J      s       (             s J   w  #   	          s J   w      `PP(`.`P
P `P
P9Pd  j[d                   #               s J   s            s J   s  J      s K         s J   s  J      s K                              	   
   	      J         &   &  &   &  &   &	   &w  `P
P(#`P
PP*`P
PP+` / `K` `70.IP$P   '                                    s J   s           9      <   9	   <
      <      <      J   <   m   <   m   <       `P
%P)`%%****O	JND"P    g               0          J   s  J   s     (       J   s  J   s                  w         s J   s  J	   
   s K          s J   s  J	   
   s K 9             s J   s  J	   
   s K   %   %       J   9      J   <      <     <      <   w    .          w 0   &	`

P
P $P
P `J&`P
PP*`P
PP P
PP@`%/))JP> `P$`AVX   InX   "                             w      w       w  `*`*`P$Pd  n)d                   #               s J   s            s J   s  J      s K         s J   s  J      s K                              	   
   	      J         &   &  &   &  &   &	   &w  `P
P(#`P
PP*`P
PP+` / `K` `30.MP$P                                       s J   s           9      <   9	   <
      <      <      J   <   m   <   m   <       `P
%P)`!%****O	JN4"P    g               0          J   s  J   s     (       J   s  J   s                  w         s J   s  J	   
   s K          s J   s  J	   
   s K 9             s J   s  J	   
   s K   %   %       J   9      J   <      <     <      <   w    .          w 0   &	`

P
P $P
P `J&`P
PP*`P
PP P
PP@`%/))JP> `P$`AVX   InX   "                             w      w       w  `*`*`P$P,  U1,                                   s J   s            s J   s            s J   w                       (             s J   w  (             s J	   m
   w     `P
P)`P
PI`P
PD	` 	`P
P 	`P
P9P  M                                  s       J      s      J      s                    	   +   
                                J   w     &`P(` P(!` PH` ! 8 `PI	P   *                                          J   H                K&   &    K&   &&.     0(             &s J      w  `* `f `	/@!`@`P
PP             [      K                                    s J      s    -             s J   m   w (             s J   m	   w    
    w   `PP `P
"P> `P
PI`P   v   Q                
                  s J      w        s J      s J      w &`P P$`PPP$P   w   Q                
                  s J      w        s J      s J      w &`P P$`PPP$PL   ]L                                       m   w  ` VP4'P                     *                     s J   s  J   s  J      s K                    s J	   m
   w    J                w        J   9      <   9      <      J   s  <   <      <   m   <   m   <   m   <   m   <   w *    `-$`P
P
PPJ` `P
"PD	` `P$`A%F`%*%)PM*JJJ JPI%Pp   |p   3                              J          s J      s w &`PPP$P4   A4                                 w   `*P4   A4                                 w   `*PX   X   (                                           w     	` `PIP<   7<                                    w  `P$Pd  ~Jd                   #               s J   s            s J   s  J      s K         s J   s  J      s K                              	   
   	      J         &   &  &   &  &   &	   &w  `P
P(#`P
PP*`P
PP+` / `K` `A0.?P$P   >                                    s J   s           9      <   9	   <
      <      <      J   <   m   <   m   <       `P
%P)`/%****O	JND"P    g               0          J   s  J   s     (       J   s  J   s                  w         s J   s  J	   
   s K          s J   s  J	   
   s K 9             s J   s  J	   
   s K   %   %       J   9      J   <      <     <      <   w    .          w 0   &	`

P
P $P
P `J&`P
PP*`P
PP P
PP@`%/))JP> `P$`AVX   InX   "                             w      w       w  `*`*`P$P3  `I  V  W  X  >  Y  -  Z  [  $  \      `  `$  M  /  N    -  (  O     @P  J     B  Q    pR    p]    `_  `  a    `$  d  /  e    -    `  `o  	  `q  
  `  r  s    `  `  `$  j  /  0     O    @k  J    @m  c  i  l  B  Q    pn    pp    pR    p]    `o    `q    `t      r      `  `      `$  z      {  |  ,  )            }  ~  /    -    &                 t    t     O    @J  B  Q       pn    pp    pR    p]       r      `  `  `  `  $  )     `  $  ~  /    -         pI  _                `o    `q    `  r    `  `      $  ~  /    -    )    ;    O    @  J    @c  l  B  Q  !  pn  "  pp  #  pR  $  p]    `  $  ~  /      -     (            ,  +  -    )  ;  .                  I                `  I        [  $                     `      `$  ~  /  "    -  0  O    @  J    @X  l  B  Q  '  pR  (  p]  #  `o  $  `q  %  `  I  $    ,      r  &  `    "  `0  $  O    @  J  	  @c    l  B  Q  +  pn  ,  pp  -  pR  .  p]  !  `      $  ~  /  "    -            *  p(  `o  )  `q  *  `+  `'  `  $    /  d  j    O  
  @  J    @    c      l  0  pn  1  pp  2  pR  3  p]  -  `o  .  `q  /  `f    0  `,  `$  O    @  J  5  pn  6  pp  7  pR  8  p]  2  `o  3  `q  4  `f    5  `1  `$  O    @  J  :  pn  ;  pp  <  pR  =  p]  6  `  I      P        @                      {                  7  `        9  `$          )  P  8  `$       A  p   "  :  `                ;  `  "  <  `              >  `  $         =  `           $  #          F  p  >  ,  ?  `$    /  A  `  $         @  `  $            I  pD  `     :       $    /   	   _     
 C  `    0 $     L  p>  ;       E  `B  `$           )        _      "    O    @   J  B  Q     K  pR  M  p]  G  `$    F  `$   I    ;    /                   @   O  p    )      _       <       ! " # J  `$       /  K  `? I  `  $       R  pI  ; < = S  p  @ L  `$       /  N  `$  )  ;    J O  `M M  `   t  F G   $  I    V  p; K L = W  pP  `$  /  R S   T t     0     O Q  `       W 1  X   I  $      Y      I  Z C      -   [ 4 \ /  -  ] ^ _ 6 1 d e f g 2 i 0  j k l R  `H  `      $  '    /       0    +   ,   - -  .    / <   2 4 5 6 7 8 9     :   Q  pA  B        T  p I  O    @D J    @"    0 l  B  Q  E 0     U  pR  @ N   X  pU   @V   @%   & 3 ( ) * Y  pZ  p]  T  `o  U  `q  V  `y   z { $     I  W  `S  `$  n /  X p    q s O    @t u v w x J    Q     \  pn  ]  pp  ^  pR  _  p]  X  `$    | Y  `            ~   Z  `            ~ [  `                       \  `            {    ]  `               ^  `               _  `          $  Y   `  `          $  Y    a  `          $  Y      b  `          $  Y ~   c  `          $  Y      d  `               e  `             f  `               g  `               h  `             i  `               j  `             k  `l  `$        I  n  `$   [           o  `$  )                 R         I  q  `*   +   , - )  ;   .   ,      p  `$      y  pm  `$   I       )    (    I        B  /  C        3    4 5 6 7 8 9       "           :  ; <   = > ? @   l        P   A  B C     D  E  F  G  H  I  J     K L  M  q         @      @    	    
    v  p w  p   ! #   &  ]  $ % & '     x  pr  `$  0 Z `  s  `$  0 Z C   t  `$        v  `$  )   ;  u  `$  5    ~  px  `$  )   ;  w  `$  7      pz  `$  )   ;  y  `$  9      p|  `  $  /  {  `$  ; /    <      pu  "      I  ~  `  $  /    `  $  /  }  `  $         p? /  @   pu  "      I  I  #  )  ;  A   `  $  D [          `o  $          w   x y )      `q  $       w   x y z     `{   | } ~ I   W "  1     `  `  $         p}  N /     Q R   S T U V W "  I  X Y Z [ \ ] ^ _ ` a b c d e f g (  O    @h i j k l m n o p q r s t u v J       pn    pp  B  Q  E 0    pR    p]    `  `$        B               `o    `q    `W   I         N O P Q R S T  $        `  `$        I  N /   #    V d    -  O    @ J    pn    pp  B  Q    pR    p]  ^  U  V    W X Y Z [   `$           `o    `q    `  |  I   } W "  1     `  `I  (     $  O    @ j  J    pn    pp  B  Q  E 0    pR    p]    `  `o    `q    `  |  I   } W "  1     `  `I  (    $  O    @  J    pn    pp  B  Q  E 0    pR    p]    `  `  $  D [          `o    `q    `  |  I   } W "  1     `  `  $         p[ /  ] \ X Y Z N R S T U I  (    O    @ i k l m r s t v J    pn    pp  B  Q  E 0    pR    p]    `  `$               "    Y     `  P    `$        )       `$        z      ` 0  $   /  -         X  |         `      `   $            M  /  ~    -             j             O    @ J  l  B  Q  E 0    pn    pp    pR    p]    `  `          "       -        \   ]  ^ <   = > ? @ _ `  A  B   a   b  c  d  G  H  e $                 `  $  )  P    `$   /    -           p_  `      `$  B  /  C   D  E       0        ~    -       j   d     `$      /  0      .       !   `$           `$  : )    ;    w   x   `$  : z   ;    w   x   `  W 1  P  $           u  < = > I  ? @ X A   `  | ;   I    `  `  ,  I  $  & /  -  ( _     t       -     0    0 2 3 4 5 6 O    @7 j 8 9 J  B  Q  E 0    pn    pp    pR    p]    `A   B C D E   `$     H   I J K L   `$     N   O P Q /  R   `U   `$  /  1  V l  W     `   I  _ a $  b /  -  l  c x   W  >  [  d e     r    `  `$         pO    @X Y J  B  Q  Z 0    pR    p]    f   `  `  `$  O     @h J  B  Q  Z 0    pR    `  `  $         j   I    k   `$  o    p I  q     `$  o    p   q I    `I      | P  R  r s    ]    `I  $  O  !  @n J  "  @> c  l  B  Q  E 0    pn    pp    pR    t u   `o    `q    `    | P    `  `}  0    y I  z $  O  #  @{ J  $  @w x l  E 0  B  Q    pn    pp    pR    p]    `  `  r    `  `0  $  O  %  @ Y  J  B  Q    pR    p]    `  `f $       `$          `l   $  d  /    -    `$   /  0  ;  =   p     `I   g h i $  o            I    p     p   ]     `   p  `$  ~  /    -       p  `        `        `$         Z C        `V  I   c  -  ) x       [    $                    `V  I   c  -  ) x       [    $  d      `  W P  1  I  u  X       `  ,  I  0  $  O  &  @ J  '  @%  l  B  Q  E 0    pR    `  y    `     `  ; <   p  `$  ;       `s    `$   /    -  0            p  `r   `$  d  /    -  0            p  `o    `q    `  `$  O  (  @  J  B  Q       pn    pp    pR    `o    `q    `  `$  O  )  @  J  B  Q    pn    pp    pR    `  `  `$  O  *  @ J    l  Z 0  B  Q    pR    ` $   /     `$          ~  /    -     p  `W 1     0     `A    `$   /    P        O  +  @ J    l  B  Q  E 0    pR    p]    `;     p  `I  $                      `  I    $  O  ,  @ J  -  @"    l  B  Q    pR    `$    )  ;    ,     '  +  j  -  d         `$  /    -        [    ` $  B  /  C   D  E               p    I    `  I   $                ! # $     I       p%   & '   ` $    I    M  /  ~    -    C  D  E         p  `$  B  /  C   D  E        I      `   p ` `  `$  O  .  @ J  B  Q    l    pR   `o   `q   ` ` `$  O  /  @ J  B  Q     l    pn    pp    pR   `
 `I   _ -  a  ]  $ $  %   & '   	 `$  ~  /    -    p `    `     `$  O  0  @ J   l  E 0   pR   p]   `;  =  p `o   `q   `W "  1  u    |   `     `$  d  /    -  O  1  @ J   l  E 0  B  Q  
 pn   pp   pR   p]   `  $  /   `o   `q   `W "  1  u    |   `     `$  O  2  @ J  3  @"   l  E 0  B  Q   pn   pp   pR   p]   `$  d  /    -  ; 
 = 	 p        pI      p `o   `q   `W "  1  u    |    `     `$  d  /    -  O  4  @ J   l  E 0  B  Q   pn   pp   pR   p]   `$  d  /    -  ;  =  p   " `# `    ! `$  O  5  @ J  B  Q   l  E 0   pR   p]  % `& `    $ `$  O  6  @ J  B  Q   l  E 0   pR   p]  ( `) `    ' `$  O  7  @ J  B  Q   l  Z 0  ! pR  " p]  + `, `- `* `$  O  8  @ J  B  Q    l  $ pn  % pp  & pR  . `0 `1 `    / `$  O  9  @! J  B  Q   l  E 0  ( pR  ) p]  3 `o  4 `q  5 `6 `    2 `$  O  :  @# J  B  Q   l  E 0  + pn  , pp  - pR  . p]  7 `$  M  /  ~       d    -  1  . _  `  / 0 1 2 5 3 3 4 5 6 9 `$  9    :   ; : `$  9    :   ; ; `< `  < 8 `$  O  ;  @8 J  B  Q   l  E 0  1 pn  2 pp  3 pR  4 p]  = `     ? `B I  C   D E F G H I      J K     L M  N   O P {  Q   R S T U V W X  Y $  >   Z   <  @[    =  @   \ > `$  d  /    -  >   ? 9     7 6 pA `$  #     w   x ` )    a B `$  #     w   x ` z   a C `$  #  I   b   c d   D `    @ `$  #     _   O  >  @V J  ?  @%    l  B  Q  E 0     8 pn  9 pp  : pR  ; p]  G `$  #     w   x ` )    a H `$  #     w   x ` z   a I `W $  b   1  #  I     c m       o k   r {  s ]  t u J `    F `$  O  @  @j J  k l  B  Q  E 0  > pn  ? pp  @ pR  A p]  K `E `$  #     _   j ; = = p   M `o  N `q  O `y I  z X  -  W { | [  $  }    #  P `  ~   L `$  M  /    -  . O  A  @x J  B  Q  C pn  D pp  E pR  F p]     R `o  S `q  T ` I  z N  {  [  $  #    U `     Q `$  #  /  O  B  @ J  B  Q  H pn  I pp  J pR  K p]  W `o  X `q  Y ` I  z  {  [  $  }   #  Z `     V `$  O  C  @ J  B  Q  M pn  N pp  O pR  P p]  \ `o  ] `q  ^ ` I  z  {  [  $  }   #  _ `     [ `$  O  D  @ J  B  Q  R pn  S pp  T pR  U p]  a `$    )       /      ` `$  M  /    -  . O  E  @ J  B  Q      l  W pR  c ` I     }     [  $      d `b `$  ~  /    -  . O  F  @ J  B  Q  Z 0      l  Y pR  g `    [  f `$  /      \ p  G  @  e `   $      [ p  j `    [  i `$  /      _ p  H  @  h `   $      ^ p  l `$   /        k `   $      a p  n `$   /        m `   $      c p  p `o  q `q  r `$      I       '  s `     o `    $        ~  /    -   .      O  I  @ J  Q            l  e pn  f pp  g pR  h p]  t `$  #           ,    v `w `x `y `     u `$  d  /    -  O  J  @ J    Q   l  k pn  l pp  m pR  n p]  z `$     8  )  ;  | `"     $      w   x        } `   (  )  I  $             w   x { `$      I    K  @  L  @l   {  	     q p r p ~ `$   I      `   I     ]       `o   `q   `  {  `A   `$   /  O  M  @ J    Q     v pn  w pp  x pR  y p]   `l  Y $  	        `o   `q   `     {  $   /     	   I     `A   `$   /   O  N  @  J  E 0  B  Q     | pn  } pp  ~ pR   p]   `o   `q   ` I        F G [  $      !  `$  M  /  O  O  @  J  B  Q      pn   pp   pR   `  $  /   `  $  /   `o   `q   `$  +   I  -  I  R   R  @- ,    #     . )  / 0 1   2 { z 
    3  `  4  `$  O  P  @* J  B  Q  Q  @"     # x  l  E 0   pn   pp   pR   p]   `$  $ /  % -    &         p'  p0  ( I  ; )   pE  `  $  /   `o   `q   `$     `$  9       U  @:    p       D [    0 )   m I   = >  ? -  @ A B  F G   C  D E    `  4  `$  O  S  @7 J  B  Q  T  @W 5 8 "   l  Z 0   pn   pp   pR   p]  F    G  `$  ~  /    -            p; 6   p `  $  /   `  $  /   `o   `q   `  2 { $  9   I  F    G  `$    /          pK  pO  V  @L J  B  Q  W  @"   M l      pn   pp   pR   `o   `q   `R $    /   `$  O /  .   -  O  X  @P J  B  Q  Y  @} l      pn   pp   pR   `  $  /   `o   `q   `$     `$  +       [  @V    p   I  $      W X   # X   Y [   Z l  [     `$  T              pI  O  Z  @U J  B  Q      pn   pp   pR    \ ]  `  $  /   `  $  /   `o   `q   ` I  $        b c   d e f g W    [   h l  F G i  j      k ! I   `$  /  0  _      h l  F   ,  I  m n o p q  `$  )  ;  I  `$  _              p pI  O  \  @a J  ]  @"  ` l  B  Q      pn   pp   pR    \  '   pr    p `$  t     u I         A      ! ^ v - 8 4 6   /  ,    w x y       z { " #  `  $  /   `o   `q   `$      n I        Y          ,    o         `  $        pI  O  ^  @| "  J  B  Q      pn   pp   pR    \  `o   `q   `>    ]   $     '   `$  O  _  @  J  B  Q      pn   pp   pR   `;     p `o   `q   `t  I  $   I           ,   p   /     q   d      B F G   -                 >  A  q    r                                 s t     u v    w  x   y  z  {   ` `$       O  `  @  J  B  Q  Z 0   pn   pp   pR   p]   `o   `q   `
 I  $   /        [      `$    /   O  a  @  J  B  Q  Z 0  	   pn   pp   pR   `o   `q   `]     R   {  y $     I   ` `$   /    -   )    O  b  @ u        J    Q      pn   pp   pR   p]   `  $  /   `  $  /   `o   `q   `$      I  -  I  R   e  @! ,    #    " . )  / # $   2 { z 
    %  `  4  `$  O  c  @ J  B  Q  d  @"     # x  l  E 0   pn   pp   pR   p]   `$   /  d    -  -    &         p  pI  ; )   pE  `  $  /   `o   `q   `$     `$          g  @V    p   I        W q   # X   Y [   Z l  [     `] $  '      (         pI  O  f  @U J  B  Q      pn   pp   pR    \  `  $  /   `o   `q   `$     `$  9       j  @:    p       D [    # )  $ m I   = >  ? -  @ A B  F G   C  D E    `  4  `$  O  h  @, J  B  Q  i  @W 5 8 "   l  Z 0   pn   pp   pR   p]  F    G  `$  ~  /    -               pB  C   * +   ;   p `  $  /   `o   `q   `y   0  `  $        pI  O  k  @/ J  B  Q  l  @"   l      pn   pp   pR    \  `  $  /   `o   `q   `y   3  `  $        pI  O  m  @2 J  B  Q  n  @"   l      pn   pp   pR    \  `$  M  /  ~    -  _  `  5   `"        :  `   (  )   y   ` 7 o  @8  p  @} X  l  9 {  	      p  p  `$       p `   $     = > y ? I    | >  @ @ A  `6  p	     B $  C    `$  D )    ;  `  $  /   `o   `q   `  2 {  `  $        pI  O  q  @F J  B  Q  r  @"   l      pn   pp   pR    \  `; )   p `  ` `  H    ` `     `  {  |  ,  )            }  $  ~  /    -    &                 t    O  s  @J  B  Q      pn   pp   pR   p]   ` `$   [            `$   [            /  R      _             v  @  \          {              `$  B  /            _             w  @           {              `$  /    -        [  
 `  $       p       I    `    `I        `$   )   d  /    -    p `$  )        #      `I  $    '   p _ -  a #   $ %   &       p    {     `$  )      #     	 `$  -             p f B  /  C   D  E  g h  ; =  p =    I   t     p  )  A               p  {        `*   +   , - )  ;   [   ,       `$   I  t  (    I      B  /  C  D  E        | }    ~   R S  5 6 7 8   V W          "  -  \  ]  -    $ _ "   b c e f    g   h   i j k l   m >  A n o p  q   r s    ^ <   =  t  ? @ _ `  A  B   C   D  E  F  G  H  I   x     y z { |   M   ~   #       q              t  @    u  @    	     (    )       )        
     p  p   p   p    ! #   &  ]  $ % &     p `$       )  P   `o   `q   `  `     `$  O  x  @ J    Q  E 0  y  @"    } X  x  l     	 pn  
 pp   pR   p]   `$  M  /  ~    -  d  t          pI  ;      p `$  M  /  ~    -  d  t   f _  `    j   `$  M  /  ~    -  d  t  _  `    j  `$  M  /  ~    -  d  t  _  `    j  `"      o  $  M  /  ~    -  d  t  0   |  @	     } X  x      `q     (  )  W 0       $   /      `  z  @  {  @l   {  E 0  	      p  p   `$  M  /  ~    -  d  t   _  `    j  " `"      o  $  ~  /    -  d  t  0     @	     X  x     # `q  u    ! `  }  @  ~  @l  9 {  E 0  	      p  p % `"      o  $  ~  /    -  d     @	     X  x  }    & `q  u    $ `$    /      @    @l   {  E 0  	      p  p ( `"      o  $  ~  /    -  d     @	     X  x  }    ) `q  u    ' `$    /      @    @l   {  E 0  	      p  p * `       $    ,  +  -    )  ;  .  /                     I    , `  I        [  $                 - `    + `$  ~  /  "    -  0  O    @  J    @X  l  B  Q   pR    p]  / `o  0 `q  1 `  I  $    ,     H 2 `    . `    $  ~  /  "    -    0  O    @  J    @c    l  B  Q  " pn  # pp  $ pR  % p]  4 `o  5 `q  6 `  u  7 `    3 `$  d  /    -     O    @ J    @x  l    Q  E 0  ' pn  ( pp  ) pR  * p]     9 `  $  /  : `o  ; `q  < `  u  = `    8 `  $       , pI      /    -  d     O    @ J    @"  > X  l    Q  E 0  - pn  . pp  / pR  0 p]   > `$  M  /     -  d  _  `    j ? `$   /    -    )        @ `K  B `"      o     @	     X  } x     C `q  u    A `$    /     -  d      @     @l   {  E 0  	     4 p 5 p E `  $  /  F `o  G `q  H ` I  $           d e    [    h l  F G i  D `  $       7 pI  O    @a J    @"  ` l  B  Q     8 pn  9 pp  : pR  I `    $  % /  0  T   l  F i 	 (    ,  I  n               K `o  L `q  M `   J `$  O    @ J    @ l  B  Q     = pn  > pp  ? pR  O `$    D [   N `$      A pQ `$        P `$      C pS `  $  /  T `o  U `q  W `$    V `$  !         @V   I p   I  "        # X   Y [   Z l  [    R `$  T       /             E pI  O    @U J  B  Q     F pn  G pp  H pR    \ # Y `  $  /  Z `o  [ `q  \ ` I  $  %      &   d e    [   h l  F G i X `  $  ~  /    -       K pI  O    @$ J    @"    X  l  B  Q     L pn  M pp  N pR  ' (   @* )      @,      - . / 0 1 2 3  4 ] `   $  6 /  0  7        l  F i  t  : ,    I  n           _ `  $  /    _  ` `  $  /  a `  $  /  b `o  c `q  d ` > $  ! I  # e `  4 ^ `$  " /    6    Q p -    &   R p' S px  0  ( I  O    @= J    Q    @"     # <  l  E 0  T pn  U pp  V pR  W p]  E g `h `    f `$  O    @@ J  B  Q   l  Z 0  Y pR  Z p]  i `$    )     A   B C I  k `$  /    l `o  m `q  n `  o `  ~   j `  $       ] p     F O    @G J    Q    @"  E l  E 0  ^ pn  _ pp  ` pR  a p]  p `  I  $  I         L   M   } O   P Q R S T U V    W [  X    Y s `o  t `q  u `  u  v `  ~   r `$  O    @^ J    Q    @ _ l  E 0  e pn  f pp  g pR  h p]  q `  I  $  X /    \ ; ] = d pY x `  $  /  y `$    w `     $       j pI  b         @c   k p  R    _   d e    "    m n   o { `$    | `o  } `q  ~ `$  q      z { | } ~  I      F [    `  ~    `$   /       q     I    F          _         .         A          )  ;     z `$  q      d  /    -    7      @            @    m p  x O    @y J  B  Q    @x  w p l  E 0  n pn  o pp  p pR  q p]       '  r pI       )  ;      `$  )      /    _   d   n  `o   `q   `$  b   I      `  ~    `$  O    @ J  B  Q    @  "   x  l  E 0  v pn  w pp  x pR  y p]   `$  d  /    -        t pI  ;  = u pb   I   `  I        [   `$  M  /    -     O    @ J  B  Q     { pR   `o   `q   `    `A   `$    /    O    @   J    Q     } pn  ~ pp   pR   p]   `$  M  /  ~    -  d  t  _  `    j  `"      o     @	     } X  x      `q     (  )  W 0       u  $   /      `$  M  /  ~    -  d  t      @    @l   {  E 0  	      p  p  `$       /   `    @	  
     ` x  `$  ~  /    -          pI      @    9 {  	  
     p  p   @  `  `  p `$       /   ` `$  ~  /    -          pO    @   J  B  Q   pR   `   I  {  "               Y  $      `x  `$  O    @ J  B  Q  E 0   pR   `$  M  /  ~    -  d  t  _  `    j  `"      o     @	     } X  x      `q    $   /      `$  M  /  ~    -  d  t      @    @l   {  E 0  	      p  p  `  $  )    ` `        "         q  `$        p       p     `$     /  d    `$  ~  /    -       #        p    @ J    @X      l   `$  M  /  ~    -  d  t    _  `    j   `"      o  $  ~  /    -  d     @	     X  x  }     `q  u     `$    /      @    @l   {  E 0  	      p  p  `$          `$  )  ;    /     `o   `q   `    `    `$  ~  /  "    -          pI      O    @ J    @ X  l    Q  Z 0      pn   pp   pR   p]   `  $  /   `o   `q   `     `     `$  O    @	 
 J  E 0   pn   pp   pR   p]   `$       p   I   ;  (  )  =  p `$         I   `$  M  /  ~    -  d  t    _  `    j   `"      o  $  ~  /    -  d     @	     X  x  }     `q  u     `$    /      @    @l   {  E 0  	      p  p  `$  M  /  ~    -  d  t    _  `    j   `"      o  $  ~  /    -  d     @	     X  x  }     `q  u     `$    /      @    @l   {  E 0  	      p  p  `$  )  ! h     `$   /    I         p `" I      [  $  #     `$  )  ;  D [   ,   `$  )  ;  D [   ,   `$  $ )  ;       p   p   `  $  )    `o   `q   `   (  `     `$  ~  /  "    -          pI     O    @' J    @X    l  E 0   pn   pp   pR   p]   `; & =  p `$  M  /  ~    -  d  t   * _  `  +  j   `"      o  $  ~  /    -  d     @	     X  x  }     `q  u     `$    /   -   @.    @l  / {  E 0  	      p  p  `             `$     `$     `$     `$     `$     `$     `(  $  )   *  +  ,  -  .  /  0   `$  '  
  p `$     `$  9  I  :  )  ;   `K   `	  
  $            p      @            @      p      @  @  p    @  @  p    @  @    p    @  @  p    @  @    p       @"  !  #    @$    @%     &     	  p1  /  2  3  4  5  6  7    @  @  p8    p<    @=  >  ?  @  B  C  D  E  F  )  ;  G  H  I  J    p   `  p  p  p  p  p  p  p   p%  p&  p)  p/  p4  p9  p>  p?  p@  pB  pC  pD  pE  pG  pH  pJ  pN  pP  p[  p`  pa  pb  pc  pd  pe  pf  pg  ph  pi  pj  pk  pl  pm  pn  po  pp  pq  pr  ps  pt  pu  pz  p{  p|  p}  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p  p p p p p p p p  p# p' p* p/ p0 p5 p7 p< pB pG pL pQ pV pX pZ p] p` pb pd pi pj po pp ps pt pu pz p{ p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p! p& p+ p1 p2 p3 p6 p; p< p@ pB pD pJ pO pP pX p[ p\ pb pc pi pl ps pz p| p p p p p p p p p p p p p p p p p p p p p p p p p p p p                  $        pt    W      @ Xu                  Y                                                                                                                                                                                          L               R              ]        !      ^        %      b        ,      f        7      g        -      n        /      p        1      R        6      ]        ^   5   u        P      n        R      p        T      R        [      ]                                                       n              p              R              ]           %           	                   R             ]        C             .                 n              p        "  	   R        +     ]        Y             S     n        U     p        W     R        X     ]        |             t     n        v     p        x     R        {     ]                          n             p             R             ]                                                             	                                                                                                    +                  R                    *     ]        I  *          F               Q   $       {            s            y                             R                                              *   R             ]        ;     ?       -     n        /     p        1  	   R        :     ]        X     (        \  	   }       e            m            }  	            	            	            
                                    
                        	                        	            	                        	                           (                    F     r          
                      A            2                 /            1            2            3                        6                        8                        :                        =                               J  E   B                   '     n        2     p        =     R        I     ]                      *   G             n             p             R             ]                                     n             p             R             ]                         n             p             R             ]        M  .          5            =     n        ?     p        A     R        L     ]        {                          :               n             p             R             ]          8          '            "            5            Q            a              3   "       g  
   n        q  
   p        {     R             ]          
   F            M            S            U                        R             ]             g            R        !     i       H     l       -     n        5     p        =     R        j     v       `     n        b     p        d     R        i     ]             |            R             ]                                  	                                                	    	                                 	                      	            +	            	     R        E	            C	     	       J	            Q	     s       O	     	       b	            `	     	       v	            q	     n        s	     p        u	     R        	            	     n        	     p        	     R        	            	     R        	            	     	       	            	     	       	     R        	     ]        	            	     R        
            L
     y       2
     	       
     	       
  	   	       n
            _
     	       s
            q
     R        
            
     n        
     p        
     R        
            
            
     	       
            
     	       
     R        
     ]             	       
     	       
     n        
     p        
     R        
     ]        
     	            	       
     n        
     p        
     R             ]        S            ;     "	       ,     n        .     p        0     R        8     ]        c            _     R        `     ]        w            s     R        t     ]                         R             ]                         n             p             R                          R             ]             "            n             p             R             ]             $            7            n              p             R             ]        Y     =       #  6   :	            ]       g     n        r     p        }  
   R             ]             e            ?	            n             p             R             ]             v            n             p             R             ]        ;            (     n        *     p        ,     R        7     ]        a     5        M     n        O     p        Q     R        ]     ]             3        q     n        s     p        u     R             ]                         R                         R                      
   V	            W	                     
   X	            Y	                     	   Z	                     	   [	       6  '          %     n        '     p        )  	   R        2     ]        ]  
          n            g     n        h     p        i     R        j     ]                                                                      
                           n             p             R             ]          	               
            n             p             R        
     ]        6            $     n        &     p        (     R             "       H     q	       L     q	       s     q	       P     n        R     p        T     R        p     ]             3            v	            v	            n             p          (   R                          ]             H            |	            |	            n             p             R        A     N       8     n        :     p        <     R             S       X     	       \     n        ^     p        c     R        `               $   ^            	            	            n             p              R             	            	         '   s       M     y       (     	       ,     n        .     p        0     R                    r     	       d     n        f     p        h  
   R                         n             p          j   R             ]             v            n             p             R        F  !   M       4     n        6     p        8     R        E     ]                    g     	       k     	            	       o     n        q     p        s     R             ]             &            	            n             p             R                     W     %            	       :     	            n        
     p          (   R                     7     ]        y     -       m     	       q     n        s     p        u     R             1            	            n             p             R             4            6            	                                 
   ;            	                   0     E            	       
     	            n             p             R        ?  +   G       5     n        6     p        7     R        <     ]        k     H       j  
   	       t  .   	         (   	       #  9   	            	         	   	            	            	            	            	         
   	         	   	       \     	       _            4     	       E     	       ;     n        =     p        ?     R        A     ]        q                                                                                                                         1                        -            a            G            ]            w                             R             ]                         n             p          	   R             ]                         n             p             R             ]          %               	            n             p             R             ]        ?            L            n     K        Z            j                 ]            	            n             p             R                                     n             p             R                         	                        	       3                 	            n             p             R                     m  1   #       Q     	       U     n        W     p        Y     R             5         -   ;            	            	            	            n             p             R             ]             ?            R             ]                    1     D       #     	       '     n        )     p        +     R        -     ]        N      H            Z       y     
       n     n        p     p        r     R        u     ]              `            	
                      >   n                         n             p             R             ]          5   
                   S     
       p     
       a     n        c     p        e     R        l     ]                      	   R                          n             p             R             ]                                                        -     w            
       #            *            K     x       I      
       U            N     !
       T     R        h                        ~     R                                                                         &
            &
                        '
       
            5                        1            K            a  #          P     *
       W     n        Y     p        [     R        ^     ]                         /
            /
            n             p             R             ]                                                                                &                        "            C            <     8
       N  	          g     #       W     9
       _     9
            %             :
       r     ;
       w     n        y     p        {     R             ]             )            ,                               H      V"     V"               .O    G                  .  J    J     -                    $                       /                       ;               L  v  D  v  G                 9    9  R                       ]                	    	  u   =              	    	  v               
    
                    B    :                               $              4  o  4                    
    
                   )    )                  U    6                                             W  `  =  `                    b       #            0  X  (  X                  p    h                      S    S                 h    `                  f  \   4  \     3                    2                       5               (  +     +  8              A    9    D                "  ]   "  Y  &            !  D!  !  D!  \  -            @"  O%  !"  O%  g                4$  Y$  ,$  Y$  v               p$  $  h$  $  y               $  $  $  $  |              %  H%  %  H%                 x%  m)  P%  m)    )            )  ,  o)  ,    '             *  f,  *  f,                {,  ,  s,  ,               -  I1  ,  I1    #           :.  =1  2.  =1                 .  /  .  /                 ./  V/  &/  V/                 n/  0  f/  0                0  /1  0  /1                h1  3  K1  3                 %3  J3  3  J3                  a3  3  Y3  3                 3  3  3  3                 3  3  3  3  	              /4  5  4  5                4  4  4  4                 4  4  4  4                 5  x5  	5  x5                 5  5  5  5                5  7  5  7  $              R6  x6  J6  x6  '               6  6  6  6  +               6  17  6  17  .               E7  7  =7  7  3               7  ;  7  ;  :  '             ;  (<  ;  (<  T              G<  >  *<  >  X              .>  >  &>  >  e  %             >  ~@  >  ~@  o               @  C  @  C  |  #             3C  C  C  C    $           D  gF  C  gF    #           D  E  D  E    9             F  F  iF  F               F  G  F  G    %           |G  G  tG  G    A           G  L  G  L                I  L  I  L                J  K  J  K                L  L  L  L                L  `P  L  `P    %            WN  N  NN  N               .P  m  dP  m               -U  X  %U  X  )  :            xU  U  pU  U  +  '             V  W  V  W  0  5           Y  Y  Y  Y  P  &           \  _  \  _  i             ^  z^  ^  z^  q  5             H_  _  @_  _  u            .`  b  `  b    /             c  ym  c  ym                m  m  m  m                m  q  m  q                Fp  kp  >p  kp                 p  p  yp  p                 p  jq  p  jq                 |q  q  tq  q                 q  q  q  q                  q  s  q  s    $             t  t  s  t    ,             <u  w  "u  w  #               w  y  w  y  3               y  c{  y  c{  C  !             {  '}  e{  '}  S               B}  /~  )}  /~  b              S~    1~    l  #                    y  !              ,    ,                M  I  .  I                 f    M                   !          !             	          )                       !                       )               R    R    #             u  1  T  1    "             M    4                     O    O                 0    0  4             B    :      Q            U    M      P             ,    ,    !              "    "    #            P    2                                           0  k    k    "           A          %               ~      <             5  s  5  %  )             1    1  &  :           _    6    ,  *                   -  <                   4  !                    :  0                   B  /            3  c  +  c  D  -            S  }  K  }  L  >           X    2    ^  '                    `  -                                                                                                      ./          !            P  ;  3  ;                                          E    E                 r    j                                         c  j  =  j  -  '               m    6  &                    ?                       B               5  I  -  I  G              _  j  W  j  O                      Y  '                    `               7  a  /  a  d                       i                      q             B        |  (                      -                                      $    $                 f  z  ^  z                                         B d  B   "             H  H              g  J                 j  j '                 {  +                   /               F  F A                (   (  M            U  ! +  ! t  +              0!   0! z  -             ! % ! %                 % ' % '   "             ;( ( )( (              .( /7 ( /7   #            |0 $1 t0 $1                61 1 .1 1                1 5 1 5 	              5 5 5 5 	               }7 D8 U7 D8 2	  )             v8 `9 R8 `9 ;	  %             9 C: 9 C: F	  %          u: A E: A J	  1           : ; : ; M	  *             n< @ f< @ ]	              A A  A A }	              A B A B 	               iB xB aB xB 	              C D B D 	  "            D oH D oH 	              E oF E oF 	               F G F G 	               5G  H -G  H 	             H K H K 	  -            J J J J 	               J K J K 	               &K iK K iK 	              K K wK K 	              K M K M 	              +M M #M M  
              M M M M 
               M N M N 
  $             N N N N 
  %           O \ N \  
  $           O \ O \ #
  J           RP \ JP \ $
  A           {Z [ sZ [ T
  ,             Z [ Z [ V
  C            ] x] \ x] l
  ,            ]  ^ {]  ^ q
  ,            '^ ^ ^ ^ v
  %             
_ rb ^ rb ~
  %            b d ub d 
  *           @e h e h 
  '            f )h f )h 
             h i h i 
              i }i i }i 
  %            i i i i 
              j qk i qk 
  "             +k ik #k ik 
  /           k l sk l 
  "             l l l l 
  /          m Sn l Sn 
  %            m m m m 
               m n m n 
               *n Ln "n Ln 
            n o Un o   7            No so Fo so                o o o o                o o o o             1p hq p hq   $            %q aq q aq             q s q s &  &            r s r s +  I           @s v s v 2  %            s v |s v 3  A            Fu v >u v @              v v v v I              w Z{ v Z{ Q  '            Nx S{ Fx S{ \              { ~ z{ ~ q  "           ~ : ~ :                # 6  6   6           g w g   )           &      /            [  >                   ~    (                +                                  .            > c 6 c                z  r                                     #  #   +           V  &    1                   R           _  _   "            [  [   T                "               L  L $              Q b Q -  (            E , = , 1  Y            : e 2 e 9                 w  <                   ?                  F                  O  .            ~ J v J X  Y            X  P  _                   b                   e               8  8 l              { F S F u  )                z  >             G  G                a  Y                                                    r  H    +            / Q ' Q               `  X                8  8   7                               1  1              g  :    .            % G  G               V  N                o  o   J                                !  !                6 Z . Z               q    *            V x N x                                      )                                 $  $                8 Z 0 Z               i  a                       *                 %             ^  ^                p  h                  
  
                 c  c "                  .  &                 2  6              f               D  <  q                   u                x  x z                                 S  S   "                 +                                i  i                 | y |                                 V    7              ~                                                       [  [                    (                                 &  &                ; > 3 >               Q  I                D  D 
  5            1 V ) V                l  d                                    =  =              s  F  %  .                )                <  < ,               P  H  /                  :                 @  '                G                Q  #                Y                q                 s  +             )  !  u             [  [ ~  $           \  T    9                                \    $             K  K   A             n  n                G  G   3             p    %                                 2  2                F  >                                   :                  s  s   (                                                                      2 l * l                 " t "   '          .T z % z   0             e  ]              . q  q                 |                                                          (                )  ) +               > h 6 h .              {  s  1                   8               M  M P                K  K Z               b  Z  ]                   `               E  E n              o  O  u  !                    |                                       	  	             < 9  9   )            
  
   .            E s = s   /            %      ;            Q | I |                                                                      f  ;    ,            $ P  P   -                                                 . V & V               n ) f )                                 ? b 7 b /             &    ?  /                E  -            < t 4 t I  ;             R w J w R                   U                   X                   f  1                 n               / S ' S q               i  a  t            $ $  $ |  #                 -                 x                                           A$   A$              k! ! b! !              $ 1 $ 1   '           [% % S% %   -            & j& & j&   -             ( ( x( (                ( ( ( (                ( - ( -              &. 0 . 0   "            1 1 0 1   :             1 7 1 7              .8 nC 7 nC T  "            w8 8 o8 8 Z  -              : &: 9 &: g               <: `: 4: `: k             .t: .C l: .C n            C H oC H   '           ,E {H $E {H   c            F :F 	F :F                RF zF JF zF                F lH F lH             .H 8n H 8n   #            J BJ J BJ                XJ |J PJ |J              .J n J n               )n 1n !n 1n               Pn nq 9n nq                o o o o                o p o p                #p eq p eq              q w pq w               t t {t t                t t t t                t w t w               w w w w              w  w               ky y cy y   .            y y y y   +            `z  Xz    ;            { { x{ {                { { { {                |   |                    .             >  !  ;                 U  -                 `                   d               Z  Z g             y  p  k              '  '                  |    -            c # [ #   #            M v E v                                   Z  Z              G i ? i                p  h               E  )                      -                                                    o  o              >  >               ( X   X   -             - T % T                k  c                                   r  ?  $  4           .    )  (          .  
  *               D  <  3            .    ;                 E  )             K  K I  U                \                 a                c  ;           `  X  g  0                 q                   u               4 u , u x                  E            * U " U                n  f                  (  (               >  6               . w,  w,   :           h , ` ,   R             2 x 2   Q             I  I   S           %      2               /  2            Z  Z 2  8                 I  3          y F q F a  l               d  ;             B  :  g  }               v  1            :  2    ,            *) b, ") b,   $          , 1 |, 1   %            . X. - X.   &            . 1 . 1   G            F0 s0 >0 s0 $               0 0 0 0 '               0 1 0 1 *              -1 m1 %1 m1 /               1 z4 1 z4 <  '             4 A7 ~4 A7 I  +             o7 \9 C7 \9 S  .           .9 ? ]9 ? \  #            j: = b: = d            .= ? = ? z              ? B ? B   (            B )G B )G               C F C F               F  G F  G             OG K -G K   $            H CK H CK               ]K K UK K             L P K P   $            WM O OM O               P P P P 	              P IS P IS   <            S V LS V #  8             T \V T \V ,              qV V iV V :             V Z V Z E  +            HX oX @X oX N               X X X X Q               X Z X Z T              'Z vZ Z vZ c              Z I] Z I] j  !             [ [ [ [ t               \ -\ [ -\ w               D\ \ <\ \ z              \ ] \ ]              t] a J] a   +            ] ] ] ]   -             !` H` ` H`                `` ` X` `                ` ` ` `               a Wa  a Wa                a c a c   !             d }e c }e              e i ~e i              |g Qi tg Qi               ii i ai i             j q i q   "            cj j [j j   -             k k k k                k k k k                l q l q              .Hq x !q x   (          x z x z ^  @            y y y y e               y z y z i               (z z  z z l            z { z { v             z {{ z {{ x  *           { 2| { 2|               { .| { .|   .           W| x 4| x   $            '} S} } S}   -             } ~ } ~                ~ B~ ~ B~               W~  O~               ~ ~ ~ ~               O { O   *            S  K    -                                                   -  %              .|  Q    ,              *  +           V  N  /  0                <  .            4 b , b A  /              C  C P               [  S  S                &  & V              ; \ 3 \ [                 g  .                m                  o               6    t  !            M  M   "             E  E   -             : a 2 a                y  q                                    A  A                e & N &              <  '                H  @    D            I t A t                                    -  -               D  <               	                  o  g    -            n  e               9                   F  F                x  p                     "                   %               W   W 7                %  % C  ,            h  h                     '             +  +                                   (  (                A  9                                   !  !                                  F  #    $            q  i                                     E  E               X  P                       9           .      6            1 - ) - '            .G  ?  8                K  !              {  N  %             V  V W              p  h  ]              w   w g               En s = s h  &           C y C m  %           2 x * x p  %              <  < w              a  D  |             	      !                                                  O  O                                  B  B             u  Q    %                  6              @  @   4                            O  G    -                                                ^  V                    2                  :                 ?  2                D  %              :  : [               P v H v _                   c                  g                  l  $               w    n  2                v  s            h  `  {                                   N  N               ]  U                  e  e                  f    &            &  &   $             
  
               
  
                I M ( M   "           m  O                 a  a               {  s              %      %            E  =    *                               *  *                k  k   .                  &            ] : , :   2            6  6   `             x  "  /                 2               / V ' V 5               l  d  8               '  ' =               k  <  E  0            U"  U" P  .             !  ! Y              ! L" ! L" l            5\=P?)7H      ggHgw   b    O^partitionKey=%28https%2Ccmrit.ac.in%29,:https://erp.cmrit.ac.in/scripts/student/manageStudent.js necko:classified 1 strongly-framed 1 security-info FnhllAKWRHGAlo+ESXykKAAAAAAAAAAAwAAAAAAAAEaphjojH6pBabDSgSnsfLHeAAAAAgAAAAAAAAAAAAAAAAAAAAEAOQFmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAAZeMIIGWjCCBUKgAwIBAgIMBDRov99iNgtiT0/6MA0GCSqGSIb3DQEBCwUAMFUxCzAJBgNVBAYTAkJFMRkwFwYDVQQKExBHbG9iYWxTaWduIG52LXNhMSswKQYDVQQDEyJHbG9iYWxTaWduIEdDQyBSNiBBbHBoYVNTTCBDQSAyMDIzMB4XDTI0MDcwNTA5MDUyMVoXDTI1MDgwNjA5MDUyMFowGDEWMBQGA1UEAwwNKi5jbXJpdC5hYy5pbjCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBANYiwzmvUK2/gsxQAtHV+G0vy665aU6ugVBmPzAEwCJr64nlJzPtA4nKiKddlbF0n5wIYz6qHEYswc/VMe03LLOFEyGHZCicGajhmvAv4MI3oVgQ8r/NDmc63WY1BazuIvlaEBaSdo7TosAMIhuSMbry0ZJ+72aTDrr22XXMB8iOmiEFzf/MMVgO5/fnh69czcjxT/kUWw+hP1qsAe3vXly1XdArNERI1m6d33SNuAFIrDvCM1nFuFpNf2GhiMDoeGnkR55cLgz7lzuX3uW84dfS2rhnhGBQGP+7bBzw8lkD6N/f0u7ahswxw8H6MOhMqmSSNSt/DoT8jP24h/6jRCkCAwEAAaOCA2UwggNhMA4GA1UdDwEB/wQEAwIFoDAMBgNVHRMBAf8EAjAAMIGZBggrBgEFBQcBAQSBjDCBiTBJBggrBgEFBQcwAoY9aHR0cDovL3NlY3VyZS5nbG9iYWxzaWduLmNvbS9jYWNlcnQvZ3NnY2NyNmFscGhhc3NsY2EyMDIzLmNydDA8BggrBgEFBQcwAYYwaHR0cDovL29jc3AuZ2xvYmFsc2lnbi5jb20vZ3NnY2NyNmFscGhhc3NsY2EyMDIzMFcGA1UdIARQME4wCAYGZ4EMAQIBMEIGCisGAQQBoDIKAQMwNDAyBggrBgEFBQcCARYmaHR0cHM6Ly93d3cuZ2xvYmFsc2lnbi5jb20vcmVwb3NpdG9yeS8wRAYDVR0fBD0wOzA5oDegNYYzaHR0cDovL2NybC5nbG9iYWxzaWduLmNvbS9nc2djY3I2YWxwaGFzc2xjYTIwMjMuY3JsMCUGA1UdEQQeMByCDSouY21yaXQuYWMuaW6CC2Ntcml0LmFjLmluMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBS9BbfzipM8c8t5+g+FEqF3lhiRdDAdBgNVHQ4EFgQUf3W8QY8EiQ7VPwxF4aS4Vf8WetwwggF+BgorBgEEAdZ5AgQCBIIBbgSCAWoBaAB2AK8YGijWjKPgqYpMnGerCfi7vCK6rryxOKOhndP5tgMNAAABkIIkH2EAAAQDAEcwRQIgTN19xjG3exUUK8CUQTJyyW3lC6PbP7tSLIPQfg62S8oCIQDaz7bAkIsTLvQgeGmRLlxxTxm/8OIAgsCNVjTnQWVBtwB2ABLxTjS9U3JMhAYZw48/ehP457Vih4icbTAFhOvlhiY6AAABkIIkIDMAAAQDAEcwRQIhAIt6+TPWN/uXoo50HsiUEJM9gnQAwDRhGejwSPvu4YIfAiAK2/DtKUuMvI+PtbokhaSz+NDIfec2NJzVqX4f3OGimwB2AObSMWNAd4zBEEEG13G5zsHSQPaWhIb7uocyHf0eN45QAAABkIIkH24AAAQDAEcwRQIhANQJnsn2DGT93ap7L8PL4lHIMSN6km0tBxntLCxKOL1dAiBPh7iC+H2lPvlPQjkr1IVVBkirx0/Ese2qg2qGi8CEjTANBgkqhkiG9w0BAQsFAAOCAQEAGP2xoNrcnvmeqt84f+EmQYIm79CxvUEYsZ7tlMhdm3eWzs7EJ96BDr020b5bL5sELUoN3C4C56TZcJztd/ieDWR79oKAjUMEnC8yuW+FAffetYwZSK4WQ17lJowV5kntQEhh6PilWnDi45Na5/gyiXCPmAXEFMV/vBsIgUOy1k6VFTUccxUXCRbIgusxYDvoiA+gWAJ3QHL8JKKYLtScUcBJxvTRyi6HeUiGfayu/RZ3gDOontPyOWJVqALAh/qiOa5roMxXrK4EVQyhwvGWLEASIzHPejj66HxM5RiMmWyH0BGrTF2lCI/Ts/132GUlMHdFs60B8CqcyGGBxYkBosAwAAMAAAAAAAEBAAAFAAAABFAyNTYAAAAQUlNBLVBLQ1MxLVNIQTUxMgADZgoyJpFcT/u7IImFpjLfBb3Dl5pUIkzVhYlpa26W6oMAAAAAAAAGXjCCBlowggVCoAMCAQICDAQ0aL/fYjYLYk9P+jANBgkqhkiG9w0BAQsFADBVMQswCQYDVQQGEwJCRTEZMBcGA1UEChMQR2xvYmFsU2lnbiBudi1zYTErMCkGA1UEAxMiR2xvYmFsU2lnbiBHQ0MgUjYgQWxwaGFTU0wgQ0EgMjAyMzAeFw0yNDA3MDUwOTA1MjFaFw0yNTA4MDYwOTA1MjBaMBgxFjAUBgNVBAMMDSouY21yaXQuYWMuaW4wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDWIsM5r1Ctv4LMUALR1fhtL8uuuWlOroFQZj8wBMAia+uJ5Scz7QOJyoinXZWxdJ+cCGM+qhxGLMHP1THtNyyzhRMhh2QonBmo4ZrwL+DCN6FYEPK/zQ5nOt1mNQWs7iL5WhAWknaO06LADCIbkjG68tGSfu9mkw669tl1zAfIjpohBc3/zDFYDuf354evXM3I8U/5FFsPoT9arAHt715ctV3QKzRESNZund90jbgBSKw7wjNZxbhaTX9hoYjA6Hhp5EeeXC4M+5c7l97lvOHX0tq4Z4RgUBj/u2wc8PJZA+jf39Lu2obMMcPB+jDoTKpkkjUrfw6E/Iz9uIf+o0QpAgMBAAGjggNlMIIDYTAOBgNVHQ8BAf8EBAMCBaAwDAYDVR0TAQH/BAIwADCBmQYIKwYBBQUHAQEEgYwwgYkwSQYIKwYBBQUHMAKGPWh0dHA6Ly9zZWN1cmUuZ2xvYmFsc2lnbi5jb20vY2FjZXJ0L2dzZ2NjcjZhbHBoYXNzbGNhMjAyMy5jcnQwPAYIKwYBBQUHMAGGMGh0dHA6Ly9vY3NwLmdsb2JhbHNpZ24uY29tL2dzZ2NjcjZhbHBoYXNzbGNhMjAyMzBXBgNVHSAEUDBOMAgGBmeBDAECATBCBgorBgEEAaAyCgEDMDQwMgYIKwYBBQUHAgEWJmh0dHBzOi8vd3d3Lmdsb2JhbHNpZ24uY29tL3JlcG9zaXRvcnkvMEQGA1UdHwQ9MDswOaA3oDWGM2h0dHA6Ly9jcmwuZ2xvYmFsc2lnbi5jb20vZ3NnY2NyNmFscGhhc3NsY2EyMDIzLmNybDAlBgNVHREEHjAcgg0qLmNtcml0LmFjLmluggtjbXJpdC5hYy5pbjAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwHwYDVR0jBBgwFoAUvQW384qTPHPLefoPhRKhd5YYkXQwHQYDVR0OBBYEFH91vEGPBIkO1T8MReGkuFX/FnrcMIIBfgYKKwYBBAHWeQIEAgSCAW4EggFqAWgAdgCvGBoo1oyj4KmKTJxnqwn4u7wiuq68sTijoZ3T+bYDDQAAAZCCJB9hAAAEAwBHMEUCIEzdfcYxt3sVFCvAlEEycslt5Quj2z+7UiyD0H4OtkvKAiEA2s+2wJCLEy70IHhpkS5ccU8Zv/DiAILAjVY050FlQbcAdgAS8U40vVNyTIQGGcOPP3oT+Oe1YoeInG0wBYTr5YYmOgAAAZCCJCAzAAAEAwBHMEUCIQCLevkz1jf7l6KOdB7IlBCTPYJ0AMA0YRno8Ej77uGCHwIgCtvw7SlLjLyPj7W6JIWks/jQyH3nNjSc1al+H9zhopsAdgDm0jFjQHeMwRBBBtdxuc7B0kD2loSG+7qHMh39HjeOUAAAAZCCJB9uAAAEAwBHMEUCIQDUCZ7J9gxk/d2qey/Dy+JRyDEjepJtLQcZ7SwsSji9XQIgT4e4gvh9pT75T0I5K9SFVQZIq8dPxLHtqoNqhovAhI0wDQYJKoZIhvcNAQELBQADggEBABj9saDa3J75nqrfOH/hJkGCJu/Qsb1BGLGe7ZTIXZt3ls7OxCfegQ69NtG+Wy+bBC1KDdwuAuek2XCc7Xf4ng1ke/aCgI1DBJwvMrlvhQH33rWMGUiuFkNe5SaMFeZJ7UBIYej4pVpw4uOTWuf4Molwj5gFxBTFf7wbCIFDstZOlRU1HHMVFwkWyILrMWA76IgPoFgCd0By/CSimC7UnFHAScb00couh3lIhn2srv0Wd4AzqJ7T8jliVagCwIf6ojmua6DMV6yuBFUMocLxlixAEiMxz3o4+uh8TOUYjJlsh9ARq0xdpQiP07P9d9hlJTB3RbOtAfAqnMhhgcWJAaJmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAAWQMIIFjDCCA3SgAwIBAgIQfx8skC6D0OO2+zvuR4tegDANBgkqhkiG9w0BAQsFADBMMSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSNjETMBEGA1UEChMKR2xvYmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjAeFw0yMzA3MTkwMzQzMjVaFw0yNjA3MTkwMDAwMDBaMFUxCzAJBgNVBAYTAkJFMRkwFwYDVQQKExBHbG9iYWxTaWduIG52LXNhMSswKQYDVQQDEyJHbG9iYWxTaWduIEdDQyBSNiBBbHBoYVNTTCBDQSAyMDIzMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA00Jvk5ADppO0rgDnj1M14XIb032Aas409JJFAb8cUjipFOth7ySLdaWLe3s63oSs5x3eWwzTpX4BFkzZbxT1eoJSHfT2M0wZ5QOPcCIjsr+YB8TAvV2yJSyq+emRrN/FtgCSTaWXSJ5jipW8SJ/VAuXPMzuAP2yYpuPcjjQ5GyrssDXgu+FhtYxqyFP7BSvx9jQhh5QV5zhLycuan8n+J0Uw09WRQK6JGQ5HzDZQinkNel+fZZNRG1gE9Qeh+tHBplrkalB1g85qJkPOJ7SoEvKsmDkajggk/sSq7NPyzFaa/VBGZiRRG+FkxCBniGD5618PQ4trcwHyMojSFObOHQIDAQABo4IBXzCCAVswDgYDVR0PAQH/BAQDAgGGMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjASBgNVHRMBAf8ECDAGAQH/AgEAMB0GA1UdDgQWBBS9BbfzipM8c8t5+g+FEqF3lhiRdDAfBgNVHSMEGDAWgBSubAWjkxPioufi1xzWx/B/yGdToDB7BggrBgEFBQcBAQRvMG0wLgYIKwYBBQUHMAGGImh0dHA6Ly9vY3NwMi5nbG9iYWxzaWduLmNvbS9yb290cjYwOwYIKwYBBQUHMAKGL2h0dHA6Ly9zZWN1cmUuZ2xvYmFsc2lnbi5jb20vY2FjZXJ0L3Jvb3QtcjYuY3J0MDYGA1UdHwQvMC0wK6ApoCeGJWh0dHA6Ly9jcmwuZ2xvYmFsc2lnbi5jb20vcm9vdC1yNi5jcmwwIQYDVR0gBBowGDAIBgZngQwBAgEwDAYKKwYBBAGgMgoBAzANBgkqhkiG9w0BAQsFAAOCAgEAfMkkMo5g4mn1ft4d4xR2kHzYpDukhC1XYPwfSZN3A9nEBadjdKZMH7iuS1vF8uScg26/30DRPen2fFRsr662ECyUCR4OfeiiGNdoQvcesM9Xpew3HLQP4qHg+s774hNLvGRD4aKSKwFqLMrcqCw6tEAfX99tFWsD4jzbC6k8tjSLzEl0fTUlfkJaWpvLVkpg9et8tD8d51bymCg5J6J6wcXpmsSGnksBobac1+nXmgB7jQC9edU8Z41FFo87BV3kCtrWWsdkQavObMsXUPl/AO8y/jOuAWz0wyvPnKom+o6W4vKDY6/6XPypNdebOJ6mjyaILp0quoQvhjx87BzENh5s57AIOyIGpS0sDEChVDPzLEfRsH2FJ8/W5woF0nvsBTqfYSCqblQbHeDDtCj7Mlf8JfqaMuqcbE4rMSyfeHyCdZQwnc/r9ujnth691AJhxyYeCM04metJIe7cB6d4dFm+Pd5ervY4x32r0uQ1Q0spy1VjNqUJjussYuXNyMmFHSuLQQ6PrePmH5lcSMQpYKzPoD/RiNVD/PK0O3vuO5vh3o7oKb1FfzoanDsFFTrw0aLOdRW/tmLPWVNVlAb8ad+B80YJsL4HXYnQG8wYAFb8LhwSDyT9v+C1C1lcIHE7nE0AAp9JSHxDYsma9pi4g0Phg3BgOm2euTRzw7R0SzVmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAAWHMIIFgzCCA2ugAwIBAgIORea7A4Mzw4VlSOb/RVEwDQYJKoZIhvcNAQEMBQAwTDEgMB4GA1UECxMXR2xvYmFsU2lnbiBSb290IENBIC0gUjYxEzARBgNVBAoTCkdsb2JhbFNpZ24xEzARBgNVBAMTCkdsb2JhbFNpZ24wHhcNMTQxMjEwMDAwMDAwWhcNMzQxMjEwMDAwMDAwWjBMMSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSNjETMBEGA1UEChMKR2xvYmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoCggIBAJUH6HPKZvnsFMp7PPcNCPG0RQssgrRIxutbPK6DuEGSMxSkb3/pKszGsIhrxbaJ0cay/xTOURQh7ErdG1rG1ofuTToVBu1kZguSgMpE3nOUTvOniX9PeGMIyBJQbUJmL025eShNUhqKGoC3GYEOfsSKvGRMIRxDaNc9PIrFsmbVkJq3MQbFvuJtMgamHvm566qjuL++gmNQ0PAYid/kD3n16qIfKtJwLnvnvJO7bVPiSHyMEAc4/2ayd2F+4OqMPKq0pPbzlUoSB239jLKJz9CgYXfIWHSw1CM69106yqLbnQneXUQtkPGBzVeS+n68UARjNN9rkxi+azayOeSsJDa38O+2HBNXk7besvjihbdzorg1qkXy4J02oW9UivFyVm4uiMVRQkQVlO6jxTiWm05OWgtH8wY2SXcwvHE35absIQh1/OZhFj931dmRl4QKbNQCTXTAFO39OfuD8l4UoQSwC+n+7o/hbguyCLNhZglqsQY6ZZZZwPA1/cnaKI0aEYdwgQqomnUdnjqGBQCe24DWJfncBZ4nWUx2OVvq+aWh2IMP0f/fMBH5hc8zSPXKbWQULHpYT9NLCEnFlWQaYw55PfWzjMpYrZxCRXluDocZXFSxZba/jJvcE+kNb7gu3GduyYsRtYQUigAZcIN5kZeR1BonvzceMgfYFGM8KEyvAgMBAAGjYzBhMA4GA1UdDwEB/wQEAwIBBjAPBgNVHRMBAf8EBTADAQH/MB0GA1UdDgQWBBSubAWjkxPioufi1xzWx/B/yGdToDAfBgNVHSMEGDAWgBSubAWjkxPioufi1xzWx/B/yGdToDANBgkqhkiG9w0BAQwFAAOCAgEAgyXt6NH9lVLNnsAEoJFp5lzQhN7craJP6Ed41mWYqVuoPId8AorRbrcWc+ZfwFSY1XS+wc3iEZGtIxg93eFyRJa0lV7Ae46ZeBZDE1ZXs6KzO7V33EByrKPrmzU+sQghoefEQzd5Mr6155wsTLxDKZmOMNOsIeDjHfrYBzN2VAAiKrlNIC5waNrlU/yDXNOd8v9EDERm8tLjvUYAGm0CuiVdjaExUd1URhxN25mW7xocBFymFe944Hn+Xds+qkxV/ZoVqW/hpvvfcDDpw+5CRu3CkwWJ+n1jez/QcYF8AOiYrg54NMMl+68KnyBr3TsTjxKM4kEaSHpzoHdpx7Zcf4LIHv5YGygrqGytXm3ABdJ7t+uA/iU3/gKbaKxCXcPu9czc8FB10jZpnOZ7BN9uBmm23goJSFmH63sUYHpkqmlD75HHTOwY3WzvUy2MmeFe8nI+z1TIvWfspA9MRf/TuTAjB0yPEL+GltmZWrSZVxykzLsViVO6LAUP5MSeGbEYNNVMnbrt9x+vJJUEeKgDu+6B5dpffItKoZB0JaezPkvILFa9x8jvOOJckvB595yEunQtYQEgfn7R8k8HWV+LLUNS60YMlOH1Zkd5d9VUWx+tJDfLRVpOoERIyNiwmcUVhAn21klJwGW45hpxbqCo8YLoRT5s1gLXCmeDBVrJpBAAAAABAAAAAAABAAAAAE10bHNmbGFnczB4MDAwMDAwMDA6ZXJwLmNtcml0LmFjLmluOjQ0M15wYXJ0aXRpb25LZXk9JTI4aHR0cHMlMkNjbXJpdC5hYy5pbiUyOQAA request-method GET response-head HTTP/1.1 200 
Date: Fri, 11 Apr 2025 08:08:01 GMT
Server: Apache/2.4.6 (CentOS) OpenSSL/1.0.2k-fips PHP/8.1.22
Strict-Transport-Security: max-age=63072000; includeSubdomains; preload
Permissions-Policy: geolocation=(),midi=(),microphone=(),camera=(),magnetometer=(),gyroscope=(),fullscreen=(self),payment=()
X-StackifyID: V1|234993b9-ecf1-adae-001f-25c6a7f9d766|
Accept-Ranges: bytes
ETag: W/"270931-1744298494000"
Last-Modified: Thu, 10 Apr 2025 15:21:34 GMT
Content-Type: application/javascript
Content-Length: 270931
X-Frame-Options: SAMEORIGIN
X-XSS-Protection: 1; mode=block
Referrer-Policy: same-origin
Feature-Policy: geolocation 'self'; vibrate 'none'
Access-Control-Allow-Headers: origin, x-requested-with, content-type
 original-response-headers Date: Fri, 11 Apr 2025 08:08:01 GMT
Server: Apache/2.4.6 (CentOS) OpenSSL/1.0.2k-fips PHP/8.1.22
Strict-Transport-Security: max-age=63072000; includeSubdomains; preload
Permissions-Policy: geolocation=(),midi=(),microphone=(),camera=(),magnetometer=(),gyroscope=(),fullscreen=(self),payment=()
X-StackifyID: V1|234993b9-ecf1-adae-001f-25c6a7f9d766|
Accept-Ranges: bytes
ETag: W/"270931-1744298494000"
Last-Modified: Thu, 10 Apr 2025 15:21:34 GMT
Content-Type: application/javascript
Content-Length: 270931
X-Frame-Options: SAMEORIGIN
X-XSS-Protection: 1; mode=block
Referrer-Policy: same-origin
Feature-Policy: geolocation 'self'; vibrate 'none'
Access-Control-Allow-Headers: origin, x-requested-with, content-type
Keep-Alive: timeout=5, max=97
Connection: Keep-Alive
 ctid 2 uncompressed-len 0 net-response-time-onstart 355 net-response-time-onstop 589 alt-data 1;270931,javascript/moz-script-bytecode-20250331133932-8l alt-data-from-child 1  + 